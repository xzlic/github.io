webpackJsonp([0],{643:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=a(54),i=(a.n(l),a(55)),s=a.n(i),o=a(18),m=(a.n(o),a(19)),u=a.n(m),d=a(13),p=(a.n(d),a(14)),h=a.n(p),f=a(9),I=(a.n(f),a(10)),E=a.n(I),C=a(0),N=a.n(C),S=a(6),g=a(16),y=a.n(g),v=a(8),T=a(648),D=a(201),G=(a.n(D),function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}()),k=function(e){function t(e){n(this,t);var a=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={AvgGrade:0,Grade1:0,Grade2:0,Grade3:0,Grade4:0},a.showSceneryList=a.showSceneryList.bind(a),a.showElementMarkerMap=a.showElementMarkerMap.bind(a),a}return r(t,e),G(t,[{key:"componentDidMount",value:function(){this.props.detailItem?this.startScoreAnimation(this.props.detailItem):this.loadData(),this.restoreScrollViewPosition()}},{key:"componentWillReceiveProps",value:function(e){e.detailItem!==this.props.detailItem&&e.detailItem&&this.startScoreAnimation(e.detailItem)}},{key:"render",value:function(){var e=this;return N.a.createElement("div",{className:"scenicDetail"},N.a.createElement(h.a,{mode:"dark",className:"navBar",rightContent:this.renderRightMenu(),icon:N.a.createElement(E.a,{type:"left"}),onLeftClick:function(){var t=e.props.match.params.code,a=e.props.dispatch;e.props.history.goBack(),a(Object(T.d)(t))}},"\u666f\u533a\u8be6\u60c5"),N.a.createElement(v.a,{ref:function(t){e.scrollView=t}},this.renderHeaderView(),this.renderBasicViews(),this.renderTicketListView(),this.renderOtherScenicView(),this.renderCommentView(),this.props.isFetching?N.a.createElement(u.a,{toast:!0,text:"Loading..."}):null))}},{key:"renderRightMenu",value:function(){return N.a.createElement("div",{className:"informationTitleRight"},N.a.createElement("img",{className:"informationTitleXX",src:a(57),alt:""}),N.a.createElement("img",{className:"informationTitleFX",src:a(58),alt:""}))}},{key:"renderTicketListView",value:function(){return N.a.createElement("div",null,N.a.createElement("div",{className:"scenicDetailTitleRow"},N.a.createElement("div",{className:"scenicDetailTitleLabel"},"\u8d2d\u7968"),N.a.createElement("div",{className:"scenicDetailTitleRight"},"\u67e5\u770b\u5168\u90e8 >")),this.renderTicketItemView(),this.renderTicketItemView(),N.a.createElement("div",{className:"scenicDetailSpace"}))}},{key:"renderTicketItemView",value:function(){return N.a.createElement("div",null,N.a.createElement("div",{className:"ticketItemRow"},N.a.createElement("div",{className:"ticketItemLeft"},N.a.createElement("div",{className:"ticketItemName"},"\u9ec4\u679c\u6811\u4e00\u65e5\u6e38\uff08\u95e8\u7968+\u89c2\u5149\u8f66\uff09+\u5947\u77f3\u9986\u666f\u533a\uff08\u95e8\u7968\uff09\u6210\u4eba\u5957\u7968"),N.a.createElement("div",{className:"ticketItemdes"},"\u7968\u578b\u8bf4\u660e >")),N.a.createElement("div",{className:"ticketItemRight"},N.a.createElement("div",{className:"ticketItemPrice"},N.a.createElement("div",{className:"ticketItemPriceValue"},"\xa5238"),N.a.createElement("div",{className:"ticketItemPriceLabel"},"\u8d77")),N.a.createElement("div",{className:"ticketItemButton"},"\u9884\u8ba2"))))}},{key:"renderHeaderView",value:function(){return this.props.detailItem?N.a.createElement("div",{className:"scenicDetailHeader"},this.renderHeaderImages(),N.a.createElement("div",{className:"scenicDetailHeaderImgLength"},"\u5171"+this.props.detailItem.GetImage.ImageList.length+"\u5f20\u56fe")):null}},{key:"renderHeaderImages",value:function(){return this.props.detailItem&&this.props.detailItem.GetImage&&this.props.detailItem.GetImage.ImageList&&0!==this.props.detailItem.GetImage.ImageList.length?N.a.createElement(s.a,{className:"scenicDetailHeaderImgSlider",autoplay:!0,dots:!1,swiping:!0,infinite:!0,selectedIndex:0,swipeSpeed:35},this.props.detailItem.GetImage.ImageList.map(function(e,t){return N.a.createElement("div",{key:t,className:"scenicDetailHeaderImg",style:{backgroundImage:"url("+e.ImgSrc+")"}})})):null}},{key:"renderBasicViews",value:function(){if(!this.props.detailItem)return null;var e=this.props.detailItem.Zdxmc.length;return N.a.createElement("div",{className:"scenicDetailInfoRows"},N.a.createElement("div",{className:"scenicDetailInfoName"},this.props.detailItem.CnName),N.a.createElement("div",{className:"scenicDetailInfostars"},new Array(e).fill(0).map(function(e,t){return N.a.createElement("span",{key:t},"A")})),N.a.createElement("div",{className:"scenicMarkAndComment"},N.a.createElement("span",{className:"scenicMark"},"4.8"),N.a.createElement("span",{className:"scenicCommentNum"},"\u5206 (1136\u6761\u8bc4\u8bba)")),N.a.createElement("div",{className:"scenicDetailInfoRow"},N.a.createElement("img",{className:"scenicDetailInfoIcon",src:a(204),alt:""}),N.a.createElement("div",{className:"scenicDetailInfoLabel"},this.props.detailItem.Address),N.a.createElement("div",{className:"scenicDetailInfoRight"},"\u67e5\u770b\u5730\u56fe >")),N.a.createElement("div",{className:"scenicDetailInfoRow"},N.a.createElement("img",{className:"scenicDetailInfoIcon",src:a(649),alt:""}),N.a.createElement("div",{className:"scenicDetailInfoLabel"},"\u666f\u70b9\u4ecb\u7ecd"),N.a.createElement("div",{className:"scenicDetailInfoRight"},">")),N.a.createElement("div",{className:"scenicDetailInfoRow"},N.a.createElement("img",{className:"scenicDetailInfoIcon",src:a(646),alt:""}),N.a.createElement("div",{className:"scenicDetailInfoLabel"},"\u5f00\u653e\u65f6\u95f4:"+this.props.detailItem.Businestime),N.a.createElement("div",{className:"scenicDetailInfoRight"},">")),N.a.createElement("div",{className:"scenicDetailInfoRow"},N.a.createElement("img",{className:"scenicDetailInfoIcon",src:a(646),alt:""}),N.a.createElement("div",{className:"scenicDetailInfoLabel"},"\u6e38\u73a9\u987b\u77e5"),N.a.createElement("div",{className:"scenicDetailInfoRight"},">")),N.a.createElement("div",{className:"scenicDetailSpace"}))}},{key:"renderOtherScenicView",value:function(){var e="http://103.10.86.241:8081/Attachment/default/Small/2017/8/10/201708101709158073234.jpg";return N.a.createElement("div",null,N.a.createElement("div",{className:"scenicDetailTitleRow"},N.a.createElement("div",{className:"scenicDetailTitleLabel"},"\u5468\u8fb9\u666f\u70b9"),N.a.createElement("div",{className:"scenicDetailTitleRight"},"\u67e5\u770b\u5168\u90e8 >")),N.a.createElement("div",{className:"otherScenicItems"},N.a.createElement("div",{className:"otherScenicItem"},N.a.createElement("div",{className:"otherScenicItemImg",style:{backgroundImage:"url("+e+")"}}),N.a.createElement("div",{className:"otherScenicName"},"\u9f99\u5bab\u98ce\u666f\u540d\u80dc\u533a"),N.a.createElement("div",{className:"otherScenicDistanceLayout"},N.a.createElement("img",{style:{width:"12px",height:"15px"},src:a(644),alt:""}),N.a.createElement("div",{className:"otherScenicDistance"},"29.6\u5343\u7c73"))),N.a.createElement("div",{className:"otherScenicItem"},N.a.createElement("div",{className:"otherScenicItemImg",style:{backgroundImage:"url("+e+")"}}),N.a.createElement("div",{className:"otherScenicName"},"\u9f99\u5bab\u98ce\u666f\u540d\u80dc\u533a"),N.a.createElement("div",{className:"otherScenicDistanceLayout"},N.a.createElement("img",{style:{width:"12px",height:"15px"},src:a(644),alt:""}),N.a.createElement("div",{className:"otherScenicDistance"},"29.6\u5343\u7c73"))),N.a.createElement("div",{className:"otherScenicItem"},N.a.createElement("div",{className:"otherScenicItemImg",style:{backgroundImage:"url("+e+")"}}),N.a.createElement("div",{className:"otherScenicName"},"\u9f99\u5bab\u98ce\u666f\u540d\u80dc\u533a"),N.a.createElement("div",{className:"otherScenicDistanceLayout"},N.a.createElement("img",{style:{width:"12px",height:"15px"},src:a(644),alt:""}),N.a.createElement("div",{className:"otherScenicDistance"},"29.6\u5343\u7c73")))),N.a.createElement("div",{className:"scenicDetailSpace"}))}},{key:"renderCommentView",value:function(){var e=this,t=[{label:"\u7269\u8d85\u6240\u503c 3213"},{label:"\u7f8e\u4e0d\u80dc\u6536 815"},{label:"\u7a7a\u6c14\u65b0\u9c9c 7321"},{label:"\u4f53\u9a8c\u4e0d\u9519 321"},{label:"\u4eba\u6c14\u51b7\u6e05 39"},{label:"\u5168\u90e8 11226"}],a={status:"0",message:"\u7ed3\u679c\u8fd4\u56de\u6210\u529f\uff01",total:0,results:{PageIndex:1,PageSize:10,TotalCount:11,DataList:[{UsefulCount:3,ID:164,CommentKey:null,recommend:!0,isAudit:!0,CommentType:7,OrderNo:null,UserId:"336",CommentContent:"\u767e\u5ce1\u5343\u77f3\uff0c\u73af\u5883\u4f18\u7f8e\u3002\u63a8\u8350\u5927\u5bb6\u53bb\u611f\u53d7\u4e00\u4e0b\u5927\u81ea\u7136\u7684\u9b3c\u65a7\u795e\u5de5\uff01",CoomentDate:"2017-07-08 08:48:56",IsFeedBack:1,FeedBackPerson:"1",FeedBackContent:"\u8fd9\u662f\u60a8\u6e38\u73a9\u7684\u5fc3\u5f97\u5427\uff01",FeedBackDate:"2017-07-08 08:48:27",Grade1:5,Grade2:5,Grade3:5,Grade4:5,ProductNo:null,ShopNo:"JQ130600000006",ColligationScore:null,ScoreType:0,GetUser:{ID:336,Nickname:"\u65c5\u884chappy",Name:"\u65c5\u6e38SKY",PhoneNumber:"15927459985",Pwd:"111111",Email:"645195985@qq.com",Sex:!1,Birthday:"2017-05-31",Phone:"15927459985",City:"110000-110100-110114",Status:0,UserDiscount:0,CreateTime:"2017/5/17 10:57:00",CardNo:"429001198512218038",CityName:"\u6b66\u6c49\u5e02\u516c\u5b89\u5c40",UserAvatar:"http://test.hbysp.cn/Attachment/default/Small/2017/6/13/201706131625217102893.png",UserGuid:"f9e7f949-bbf4-44de-a1fb-bc9557c37fc9",DeviceNo:null,RongCloudToken:null,GetUserComment:null,GetUserTourPlan:null,GetUserCollect:null,ScorePlus:null,ScoreMinus:null,ScoreCurrent:"11685.00",OrderCount:null},GetUserTag:[],GetUserPic:[]},{UsefulCount:1,ID:161,CommentKey:"",recommend:!0,isAudit:!0,CommentType:0,OrderNo:"201706220945033946649",UserId:"115",CommentContent:"\u73af\u5883\u4e0d\u9519\uff0c\u9002\u5408\u907f\u6691",CoomentDate:"2017-06-22 14:37:51",IsFeedBack:null,FeedBackPerson:null,FeedBackContent:null,FeedBackDate:null,Grade1:5,Grade2:5,Grade3:5,Grade4:5,ProductNo:"ST_2017052615538",ShopNo:"JQ130600000006",ColligationScore:null,ScoreType:0,GetUser:{ID:115,Nickname:" - Fu - ",Name:"-F-R-Q-",PhoneNumber:"15527485971",Pwd:"121212",Email:"rqfua@isoftstone.com",Sex:!1,Birthday:"2000-1-1",Phone:"15527485971",City:"510000-513400-513401",Status:0,UserDiscount:0,CreateTime:"2016/5/25 10:39:25",CardNo:null,CityName:"\u6b66\u6c49\u5e02",UserAvatar:"http://test.hbysp.cn/Attachment/default/Small/2017/6/16/201706161723282983640.jpg",UserGuid:null,DeviceNo:null,RongCloudToken:null,GetUserComment:null,GetUserTourPlan:null,GetUserCollect:null,ScorePlus:null,ScoreMinus:null,ScoreCurrent:"2530.00",OrderCount:null},GetUserTag:[],GetUserPic:[]},{UsefulCount:2,ID:153,CommentKey:"\u503c\u5f97\u4e00\u53bb",recommend:!0,isAudit:!0,CommentType:0,OrderNo:"201705270047196831024720170528",UserId:"121",CommentContent:"\u666f\u8272\u6e05\u5e7d\uff0c\u503c\u5f97\u4e00\u53bb",CoomentDate:"2017-06-12 10:46:47",IsFeedBack:null,FeedBackPerson:null,FeedBackContent:null,FeedBackDate:null,Grade1:5,Grade2:5,Grade3:5,Grade4:5,ProductNo:"ST_20170526145917",ShopNo:"JQ130600000006",ColligationScore:null,ScoreType:0,GetUser:{ID:121,Nickname:"186****1378",Name:"\u4f5a\u540d",PhoneNumber:"18627721378",Pwd:"123456",Email:null,Sex:!1,Birthday:"2017-06-09",Phone:"18627721378",City:null,Status:0,UserDiscount:0,CreateTime:"2016/6/2 14:18:39",CardNo:null,CityName:null,UserAvatar:"http://test.hbysp.cn/Attachment/default/Small/2017/3/16/201703161954219505078.jpg",UserGuid:null,DeviceNo:null,RongCloudToken:null,GetUserComment:null,GetUserTourPlan:null,GetUserCollect:null,ScorePlus:null,ScoreMinus:null,ScoreCurrent:"1910.00",OrderCount:null},GetUserTag:[{ProduceTagID:1,UTID:null,CommentID:153,GetTagName:"\u503c\u5f97\u4e00\u53bb"}],GetUserPic:[{PicID:"15138",PicName:"201706121046291955991.jpg",ImgSrc:"http://test.hbysp.cn/Attachment/default/Source/2017/6/12/201706121046291955991.jpg",BigImgSrc:"http://test.hbysp.cn/Attachment/default/Large/2017/6/12/201706121046291955991.jpg",MiddleImgSrc:"http://test.hbysp.cn/Attachment/default/Middle/2017/6/12/201706121046291955991.jpg",SmallImgSrc:"http://test.hbysp.cn/Attachment/default/Small/2017/6/12/201706121046291955991.jpg",ImgTitle:null,Url:null,Description:"",TableName:"WEB_B2C_Comment",TableCode:"153",Sort:1},{PicID:"15139",PicName:"201706121046422247494.jpg",ImgSrc:"http://test.hbysp.cn/Attachment/default/Source/2017/6/12/201706121046422247494.jpg",BigImgSrc:"http://test.hbysp.cn/Attachment/default/Large/2017/6/12/201706121046422247494.jpg",MiddleImgSrc:"http://test.hbysp.cn/Attachment/default/Middle/2017/6/12/201706121046422247494.jpg",SmallImgSrc:"http://test.hbysp.cn/Attachment/default/Small/2017/6/12/201706121046422247494.jpg",ImgTitle:null,Url:null,Description:"",TableName:"WEB_B2C_Comment",TableCode:"153",Sort:2}]},{UsefulCount:1,ID:151,CommentKey:"\u503c\u5f97\u4e00\u53bb",recommend:!0,isAudit:!0,CommentType:0,OrderNo:"201706091514437922933",UserId:"115",CommentContent:"\u4e0d\u9519",CoomentDate:"2017-06-12 10:33:27",IsFeedBack:null,FeedBackPerson:null,FeedBackContent:null,FeedBackDate:null,Grade1:5,Grade2:5,Grade3:5,Grade4:5,ProductNo:"ST_20170526155527",ShopNo:"JQ130600000006",ColligationScore:null,ScoreType:0,GetUser:{ID:115,Nickname:" - Fu - ",Name:"-F-R-Q-",PhoneNumber:"15527485971",Pwd:"121212",Email:"rqfua@isoftstone.com",Sex:!1,Birthday:"2000-1-1",Phone:"15527485971",City:"510000-513400-513401",Status:0,UserDiscount:0,CreateTime:"2016/5/25 10:39:25",CardNo:null,CityName:"\u6b66\u6c49\u5e02",UserAvatar:"http://test.hbysp.cn/Attachment/default/Small/2017/6/16/201706161723282983640.jpg",UserGuid:null,DeviceNo:null,RongCloudToken:null,GetUserComment:null,GetUserTourPlan:null,GetUserCollect:null,ScorePlus:null,ScoreMinus:null,ScoreCurrent:"2530.00",OrderCount:null},GetUserTag:[{ProduceTagID:1,UTID:null,CommentID:151,GetTagName:"\u503c\u5f97\u4e00\u53bb"}],GetUserPic:[{PicID:"15136",PicName:"201706121033227776058.jpg",ImgSrc:"http://test.hbysp.cn/Attachment/default/Source/2017/6/12/201706121033227776058.jpg",BigImgSrc:"http://test.hbysp.cn/Attachment/default/Large/2017/6/12/201706121033227776058.jpg",MiddleImgSrc:"http://test.hbysp.cn/Attachment/default/Middle/2017/6/12/201706121033227776058.jpg",SmallImgSrc:"http://test.hbysp.cn/Attachment/default/Small/2017/6/12/201706121033227776058.jpg",ImgTitle:null,Url:null,Description:"",TableName:"WEB_B2C_Comment",TableCode:"151",Sort:1}]},{UsefulCount:1,ID:135,CommentKey:"\u503c\u5f97\u4e00\u53bb,\u597d\u5730\u65b9",recommend:!0,isAudit:!0,CommentType:0,OrderNo:"201607140854050315398",UserId:"1",CommentContent:"\u767e\u91cc\u957f\u5ce1\uff0c\u5e7d\u6df1\u5947\u7279\uff0c\u786e\u5b9e\u5f88\u4e0d\u9519\uff01",CoomentDate:"2017-05-19 17:15:37",IsFeedBack:null,FeedBackPerson:null,FeedBackContent:null,FeedBackDate:null,Grade1:5,Grade2:5,Grade3:5,Grade4:5,ProductNo:"ST_20160616182421",ShopNo:"JQ130600000006",ColligationScore:null,ScoreType:0,GetUser:{ID:1,Nickname:"W.S.Liu",Name:"\u6d4b\u8bd5",PhoneNumber:"18627972347",Pwd:"123456",Email:"wsliu@isoftstone.com",Sex:!0,Birthday:"1985-8-5",Phone:"18627972347",City:"420000-420100-420111",Status:0,UserDiscount:0,CreateTime:"2016/2/17 23:38:45",CardNo:"422281198508152255",CityName:"\u6b66\u6c49\u5e02",UserAvatar:"http://test.hbysp.cn/Attachment/default/Small/2017/2/10/2017021016060078607.jpg",UserGuid:null,DeviceNo:null,RongCloudToken:null,GetUserComment:null,GetUserTourPlan:null,GetUserCollect:null,ScorePlus:null,ScoreMinus:null,ScoreCurrent:"890.00",OrderCount:null},GetUserTag:[{ProduceTagID:1,UTID:null,CommentID:135,GetTagName:"\u503c\u5f97\u4e00\u53bb"},{ProduceTagID:2,UTID:null,CommentID:135,GetTagName:"\u597d\u5730\u65b9"}],GetUserPic:[{PicID:"15423",PicName:"201706211136286144953.jpg",ImgSrc:"http://test.hbysp.cn/Attachment/default/Source/2017/6/21/201706211136286144953.jpg",BigImgSrc:"http://test.hbysp.cn/Attachment/default/Large/2017/6/21/201706211136286144953.jpg",MiddleImgSrc:"http://test.hbysp.cn/Attachment/default/Middle/2017/6/21/201706211136286144953.jpg",SmallImgSrc:"http://test.hbysp.cn/Attachment/default/Small/2017/6/21/201706211136286144953.jpg",ImgTitle:null,Url:null,Description:"",TableName:"WEB_B2C_Comment",TableCode:"135",Sort:1}]}]}};return N.a.createElement("div",null,N.a.createElement("div",{className:"scenicDetailTitleRow"},N.a.createElement("div",{className:"scenicDetailTitleLabel"},"\u987e\u5ba2\u8bc4\u8bba")),N.a.createElement("div",{className:"checkBoxView",style:{backgroundColor:"#ffffff"}},t.map(function(e,t){return N.a.createElement("div",{key:t,className:"label"},e.label)})),a.results.DataList.map(function(t,a){return e.renderCommentRow(t,a)}),this.renderCommentInputView())}},{key:"renderCommentRow",value:function(e,t){var a=this,n=e.GetUser.UserAvatar;return N.a.createElement("div",{key:t,className:"informationCommentListItem",onClick:function(){a.props.onItemClick&&a.props.onItemClick(e)}},N.a.createElement("div",{style:{backgroundImage:"url("+n+")"},className:"informationCommentListItemImg"}),N.a.createElement("div",{className:"informationCommentListItemTextBox"},N.a.createElement("div",{className:"informationCommentListItemTitle"},e.GetUser.Nickname),N.a.createElement("div",{className:"informationCommentListItemContent"},e.CommentContent),N.a.createElement("div",{className:"informationCommentListItemTime"},e.CoomentDate)))}},{key:"renderCommentInputView",value:function(){return N.a.createElement("div",{className:"informationCommentBottom"},N.a.createElement("div",{className:"informationCommentBottomLeft"},N.a.createElement("img",{className:"informationCommentFB",src:a(59),alt:""}),N.a.createElement("input",{className:"informationCommentInput",placeholder:"\u5199\u8bc4\u8bba"})),N.a.createElement("div",{className:"informationCommentBottomRight"},"\u8bc4\u8bba"))}},{key:"renderSceneryListView",value:function(){var e=this;return this.props.sceneryList&&0!==this.props.sceneryList.length?N.a.createElement("div",null,N.a.createElement("div",{className:"sceneryListSplitLine"}),N.a.createElement("div",{className:"sceneryTitleBox"},N.a.createElement("div",{className:"scenicDetailInfoLabel"},"\u5b50\u666f\u70b9"),N.a.createElement("div",{style:{flex:1}}),N.a.createElement("div",{className:"sceneryListMoreView",onClick:this.showSceneryList},"\u66f4\u591a ",N.a.createElement("img",{src:a(650),alt:""}))),N.a.createElement("div",{className:"sceneryListBox"},this.props.sceneryList.map(function(t,a){return e.renderSceneryView(a)}))):null}},{key:"renderSceneryView",value:function(e){var t=this;if(e>=10)return null;var a=this.props.sceneryList[e],n=a.GetImage?a.GetImage.ImageFrontUrl:"";return N.a.createElement("div",{key:e,className:"sceneryItemView",onClick:function(){t.showSceneryDetail(e)}},N.a.createElement("img",{className:"sceneryItemImg",src:n,alt:""}),N.a.createElement("div",{className:"sceneryItemName"},a.CnName))}},{key:"loadData",value:function(){var e=this;this.props.dispatch(Object(T.a)(this.props.match.params.code)).then(function(){return e.props.dispatch(Object(T.c)(e.props.match.params.code))}).then(function(){return e.props.dispatch(Object(T.b)(e.props.match.params.code))})}},{key:"cacheScrollOffset",value:function(){var e=y.a.findDOMNode(this.scrollView).scrollTop;this.props.dispatch(Object(T.e)(this.props.match.params.code,e))}},{key:"restoreScrollViewPosition",value:function(){this.scrollView&&(isNaN(this.props.scrollViewOffset)?this.scrollView.scrollToY(0):this.scrollView.scrollToY(this.props.scrollViewOffset))}},{key:"showSceneryList",value:function(){this.cacheScrollOffset(),this.props.history.push("/scenic/scenery-list/"+this.props.match.params.code)}},{key:"showSceneryDetail",value:function(e){var t=this.props.sceneryList[e];this.cacheScrollOffset(),this.props.history.push("/scenic/scenery-detail/"+this.props.match.params.code+"/"+t.Code)}},{key:"startScoreAnimation",value:function(e){var t=this;setTimeout(function(){t.setState({AvgGrade:e.AvgGrade?e.AvgGrade:3,Grade1:e.Grade1?e.Grade1:3,Grade2:e.Grade2?e.Grade2:3,Grade3:e.Grade3?e.Grade3:3,Grade4:e.Grade4?e.Grade4:3})},700)}},{key:"showElementMarkerMap",value:function(){this.cacheScrollOffset();var e=this.props.detailItem;this.props.history.push("/map/elementMarker/"+this.props.match.params.code+"/"+e.CnName+"/"+e.Address+"/"+e.Latitude+"/"+e.Longitude)}}]),t}(C.Component),b=function(e,t){var a=e.scenic.detailScreen[t.match.params.code];return Object.assign({},a)};k=Object(S.b)(b)(k),t.default=k},644:function(e,t,a){e.exports=a.p+"static/media/icon_ms_dt.fb851956.png"},646:function(e,t,a){e.exports=a.p+"static/media/icon_hd_s.2dbf503c.png"},648:function(e,t,a){"use strict";function n(e){return{type:S.c.SCENIC.DETAIL.GO_BACK,code:e}}function c(e){return function(t,a){return t(E(e)),I(e).then(function(a){a=a&&a.results&&a.results.length>0?a.results[0]:a,t(C(e,a))}).catch(function(a){t(N(e,a))})}}function r(e){return function(t,a){return t(p(e)),d(e).then(function(a){a=a?a.results:[],t(h(e,a))}).catch(function(a){t(f(e,a))})}}function l(e){return function(t,a){return t(o(e)),s(e).then(function(a){a=a?a.results:[],t(m(e,a))}).catch(function(a){t(u(e,a))})}}function i(e,t){return{type:S.c.SCENIC.DETAIL.SET_DETAIL_SCROLL_OFFSET,code:e,scrollViewOffset:t}}function s(e){var t=g.a.HOST_E_BUSINESS+"/api/Attractions/GetSceneryList",a={type:"app",Code:e};return g.a.getData(t,a).then(function(e){return e.json()})}function o(e){return{type:S.c.SCENIC.DETAIL.GET_SCENERY_LIST_REQUEST,code:e}}function m(e,t){return{type:S.c.SCENIC.DETAIL.GET_SCENERY_LIST_SUCCESS,code:e,sceneryList:t}}function u(e,t){return{type:S.c.SCENIC.DETAIL.GET_SCENERY_LIST_FAILURE,code:e,message:t}}function d(e){var t=g.a.HOST_E_BUSINESS+"/api/Attractions/GetTicketList",a=new Date,n=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate(),c={type:"app",Code:e,selecttime:n};return g.a.getData(t,c).then(function(e){return e.json()})}function p(e){return{type:S.c.SCENIC.DETAIL.GET_TICKET_LIST_REQUEST,code:e}}function h(e,t){return{type:S.c.SCENIC.DETAIL.GET_TICKET_LIST_SUCCESS,code:e,ticketList:t}}function f(e,t){return{type:S.c.SCENIC.DETAIL.GET_TICKET_LIST_FAILURE,code:e,message:t}}function I(e){var t={type:"app",Code:e};return g.a.getData("http://103.10.86.241:8091/api/Attractions/GetAttractionsDetail",t).then(function(e){return e.json()})}function E(e){return{type:S.c.SCENIC.DETAIL.GET_DETAIL_REQUEST,code:e}}function C(e,t){return{type:S.c.SCENIC.DETAIL.GET_DETAIL_SUCCESS,code:e,detailItem:t}}function N(e,t){return{type:S.c.SCENIC.DETAIL.GET_DETAIL_FAILURE,code:e,message:t}}t.d=n,t.a=c,t.c=r,t.b=l,t.e=i;var S=a(1),g=a(15)},649:function(e,t,a){e.exports=a.p+"static/media/icon_shan_q.fac4203f.png"},650:function(e,t,a){e.exports=a.p+"static/media/more@2x.19f5c55a.png"}});
//# sourceMappingURL=0.fb1f4df8.chunk.js.map