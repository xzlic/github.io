{"version":3,"sources":["../static/js/1.f87112fe.chunk.js","screens/scenic/ScenicListScreen.js","store/actions/scenic/listAction.js","views/scenic/ScenicListView.js"],"names":["webpackJsonp","642","module","__webpack_exports__","__webpack_require__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","__WEBPACK_IMPORTED_MODULE_0_antd_mobile_lib_tabs_style_css__","__WEBPACK_IMPORTED_MODULE_1_antd_mobile_lib_tabs__","n","__WEBPACK_IMPORTED_MODULE_1_antd_mobile_lib_tabs___default","__WEBPACK_IMPORTED_MODULE_2_antd_mobile_lib_nav_bar_style_css__","__WEBPACK_IMPORTED_MODULE_3_antd_mobile_lib_nav_bar__","__WEBPACK_IMPORTED_MODULE_3_antd_mobile_lib_nav_bar___default","__WEBPACK_IMPORTED_MODULE_4_antd_mobile_lib_segmented_control_style_css__","__WEBPACK_IMPORTED_MODULE_5_antd_mobile_lib_segmented_control__","__WEBPACK_IMPORTED_MODULE_5_antd_mobile_lib_segmented_control___default","__WEBPACK_IMPORTED_MODULE_6_antd_mobile_lib_icon_style_css__","__WEBPACK_IMPORTED_MODULE_7_antd_mobile_lib_icon__","__WEBPACK_IMPORTED_MODULE_7_antd_mobile_lib_icon___default","__WEBPACK_IMPORTED_MODULE_8_react__","__WEBPACK_IMPORTED_MODULE_8_react___default","__WEBPACK_IMPORTED_MODULE_9_react_redux__","__WEBPACK_IMPORTED_MODULE_10__views_common_Content__","__WEBPACK_IMPORTED_MODULE_11__views_scenic_ScenicListView__","__WEBPACK_IMPORTED_MODULE_12__core_utils_UIUtil__","__WEBPACK_IMPORTED_MODULE_13__store_actions_scenic_listAction__","__WEBPACK_IMPORTED_MODULE_14_query_string__","__WEBPACK_IMPORTED_MODULE_14_query_string___default","__WEBPACK_IMPORTED_MODULE_15__assets_css_scenic_css__","_createClass","defineProperties","target","props","i","length","descriptor","key","protoProps","staticProps","ScenicListScreen","_Component","this","_this","getPrototypeOf","tabs","title","tabIndex","onItemClick","bind","goBack","_this2","tabHeight","window","innerHeight","listViewHeight","urlSearch","a","parse","location","search","createElement","mode","className","icon","type","onLeftClick","segment","values","tintColor","selectedIndex","onValueChange","ref","updateComponentHeight","style","height","initialPage","selectedTabIndex","prerenderingSiblingsNumber","onChange","tab","index","dispatch","searchByKeyword","keyword","onTabClick","console","log","map","item","listView","getWrappedInstance","arguments","undefined","cacheScrollOffset","history","push","Code","mapStateToProps","state","scenic","listScreen","645","setSelectedTabIndexAction","__WEBPACK_IMPORTED_MODULE_0__core_utils_IConstant__","SCENIC","LIST","SET_SELECTED_TAB_INDEX","asyncGetListAction","orderFiled","orderType","pageIndex","searchKey","extraParams","getState","_getListRequestAction","_fetchList","then","resp","_getListSuccessAction","catch","error","_getListFailureAction","goBackAction","GO_BACK","asyncDeleteListAction","deleteListAction","Promise","resolve","DELETE","setKeywordAction","SET_KEYWORD","setScrollerPositionAction","offset","SET_LISTVIEW_OFFSET","listViewOffset","conditionParams","__WEBPACK_IMPORTED_MODULE_1__core_utils_HttpClient__","HOST_MAIN","Order","OrderField","OrderType","Page","PageIndex","PageSize","SearchField","ConditionType","ListSearchValue","ItemValue","Search","reject","setTimeout","status","message","total","results","CnName","Summary","Address","ColligationScore","Distance","Zdxmc","Longitude","Latitude","PX","OrderNum","Price","GetImage","ImageFrontUrl","ImageList","GET_LIST_REQUEST","result","GET_LIST_SUCCESS","GET_LIST_FAILURE","647","__WEBPACK_IMPORTED_MODULE_0_antd_mobile_lib_pull_to_refresh_style_css__","__WEBPACK_IMPORTED_MODULE_1_antd_mobile_lib_pull_to_refresh__","__WEBPACK_IMPORTED_MODULE_1_antd_mobile_lib_pull_to_refresh___default","__WEBPACK_IMPORTED_MODULE_2_antd_mobile_lib_activity_indicator_style_css__","__WEBPACK_IMPORTED_MODULE_3_antd_mobile_lib_activity_indicator__","__WEBPACK_IMPORTED_MODULE_3_antd_mobile_lib_activity_indicator___default","__WEBPACK_IMPORTED_MODULE_4_antd_mobile_lib_list_view_style_css__","__WEBPACK_IMPORTED_MODULE_5_antd_mobile_lib_list_view__","__WEBPACK_IMPORTED_MODULE_5_antd_mobile_lib_list_view___default","__WEBPACK_IMPORTED_MODULE_6_react__","__WEBPACK_IMPORTED_MODULE_6_react___default","__WEBPACK_IMPORTED_MODULE_7_react_redux__","__WEBPACK_IMPORTED_MODULE_8_prop_types__","__WEBPACK_IMPORTED_MODULE_8_prop_types___default","__WEBPACK_IMPORTED_MODULE_9_react_dom__","__WEBPACK_IMPORTED_MODULE_9_react_dom___default","__WEBPACK_IMPORTED_MODULE_10__store_actions_scenic_listAction__","__WEBPACK_IMPORTED_MODULE_11__core_utils_UIUtil__","__WEBPACK_IMPORTED_MODULE_12__core_utils_SysUtil__","__WEBPACK_IMPORTED_MODULE_13__views_common_EmptyView__","sortFields","sortTypes","ScenicListView","renderRow","onRefresh","loadNextPage","renderFooter","dataSource","DataSource","rowHasChanged","row1","row2","sectionHeaderHasChanged","s1","s2","cloneWithRows","dataList","loadData","inputKeyword","isNaN","scrollTo","nextProps","setState","renderListView","isFetching","onClick","toast","text","_this3","separator","sectionID","rowID","borderBottom","el","fixListViewHeightIssue","renderSeparator","overflow","pullToRefresh","refreshing","onEndReached","initialListSize","pageSize","scrollRenderAheadDistance","scrollEventThrottle","onEndReachedThreshold","isEmptyString","str","_this4","getExtraParams","hasMore","_this5","imgUrl","backgroundImage","toFixed","offsetY","findDOMNode","scrollTop","storeKey","propTypes","func","ownProps","storeItem","getStoreItemByDotConnector","obj","groups","assign","withRef"],"mappings":"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","file":"static/js/1.f87112fe.chunk.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 642:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_antd_mobile_lib_tabs_style_css__ = __webpack_require__(34);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_antd_mobile_lib_tabs_style_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_antd_mobile_lib_tabs_style_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_antd_mobile_lib_tabs__ = __webpack_require__(35);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_antd_mobile_lib_tabs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_antd_mobile_lib_tabs__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_antd_mobile_lib_nav_bar_style_css__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_antd_mobile_lib_nav_bar_style_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_antd_mobile_lib_nav_bar_style_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_antd_mobile_lib_nav_bar__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_antd_mobile_lib_nav_bar___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_antd_mobile_lib_nav_bar__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_antd_mobile_lib_segmented_control_style_css__ = __webpack_require__(202);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_antd_mobile_lib_segmented_control_style_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_antd_mobile_lib_segmented_control_style_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_antd_mobile_lib_segmented_control__ = __webpack_require__(203);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_antd_mobile_lib_segmented_control___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_antd_mobile_lib_segmented_control__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_antd_mobile_lib_icon_style_css__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_antd_mobile_lib_icon_style_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_antd_mobile_lib_icon_style_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_antd_mobile_lib_icon__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_antd_mobile_lib_icon___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_antd_mobile_lib_icon__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_react_redux__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__views_common_Content__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__views_scenic_ScenicListView__ = __webpack_require__(647);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__core_utils_UIUtil__ = __webpack_require__(20);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__store_actions_scenic_listAction__ = __webpack_require__(645);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14_query_string__ = __webpack_require__(56);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14_query_string___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_14_query_string__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__assets_css_scenic_css__ = __webpack_require__(201);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__assets_css_scenic_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_15__assets_css_scenic_css__);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var ScenicListScreen=function(_Component){_inherits(ScenicListScreen,_Component);function ScenicListScreen(props){_classCallCheck(this,ScenicListScreen);var _this=_possibleConstructorReturn(this,(ScenicListScreen.__proto__||Object.getPrototypeOf(ScenicListScreen)).call(this,props));_this.tabs=[{title:'人气最高',tabIndex:0},{title:'距离最近',tabIndex:1},{title:'筛选',tabIndex:2}];_this.onItemClick=_this.onItemClick.bind(_this);_this.goBack=_this.goBack.bind(_this);return _this;}_createClass(ScenicListScreen,[{key:'render',value:function render(){var _this2=this;var tabHeight=window.innerHeight-(45+44);var listViewHeight=window.innerHeight-(45+44+44);var urlSearch=__WEBPACK_IMPORTED_MODULE_14_query_string___default.a.parse(this.props.location.search);return __WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',null,__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd_mobile_lib_nav_bar___default.a,{mode:'dark',className:'navBar',icon:__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7_antd_mobile_lib_icon___default.a,{type:'left'}),onLeftClick:this.goBack},urlSearch&&urlSearch.segment?__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_antd_mobile_lib_segmented_control___default.a,{values:['非游不可','全部景区'],tintColor:'white',selectedIndex:1,onValueChange:this.goBack}):'景区列表'),__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_10__views_common_Content__[\"a\" /* default */],null,__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd_mobile_lib_tabs___default.a,{tabs:this.tabs,ref:function ref(_ref){return __WEBPACK_IMPORTED_MODULE_12__core_utils_UIUtil__[\"a\" /* default */].updateComponentHeight(_ref,tabHeight);},style:{height:tabHeight},initialPage:this.props.selectedTabIndex,prerenderingSiblingsNumber:0,onChange:function onChange(tab,index){_this2.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_13__store_actions_scenic_listAction__[\"f\" /* setSelectedTabIndexAction */])(index));_this2.searchByKeyword(_this2.props.keyword,index);},onTabClick:function onTabClick(tab,index){console.log('onTabClick',index,tab);}},this.tabs.map(function(item,index){return __WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_11__views_scenic_ScenicListView__[\"a\" /* default */],{key:index,ref:function ref(listView){if(listView){_this2.tabs[index].listView=listView.getWrappedInstance();}},onItemClick:_this2.onItemClick,tabIndex:item.tabIndex,height:listViewHeight});}))));}},{key:'updateKeyword',value:function updateKeyword(keyword){this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_13__store_actions_scenic_listAction__[\"d\" /* setKeywordAction */])(keyword));}},{key:'searchByKeyword',value:function searchByKeyword(keyword){var index=arguments.length>1&&arguments[1]!==undefined?arguments[1]:undefined;index=index===undefined?this.props.selectedTabIndex:index;var listView=this.tabs[index].listView;if(!listView){return;}listView.searchByKeyword(keyword);}},{key:'onItemClick',value:function onItemClick(item){if(!item){return;}for(var i=0;i<this.tabs.length;i++){var listView=this.tabs[i].listView;if(listView){listView.cacheScrollOffset();}}this.props.history.push('/scenic/detail/'+item.Code);}},{key:'goBack',value:function goBack(){var dispatch=this.props.dispatch;this.props.history.goBack();dispatch(Object(__WEBPACK_IMPORTED_MODULE_13__store_actions_scenic_listAction__[\"c\" /* goBackAction */])());}}]);return ScenicListScreen;}(__WEBPACK_IMPORTED_MODULE_8_react__[\"Component\"]);var mapStateToProps=function mapStateToProps(state){return{selectedTabIndex:state.scenic.listScreen.selectedTabIndex,keyword:state.scenic.listScreen.keyword};};ScenicListScreen=Object(__WEBPACK_IMPORTED_MODULE_9_react_redux__[\"b\" /* connect */])(mapStateToProps)(ScenicListScreen);/* harmony default export */ __webpack_exports__[\"default\"] = (ScenicListScreen);\n\n/***/ }),\n\n/***/ 645:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"f\"] = setSelectedTabIndexAction;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = asyncGetListAction;\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = goBackAction;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = asyncDeleteListAction;\n/* unused harmony export deleteListAction */\n/* harmony export (immutable) */ __webpack_exports__[\"d\"] = setKeywordAction;\n/* harmony export (immutable) */ __webpack_exports__[\"e\"] = setScrollerPositionAction;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__core_utils_IConstant__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__core_utils_HttpClient__ = __webpack_require__(15);\nfunction setSelectedTabIndexAction(index){return{type:__WEBPACK_IMPORTED_MODULE_0__core_utils_IConstant__[\"c\" /* Actions */].SCENIC.LIST.SET_SELECTED_TAB_INDEX,index:index};}function asyncGetListAction(orderFiled,orderType,pageIndex,searchKey,extraParams){return function(dispatch,getState){dispatch(_getListRequestAction(orderFiled,orderType,pageIndex,searchKey,extraParams));return _fetchList(orderFiled,orderType,pageIndex,searchKey).then(function(resp){dispatch(_getListSuccessAction(orderFiled,orderType,pageIndex,searchKey,extraParams,resp));}).catch(function(error){dispatch(_getListFailureAction(orderFiled,orderType,extraParams,error));});};}function goBackAction(){return{type:__WEBPACK_IMPORTED_MODULE_0__core_utils_IConstant__[\"c\" /* Actions */].SCENIC.LIST.GO_BACK};}function asyncDeleteListAction(orderFiled,orderType,extraParams){return function(dispatch,getState){dispatch(deleteListAction(orderFiled,orderType,extraParams));return new Promise(function(resolve){resolve();});};}function deleteListAction(orderFiled,orderType,extraParams){return{type:__WEBPACK_IMPORTED_MODULE_0__core_utils_IConstant__[\"c\" /* Actions */].SCENIC.LIST.DELETE,orderFiled:orderFiled,orderType:orderType,extraParams:extraParams};}function setKeywordAction(keyword){return{type:__WEBPACK_IMPORTED_MODULE_0__core_utils_IConstant__[\"c\" /* Actions */].SCENIC.LIST.SET_KEYWORD,keyword:keyword};}function setScrollerPositionAction(orderFiled,orderType,offset,extraParams){return{type:__WEBPACK_IMPORTED_MODULE_0__core_utils_IConstant__[\"c\" /* Actions */].SCENIC.LIST.SET_LISTVIEW_OFFSET,orderFiled:orderFiled,orderType:orderType,listViewOffset:offset,extraParams:extraParams};}function _fetchList(orderFiled,orderType,pageIndex,searchKey){var url=__WEBPACK_IMPORTED_MODULE_1__core_utils_HttpClient__[\"a\" /* default */].HOST_MAIN+'/api/Attractions/GetAttractionsList';var conditionParams={Order:[{OrderField:orderFiled,OrderType:orderType}],Page:{PageIndex:pageIndex,PageSize:__WEBPACK_IMPORTED_MODULE_0__core_utils_IConstant__[\"d\" /* PAGE_SIZE */]}};if(searchKey&&searchKey.length>0){var search=[{SearchField:'Keyword',ConditionType:'1',ListSearchValue:[{ItemValue:searchKey}]}];conditionParams.Search=search;}var kvDict={type:'app',conditionParams:conditionParams,lat:__WEBPACK_IMPORTED_MODULE_0__core_utils_IConstant__[\"a\" /* APP_CITY_LATITUDE */],lng:__WEBPACK_IMPORTED_MODULE_0__core_utils_IConstant__[\"b\" /* APP_CITY_LONGITUDE */]};// let locationInfo:UserLocationInfoModel = await UserLocationInfoModel.sharedInstance();\n// if (locationInfo && locationInfo.isValidAdress())\n// {\n//     kvDict.lat = locationInfo.lat;\n//     kvDict.lng = locationInfo.lng;\n// }\n// // 查看某个六大类元素周边的信息\n// if (this.props.centerLocation && this.props.centerLocation.lat > 0 && this.props.centerLocation.lng > 0)\n// {\n//     kvDict.lat = this.props.centerLocation.lat;\n//     kvDict.lng = this.props.centerLocation.lng;\n// }\n// return HttpClient.getData(url, kvDict)\n//     .then((resp) => resp.json());\nreturn new Promise(function(resolve,reject){setTimeout(function(){var list={'status':'0','message':'结果返回成功！','total':100,'results':[{'Code':'JQ000079','CnName':'黄果树国家级风景名胜区','Summary':'黄果树风景名胜区位于贵州省西南部，被中国国家地理杂志社评为“中国最美丽的地方”。 景区以黄果树瀑布景区为中心，分布有天星桥景区、陡坡塘景区、滴水滩瀑布景区等几大景区。 黄果树大瀑布是黄果树瀑布群中最为壮观的瀑布，是世界上唯一可以从上、下、前、后、左、右六个方位观赏的瀑布，也是世界上有水帘洞自然贯通且能从洞内外听、观、摸的瀑布。景观变幻无穷，是为一绝。 在瀑布上游和下游，由18个雄奇险秀、风格各异的瀑布组成黄果树瀑布群，有落差高达410米的滴水滩瀑布，有瀑面宽达110米的陡坡塘瀑布，有滩面长达350米的螺丝滩瀑布及形态秀美的银练坠潭瀑布等，是天然的“瀑布博物馆”。 【景点介绍】 数生步是进入天星桥的第一个景点，脚下的石头散落在水中，形成了365块跳蹬，正好暗合了一年的周期，它韵含了世界上每个人的生日，你可以从第一个跳蹬开始数，因为每个跳蹬上都刻有日期，当数到您生日的时候，看看四周围的景色，将有美不胜收之感，你可以在这许一个心愿，照相留念。 天星洞曾经是一条地下暗河，后来由于排泄面的降底，流水改道，形成了一个没有水的地下溶洞。天星洞是一个很具观赏价值的溶洞，它由一个大厅和若干侧厅组成，这里景观千奇百怪，洞中石笋、石柱、石花等形态各异、五光十色，最引人注目的景观有鲤鱼跳龙门、八仙过海、美女梳头、石鸡晓唱、苗岭梯田、将军帽等。','Address':'镇宁布依族苗族自治县境内白水河上游','ColligationScore':4.9,'Distance':990.86210520336624,'Zdxmc':'AAAAA','Longitude':105.676450,'Latitude':25.994852,'PX':null,'OrderNum':265,'Price':0.06,'GetImage':{'ImageFrontUrl':'http://103.10.86.241:8081/Attachment/default/Small/2015/6/4/20150604145645000215244162.jpg','ImageList':null}},{'Code':'JQ000078','CnName':'龙宫风景名胜区','Summary':'国家级风景名胜区--龙宫，与举世闻名的黄果树大瀑布毗邻。距贵州省会贵阳市116公里，距贵州旅游中心城市--安顺市仅27公里，全程高速公路直驱，交通十分便利。龙宫风景区总体面积60平方公里， 有着托很多禀赋极高的风景资源。“吞石为洞，吐石为花，神宫赖水造；聚水成渊，覆水成瀑，胜景依石生”，是龙宫景观的真实写照。步入龙宫，就是步入“喀斯特景观博物馆”，翻开了一幅“喀斯特的清明上河图”。其地上景与地下景、洞内景与洞外景交替展现，令游客目不暇接、乐不思归。除以“水旱溶洞最多、最为集中和天然辐射剂量率最低”获两项世界记录外，还有着许多神奇秀丽的喀斯特景观，其中备受游客推崇的有：一是被游客誉称为“中国第一水溶洞”的地下暗河溶洞；二是“全国最大的洞中寺院--龙宫观音洞”；三是“全国最大的洞中瀑布--龙宫龙门飞瀑”；四是“山不转水转的旋水奇观--龙宫漩塘”。','Address':'安顺市南马头乡龙潭村','ColligationScore':4.9,'Distance':966.214577853773,'Zdxmc':'AAAAA','Longitude':105.895189,'Latitude':26.098328,'PX':null,'OrderNum':null,'Price':150.00,'GetImage':{'ImageFrontUrl':'http://103.10.86.241:8081/Attachment/default/Small/2017/8/11/201708111048002861398.jpg','ImageList':null}},{'Code':'JQ000073','CnName':'紫云格凸河风景名胜区','Summary':'格凸河穿洞风景名胜区：位于安顺以南100公里紫云苗族布依族自治县境内。景区内有连绵的峰林，幽深的峡谷，恢宏的溶洞，纵横交错的地面地下河流，古河道遗址崩塌而形成的“盲谷”原始森林，还有“洞居活化石”洞中苗寨及原始古朴的悬棺洞葬等。景区集山、水、洞、石、林、木组合之精髓，浑然一体，雄奇险峻，相得益彰，是名副其实的“喀斯特天然公园”，原始神秘，魅力无穷，是探奇揽胜科考探险理想之地。攀神秘盲谷，观民族绝技； 过陶翁生活，访穴居部落。   “贵州紫云格凸河喀斯特地貌是世界上最美的地方之一。”这是先后3次到紫云考察的法国科学院院士、地理学教授、著名的喀斯特专家理查德?迈耶的评价。紫云格凸河穿洞风景名胜区地处贵州省西部，距贵阳市161公里、安顺市76公里，总面积56.8平方公里，是中国国家级风景区，中国自然与文化双遗产地，中国南方喀斯特申报世界自然遗产入选地。   2006年入选中国最美的地方，是贵州省唯一授牌的省级攀岩运动基地，是贵州大学美学研究基地。“格凸”一词为苗语，意译为“圣地”。风景区包括大穿洞景区、大河景区、小穿洞景区、妖岩景区及多处独立景点。共有特级、一级景观5个，二级景观11个，三级景观14个。风景区内各种喀斯特地貌类型较为齐全，景源类型多，品位高，组合好，景观特色鲜明，文化内涵丰富，生态环境优良。以喀斯特地貌为基础，以穿洞群景观为代表，集峡谷河流、原生植被、苗族文化及风土人情景观于一体。幽深的峡谷，复杂神秘的风景溶洞，神奇而巨大的地下河系，独特的喀斯特风景盲谷及谷中的原始森林景观，陡岩飞瀑，连绵的峰丛、峰林，奇峰林立，翠竹掩舍，碧水中流，轻舟渔歌，有着世外桃源般的风景环境。可以说，格凸风景区是世界少有的的喀斯特自然公园。这里有美丽壮观的格凸大穿洞绝景及壮观的万燕归巢；有世界第二大洞厅――苗厅；有世界上最深的地下河竖井天坑――响水洞；有世界上保存最完好的古河道遗址---穿上洞、盲谷及神秘的谷中原始森林；有秀丽的夹山风光、世外桃源般的大河苗寨；有险峻的小穿洞峡谷、神秘美丽的天星洞；有人类最后的穴居部落-中洞苗寨；有能破解悬棺之秘，只有两户人家的脚杆寨等这些景观集岩溶、山、水、洞、石、林组合之精髓，融雄、奇、秀、险、幽、旷、奥为一身，构成一幅完美的风景图画。主要景点简介：1、大穿洞（燕子洞）位于下格井村东南约1公里处，是格凸河伏流的入口，海拔930米，泛舟进洞是270米长的河湾。大穿洞口高达116米，宽约25米，呈拱门形。洞口两侧展布白岩绝壁，洞壁陡峭，从农历清明到九月重阳，洞内有数十万只燕子翻飞其间，筑巢栖息，因此俗称“燕王宫”。当地有艺人可沿陡直洞壁攀岩而上获取燕窝，奇功绝技，惊险刺激。穿洞山体有“耳桶山摩崖题字”，洞顶有“燕子洞摩崖题字”，这些人文景观与自然景观相映成趣。 2、望天洞在大穿洞内河湾的尽头，有一个穿过碳酸盐岩地的大竖井，深370米，宽200米，又称“通天洞”。仰望苍穹，好象开了一道天窗，一缕缕阳光倾泻下来，与洞顶滴下的状如银丝的岩浆水交织在一起，形成道道彩虹，赤、橙、黄、绿、青、蓝、紫，奇妙无比。从天窗掉下的巨石，堆成一道天然堤坝，堵住河水，锁住蛟龙。堤坝中有一缺口，流水咆哮，破堤而下，水流越过源于天窗的混沌之后，穿行于12公里长的暗河伏流和大小洞厅之中。3、穿上洞从大穿洞外沿陡峭小道或从通天洞壁攀岩而上可达穿上洞。此洞高50米，宽70米，长137米，洞若天桥，洞内顶壁景观奇特，洞外的坡谷上长满了亚热带植物，其中有一片野芭蕉和方竹林。在穿洞的侧面又是一个巨大岩洞，由此出口上至山顶。4、盲谷从穿上洞往里走约500米，面前展现槽形凹地，四周为崩塌型峭壁陡岩所围。   盲谷是由古地下河遗址发育演变而成，可通过约20米高的竖井洞进入，长约1.8公里，分为三段，宽30─150米，岩壁高200─400米不等。盲谷内原始森林茂密，乔木、灌木、藤本等植物种类众多，是罕见的生态、生物多样性与环境所在地。5、夹山夹山一带的景观由峰丛、峡谷、绝壁、碧水、轻舟、渔歌、鸟语、花香等组成，人与自然，佳景天成。层峦叠翠，碧水中流，忽见两岸夹峙，一面是峰丛坠水，一面是火烧赤壁，构成了“夹山一线天”。与著名诗句“两岸猿声啼不往，轻舟已过万重山”的意境相似，绝壁孤峰，枯藤古树，轻舟渔歌，心旷神怡。6、大河苗寨大河苗寨所处的自然生态环境可谓得天独厚，由奇峰、河谷、沙湾、竹林、村寨、田园等组成复合景观。周围群峰环抱，格凸河从村前流过，中有良田百余亩，村舍依山脚分成几组，是难得的世外桃源。在大河苗寨背后的峰丛中，有一奇峰突兀而起，如同宝剑直指天穹，气宇轩昂。7、变色湖位于大河苗寨以南约500米处，是喀斯特地貌天然湖泊，因湖水会随季节的变化变换不同的颜色而得名，有时成铁红色，有时又成土黄色，有时成淡绿色，有时则清澈见底。犹如一面镜子映在万绿丛中，好像是上天赐给当地苗族人民的，因此又称“天赐湖”。该湖长约350米，宽约100米，海拔980米，比大河村高约47米。湖中有3个泉眼，枯水期流量为5-10升每秒，每年丰水期湖水自然排泄，水质很好，去污能力强。8、天星洞（悬棺洞）格凸河上游从天生桥进入伏流约3公里后，从天星洞口流出。天星洞高约110米，宽40米，洞口呈长方形，洞口巨岩横跨，洞壁石幔悬挂。洞中有悬棺，棺木多为榉木制成，一端置于岩上，一端悬置在圆木架上。9、小穿洞格凸河、猴场河和长顺的摆所河在穿洞内汇流后，从小穿洞口蘑菇潭涌出悬崖，形成落差几十米的瀑布，景观壮丽。该洞口高50米，宽40米，海拔790米，因形似巨鼓，又名“冒鼓天”。洞中石柱、石笋、石钟乳等化学沉积形态多而优美，石柱高达20多米。10、苗厅在小穿洞口往里走约500米处，洞长约700米，宽约215米，平均高70米，面积达11.6万平方米（约十二个足球场大），容积在700万立方米以上，是世界上第二大喀斯特洞厅。因附近有苗寨而称为“苗厅“，是1989年中法洞穴专家联合考察时发现的。洞内石笋、石柱、石幔等琳琅满目，在大厅的西北部有高达38米的巨大石笋，实属罕见。目前苗厅内有6个支洞尚未探明，在洪水季节，洪水将穿越过大厅，从岩石上倾泻而下，形成多级暗河瀑布群，颇为壮观。11、响水洞位于大穿洞与小穿洞之间，是格凸河伏流系统的枢纽，又叫“落水洞”。洞口位于格凸河顶部溶洼中央，呈椭圆形，是竖井天坑，直径约200米，深达216米，是目前已知的世界上最深的竖井洞。洞上可听到地下暗河露头的迭水声响彻如雷。沿东边顶端的岩壁往下可到达暗河边。河流在竖井底部的岩块中开出一条水道后，咆哮旋转于甄穴中，形成地下巨大的环流景观，消失在水仓之中。12、中洞人家在小穿洞出口的山顶上方，有上、中、下三个溶洞，上洞的海拔约1400米，是附近通往长顺的必经之地。上洞右侧300米处是中洞，又称“棕洞”，洞口高50米，宽100米，深200米，居住着21户苗族人家，房屋建筑均为无顶木柱竹篱。洞中有小学和操场。整个拱形的洞顶布满了灰白色的球形凹面，有很好的消音效果，洞内声音清晰，互不影响，但传至洞外，却如同混响。洞中人家的生活方式仍沿袭传统习俗，善良厚道，热情好客。13、下穿洞中洞下面是下洞，实为天桥，是一个巨大的岩溶穿洞，洞高约50米，长近300米，原为人居住，遗迹尚存。下洞对面是雄伟的摆架山，摆架山下是险峻的鼠场河。14、鼠场河峡谷，格凸河从小穿洞涌出后进入鼠场河，河谷在此深切展布，有近5公里长的陡直崖壁。谷中怪石嶙峋，水流时缓时急，从坡肩至谷底，两岸林木茂盛，水质清澈，呈淡蓝色。此处山、水、石、林形成的复合景观幽深险峻，有旷野之感。   紫云格凸河穿洞风景名胜区气候温和宜人，海拔高度适中，地处乡郊野外，水质清洁，空气清新，土壤、植被未受染污，自然生态环境质量优良。景区开发以来以其独特的风景名胜资源和良好的自然生态环境，吸引着越来越多的游客。来到格凸河，穿行溶洞、攀登盲谷、留连苗厅、泛舟峡谷、乘兴漂流、探入深潭、浅滩戏水、悬棺寻古、中洞暇思、竹林漫步，闲亭稍憩，返朴归真，情趣盎然，心旷神怡。','Address':'安顺市紫云县水塘镇','ColligationScore':4.4,'Distance':960.944034302579,'Zdxmc':'AAAA','Longitude':106.270042,'Latitude':25.682302,'PX':null,'OrderNum':124,'Price':190.00,'GetImage':{'ImageFrontUrl':'http://103.10.86.241:8081/Attachment/default/Small/2015/6/10/20150610091626000305611163.jpg','ImageList':null}},{'Code':'JQ000075','CnName':'云峰屯堡景区','Summary':'云峰屯堡是AAAA级旅游景区。位于贵州安顺市以东15公里西秀区七眼桥镇，这里密布着保存完好的明代屯堡村寨40余个，构成屯堡文化村落群而被列为大世界吉尼斯之最。其中云山屯、本寨为全国重点文物保护单位。\\n屯堡是明代调北征南和调北填南在安顺一带屯军屯田，经过六百年的传承、演变而形成的历史文化遗存，具有唯一性，不可再生性。屯堡人的建筑、服饰、饮食、习俗、娱乐方式等仍保留着大明遗风，独具魅力。走进屯堡\\n，如同走进遥远的年代，使人留连忘返。','Address':'贵州安顺市里西秀区七眼桥镇','ColligationScore':3.0,'Distance':936.65213944026368,'Zdxmc':'AAAA','Longitude':106.104047,'Latitude':26.299548,'PX':null,'OrderNum':null,'Price':50.00,'GetImage':{'ImageFrontUrl':'http://103.10.86.241:8081/Attachment/default/Small/2015/6/4/2015060415080600073685017.jpg','ImageList':null}},{'Code':'JQ000072','CnName':'天龙屯堡','Summary':'天龙屯堡古镇位于贵州省西部平坝县，喀斯特地貌大山深处，屯堡景区东距省会贵阳60公里，贵黄高速公路、黔滇公路、贵昆铁路和清黄高速公路均从寨边穿过，素有“滇之喉、黔之腹”之称。是明朝洪武年间的屯军后裔所聚居的古镇。这是目前贵州开发最早、也最出名的一座，同时也是屯堡文化的精华所在。天龙屯堡景区，包括屯堡村寨、天台山和伍龙寺。在这里，你可以慢悠悠地在典型的喀斯特田园风光中走上半个小时，爬上天台山，登上在崖壁之上的伍龙寺，俯视这片土地，感受一下最典型的屯堡生活。天龙屯堡不是很大，花上一个小时就足够你走马观花地游览一圈。在屯堡，游客可以欣赏到历史悠久的古朴石板房和旧式民居，看到身着“凤阳汉装”的屯堡妇女，还可以看到被称为“活化石”的民间戏剧——地戏的表演。这种表演只能在安顺看到，且平时也很难有演出。这个面向游客的商业表演在屯堡内的演武堂内上演，每隔30分钟一场，一场10分钟左右。如果不想自己在屯堡中盲目乱转，在大门的游客中心买票后，即使只有一个人，游客也可以挑选一位身着传统服装的当地女孩全程担任导游，导游费包含在门票中。或者你也可以在和导游分开后，自己一个人，在这个充斥着古老巷道和院落的石头建筑群中独自探索。天龙屯堡东面矗立着天台山，北面有步道供游人拾阶而上。从山腰的停车场到山顶大约需要走20分钟。山顶有一座用石块筑成的伍龙寺。伍龙寺最高处的大观景台是观赏寺内全貌和飞檐上精美石雕的最佳地点，游客可以在此眺望四周的群山或是山下的农舍村庄。','Address':'平坝县天龙镇旅游大道','ColligationScore':3.0,'Distance':927.71392696746182,'Zdxmc':'未评级','Longitude':106.169488,'Latitude':26.357418,'PX':null,'OrderNum':null,'Price':60.00,'GetImage':{'ImageFrontUrl':'http://103.10.86.241:8081/Attachment/default/Small/2017/8/11/201708111602235474928.jpg','ImageList':null}},{'Code':'JQ000096','CnName':'屯堡文化旅游区-本寨','Summary':'本寨属于云峰八寨，云峰八寨景区位于安顺市区以南的十八公里处。由云山屯、本寨、雷屯、小山寨等八个屯堡村寨组成，它是明初征南大军屯驻的核心区。','Address':'安顺市区以南的十八公里处','ColligationScore':3.0,'Distance':925.988539199477,'Zdxmc':'未评级','Longitude':106.282972,'Latitude':26.224450,'PX':null,'OrderNum':null,'Price':0.00,'GetImage':{'ImageFrontUrl':'http://103.10.86.241:8081/Attachment/default/Small/2015/7/20/4201507201339147617694.jpeg','ImageList':null}},{'Code':'JQ000067','CnName':'王若飞故居','Summary':'故居始建于清代，王若飞曾祖父所建，1982年对外开放。故居临街，经过道进朝门入四合院，院内铺以方形石板，有石砌花坛、鱼池等，房屋为木结构小青瓦建筑，具有清代民居风格。现存部份家具实物及若飞青少年时期在日本、法国留学时进行革命活动资料，与毛泽东、周恩来等领导人一起工作时的照片、通讯手迹，重庆谈判时所穿衣物，遇难后党中央和中央领导的悼词，部份国民党要员、爱国将领、民主党派知名人士题词、挽联及有关王若飞的书籍，出版物等。王若飞故居为“全国爱国主义教育示范基地”','Address':'安顺市西秀区北街174号','ColligationScore':3.0,'Distance':953.48637506085913,'Zdxmc':'未评级','Longitude':105.936800,'Latitude':26.254677,'PX':null,'OrderNum':null,'Price':0.00,'GetImage':{'ImageFrontUrl':'http://103.10.86.241:8081/Attachment/default/Small/2017/8/10/201708101840005352237.jpg','ImageList':null}},{'Code':'JQ000001','CnName':'旧州古镇','Summary':'旧州古镇位于安顺市之东南面，距省会贵阳80公里，距安顺市区30公里。地理位置优越，交通便利，气候宜人。2006年7月12日，旧州古镇被评为贵州省级历史文化名镇。     旧州在春秋时期时属牂牁国辖地，战国时为夜郎国属地，元朝时设为安顺州。明朝成化年间州治所迁往今安顺城，故名旧州。直至清末仍为安顺军民府亲辖地。有史以来，旧州就是一方政治、经济、文化中心。     旧州古城建于元朝至正十一年（公元1351年），街道按阴阳五行布局，古城墙为葫芦形结构。城内古寺林立，其中气势恢宏的城隍庙为乾隆皇帝御书匾额并拨专款修建；四合院民居清新典雅；宗族祠堂雄浑古朴。饱经沧桑的古城墙、古驿道、古遗址、古墓葬等大量文化遗存无不彰显出古镇厚重的历史文化底蕴。城外邢江河环绕，土地肥沃，物产丰富，使旧州享有“小江南”之美誉。     旧州人文荟萃，人才辈出，曾走出复兴贵州文化的清末进士周之冕、声震川湘两广的儒商简敬斋、国民党“一门三中委”谷正伦、谷正纲、谷正鼎三兄弟……     旧州是多民族聚居地，汉苗等民族和谐相处，多元文化共生繁荣，民风淳朴，风情浓郁。民族节日丰富多彩，民族歌舞热情奔放。在这片神奇而古老的土地上，明代“调北征南、调北填南”的“屯堡人”仍保持“大明遗风”，原始的地戏演绎着久远的历史，古老的生活习惯传承六百年，直到今天。','Address':'安顺市西秀区东南部','ColligationScore':5.0,'Distance':935.22058705607628,'Zdxmc':'AAAA','Longitude':106.152793,'Latitude':26.253704,'PX':null,'OrderNum':null,'Price':0.00,'GetImage':{'ImageFrontUrl':'http://103.10.86.241:8081/Attachment/default/Small/2015/6/4/20150604150806000317286426.jpg','ImageList':null}},{'Code':'JQ000074','CnName':'兴伟石博园','Summary':'兴伟公司石博园秉承“寻求民族致富之路，振兴安顺经济”的企业宗旨和“以实业报国为已任、艰苦创业、自强不息、勇于开拓、无私奉献”的企业发展精神，紧紧围绕安顺市委、市人民政府“创建中国优秀旅游城市”和“走进安顺、走进文化、走进历史、走进自然”的战略规划，坚持走大旅游、大商贸、大文化、大流通的发展之路，促进兴伟光彩事业的长驻发展。2007年12月，兴伟石博园等兴伟八大主题展馆被确定为安顺青少年爱国主义教育示范基地。这些文化产业的建成，填补了贵州古生物化石及石文化旅游资源利用的空白，对促进地方经济发展，提升安顺城市口味起到了重大作用，它与黄果树风景区互相呼应，已成为贵州西部黄金线旅游通道上颇具影响力的文化旅游景点。2009年我公司又在北京兴建了兴伟石文化艺术中心，是北京目前规模最大的石文化艺术中心。','Address':'安顺市经济技术开发区迎宾路','ColligationScore':3.0,'Distance':957.82937476070583,'Zdxmc':'AAAA','Longitude':105.898353,'Latitude':26.236279,'PX':null,'OrderNum':null,'Price':68.00,'GetImage':{'ImageFrontUrl':'http://103.10.86.241:8081/Attachment/default/Small/2015/6/4/20150604150808000558469830.jpg','ImageList':null}},{'Code':'JQ000071','CnName':'关岭化石群国家地质公园','Summary':'关岭化石群国家地质公园（Guanling fossil national geopark）位于中国贵州省西南部的安顺市关岭布依族苗族自治县，规划面积26平方千米，保护区200平方千米。核心区0.94平方千米。距贵州省贵阳市188千米，距黄果树瀑布景区52千米、龙宫溶洞景区90千米。贵州省省级风景名胜区花江大峡谷位于保护区内。','Address':'贵州省关岭县新铺镇','ColligationScore':3.0,'Distance':1017.51048662794,'Zdxmc':'未评级','Longitude':105.435101,'Latitude':25.890220,'PX':null,'OrderNum':null,'Price':100.00,'GetImage':{'ImageFrontUrl':'http://103.10.86.241:8081/Attachment/default/Small/2015/6/10/20150610102443000500576105.jpg','ImageList':null}}]};resolve(list);},200);});}function _getListRequestAction(orderFiled,orderType,pageIndex,searchKey,extraParams){return{type:__WEBPACK_IMPORTED_MODULE_0__core_utils_IConstant__[\"c\" /* Actions */].SCENIC.LIST.GET_LIST_REQUEST,orderFiled:orderFiled,orderType:orderType,pageIndex:pageIndex,extraParams:extraParams,keyword:searchKey};}function _getListSuccessAction(orderFiled,orderType,pageIndex,searchKey,extraParams,result){return{type:__WEBPACK_IMPORTED_MODULE_0__core_utils_IConstant__[\"c\" /* Actions */].SCENIC.LIST.GET_LIST_SUCCESS,orderFiled:orderFiled,orderType:orderType,pageIndex:pageIndex,keyword:searchKey,extraParams:extraParams,result:result};}function _getListFailureAction(orderFiled,orderType,extraParams,error){return{type:__WEBPACK_IMPORTED_MODULE_0__core_utils_IConstant__[\"c\" /* Actions */].SCENIC.LIST.GET_LIST_FAILURE,orderFiled:orderFiled,orderType:orderType,extraParams:extraParams,message:error};}\n\n/***/ }),\n\n/***/ 647:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_antd_mobile_lib_pull_to_refresh_style_css__ = __webpack_require__(30);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_antd_mobile_lib_pull_to_refresh_style_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_antd_mobile_lib_pull_to_refresh_style_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_antd_mobile_lib_pull_to_refresh__ = __webpack_require__(31);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_antd_mobile_lib_pull_to_refresh___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_antd_mobile_lib_pull_to_refresh__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_antd_mobile_lib_activity_indicator_style_css__ = __webpack_require__(18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_antd_mobile_lib_activity_indicator_style_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_antd_mobile_lib_activity_indicator_style_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_antd_mobile_lib_activity_indicator__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_antd_mobile_lib_activity_indicator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_antd_mobile_lib_activity_indicator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_antd_mobile_lib_list_view_style_css__ = __webpack_require__(26);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_antd_mobile_lib_list_view_style_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_antd_mobile_lib_list_view_style_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_antd_mobile_lib_list_view__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_antd_mobile_lib_list_view___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_antd_mobile_lib_list_view__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_react_redux__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_prop_types__ = __webpack_require__(11);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_react_dom__ = __webpack_require__(16);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_react_dom___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_react_dom__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__store_actions_scenic_listAction__ = __webpack_require__(645);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__core_utils_UIUtil__ = __webpack_require__(20);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__core_utils_SysUtil__ = __webpack_require__(22);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__views_common_EmptyView__ = __webpack_require__(32);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}// 综合、评分、距离\nvar sortFields=['Sort','scoreOrder','distanceOrder'];var sortTypes=['desc','desc','asc'];var ScenicListView=function(_Component){_inherits(ScenicListView,_Component);function ScenicListView(props){_classCallCheck(this,ScenicListView);var _this=_possibleConstructorReturn(this,(ScenicListView.__proto__||Object.getPrototypeOf(ScenicListView)).call(this,props));_this.renderRow=_this.renderRow.bind(_this);_this.onRefresh=_this.onRefresh.bind(_this);_this.loadNextPage=_this.loadNextPage.bind(_this);_this.renderFooter=_this.renderFooter.bind(_this);var dataSource=new __WEBPACK_IMPORTED_MODULE_5_antd_mobile_lib_list_view___default.a.DataSource({rowHasChanged:function rowHasChanged(row1,row2){return row1!==row2;},sectionHeaderHasChanged:function sectionHeaderHasChanged(s1,s2){return s1!==s2;}});_this.state={dataSource:dataSource.cloneWithRows(_this.props.dataList?_this.props.dataList:[])};return _this;}_createClass(ScenicListView,[{key:'componentDidMount',value:function componentDidMount(){// 处理返回\nif(!this.props.dataList){this.loadData(this.props.inputKeyword);}if(this.listView&&!isNaN(this.props.listViewOffset)){this.listView.scrollTo(0,this.props.listViewOffset);}}},{key:'componentWillReceiveProps',value:function componentWillReceiveProps(nextProps){if(this.props.dataList!==nextProps.dataList){this.setState({dataSource:this.state.dataSource.cloneWithRows(nextProps.dataList?nextProps.dataList:[])});}}},{key:'render',value:function render(){var _this2=this;return __WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('div',{className:'scenicListBox',style:{height:this.props.height}},this.renderListView(),!this.props.isFetching&&(!this.props.dataList||this.props.dataList.length===0)?__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_13__views_common_EmptyView__[\"a\" /* default */],{style:{height:this.props.height},onClick:function onClick(){return _this2.onRefresh(_this2.props.inputKeyword);}}):null,this.props.isFetching&&this.props.pageIndex===1?__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd_mobile_lib_activity_indicator___default.a,{toast:true,text:'Loading...'}):null);}},{key:'renderListView',value:function renderListView(){var _this3=this;if(this.props.dataList&&this.props.dataList.length>0){var separator=function separator(sectionID,rowID){return __WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('div',{key:sectionID+'-'+rowID,style:{height:1,borderBottom:'0.5px solid #dddddd'}});};return __WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_antd_mobile_lib_list_view___default.a,{ref:function ref(el){_this3.listView=el;__WEBPACK_IMPORTED_MODULE_11__core_utils_UIUtil__[\"a\" /* default */].fixListViewHeightIssue(el,_this3.props.height);},dataSource:this.state.dataSource,renderRow:this.renderRow,renderSeparator:separator,style:{height:this.props.height,overflow:'auto'},pullToRefresh:__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd_mobile_lib_pull_to_refresh___default.a,{refreshing:this.props.isFetching,onRefresh:function onRefresh(){return _this3.onRefresh(_this3.props.inputKeyword);}}),onEndReached:this.loadNextPage,renderFooter:this.renderFooter,initialListSize:this.props.dataList.length,pageSize:20,scrollRenderAheadDistance:500,scrollEventThrottle:50,onEndReachedThreshold:20});}}},{key:'searchByKeyword',value:function searchByKeyword(keyword){if(keyword===this.props.keyword||this.isEmptyString(keyword)&&this.isEmptyString(this.props.keyword)){return;}this.onRefresh(keyword);}},{key:'isEmptyString',value:function isEmptyString(str){return!str||str.length===0;}},{key:'onRefresh',value:function onRefresh(keyword){var _this4=this;this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_10__store_actions_scenic_listAction__[\"a\" /* asyncDeleteListAction */])(sortFields[this.props.tabIndex],sortTypes[this.props.tabIndex],this.getExtraParams())).then(function(){_this4.loadData(keyword);});// this.props.dispatch(deleteListAction(sortFields[this.props.tabIndex], sortTypes[this.props.tabIndex]));\n// setTimeout(()=>{\n//     this.loadData(keyword);\n// }, 50);\n}},{key:'loadNextPage',value:function loadNextPage(){this.loadData();}},{key:'renderFooter',value:function renderFooter(){if(!this.props.isFetching||this.props.hasMore!==true){return null;}return __WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('div',{className:'loadingMore'},__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd_mobile_lib_activity_indicator___default.a,{text:'Loading...'}));}},{key:'renderRow',value:function renderRow(item,sectionID,rowID){var _this5=this;var imgUrl=item.GetImage?item.GetImage.ImageFrontUrl:'';return __WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('div',{key:rowID,className:'scenicListItem',onClick:function onClick(){if(_this5.props.onItemClick){_this5.props.onItemClick(item);}}},__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('div',{style:{backgroundImage:'url('+imgUrl+')'},className:'scenicListItemImg'}),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('div',{className:'scenicListItemTextBox'},__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('div',{className:'scenicListItemName'},item.CnName),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('div',{className:'scenicListItemStar'},item.Zdxmc),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('div',{className:'scenicListItemOthers'},'\\u8DDD\\u79BB',item.Distance.toFixed(1),'km'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('div',{className:'scenicListItemOthers'},item.ColligationScore,'\\u5206')));}},{key:'loadData',value:function loadData(keyword){if(this.props.isFetching){return;}if(this.props.hasMore===false){return;}var pageIndex=this.props.pageIndex?this.props.pageIndex+1:1;this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_10__store_actions_scenic_listAction__[\"b\" /* asyncGetListAction */])(sortFields[this.props.tabIndex],sortTypes[this.props.tabIndex],pageIndex,keyword?keyword:this.props.keyword,this.getExtraParams()));}},{key:'cacheScrollOffset',value:function cacheScrollOffset(){if(!this.listView){return;}var offsetY=__WEBPACK_IMPORTED_MODULE_9_react_dom___default.a.findDOMNode(this.listView).scrollTop;this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_10__store_actions_scenic_listAction__[\"e\" /* setScrollerPositionAction */])(sortFields[this.props.tabIndex],sortTypes[this.props.tabIndex],offsetY,this.getExtraParams()));}},{key:'getExtraParams',value:function getExtraParams(){return{storeKey:this.props.storeKey};}}]);return ScenicListView;}(__WEBPACK_IMPORTED_MODULE_6_react__[\"Component\"]);ScenicListView.propTypes={// 列表项点击事件\nonItemClick:__WEBPACK_IMPORTED_MODULE_8_prop_types___default.a.func};var mapStateToProps=function mapStateToProps(state,ownProps){var storeItem=ownProps.storeKey&&ownProps.storeKey.length>0?__WEBPACK_IMPORTED_MODULE_12__core_utils_SysUtil__[\"a\" /* default */].getStoreItemByDotConnector(state,ownProps.storeKey):state.scenic.listScreen;var obj=storeItem.groups[sortFields[ownProps.tabIndex]];return Object.assign({selectedTabIndex:storeItem.selectedTabIndex},obj,{inputKeyword:storeItem.keyword});};ScenicListView=Object(__WEBPACK_IMPORTED_MODULE_7_react_redux__[\"b\" /* connect */])(mapStateToProps,null,null,{withRef:true})(ScenicListView);/* harmony default export */ __webpack_exports__[\"a\"] = (ScenicListView);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/1.f87112fe.chunk.js","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Tabs, NavBar, Icon, SegmentedControl } from 'antd-mobile';\r\nimport Content from '../../views/common/Content';\r\nimport ScenicListView from '../../views/scenic/ScenicListView';\r\nimport UIUtil from '../../core/utils/UIUtil';\r\nimport { \r\n    setSelectedTabIndexAction, \r\n    goBackAction, \r\n    setKeywordAction \r\n} from '../../store/actions/scenic/listAction';\r\nimport queryString from 'query-string';\r\nimport '../../assets/css/scenic.css';\r\n\r\nclass ScenicListScreen extends Component\r\n{\r\n    tabs = [\r\n        {title: '人气最高', tabIndex: 0},\r\n        {title: '距离最近', tabIndex: 1},\r\n        {title: '筛选', tabIndex: 2},\r\n    ];\r\n    constructor(props)\r\n    {\r\n        super(props);\r\n        this.onItemClick = this.onItemClick.bind(this);\r\n        this.goBack = this.goBack.bind(this);\r\n    }\r\n    render()\r\n    {\r\n        let tabHeight = window.innerHeight - (45 + 44);\r\n        let listViewHeight = window.innerHeight - (45 + 44 + 44);\r\n\r\n        let urlSearch = queryString.parse(this.props.location.search);\r\n\r\n        return (\r\n            <div>\r\n                <NavBar mode=\"dark\" \r\n                    className=\"navBar\"\r\n                    icon={<Icon type=\"left\" />}\r\n                    onLeftClick={this.goBack}>\r\n                    {\r\n                        (urlSearch && urlSearch.segment)\r\n                            ?\r\n                            <SegmentedControl values={['非游不可', '全部景区']} \r\n                                tintColor=\"white\" \r\n                                selectedIndex={1}\r\n                                onValueChange={this.goBack}/>\r\n                            :\r\n                            '景区列表'\r\n                    }\r\n                </NavBar>\r\n                <Content>\r\n                    <Tabs tabs={this.tabs}\r\n                        ref={(ref)=>UIUtil.updateComponentHeight(ref, tabHeight)}\r\n                        style={{height: tabHeight}}\r\n                        initialPage={this.props.selectedTabIndex}\r\n                        prerenderingSiblingsNumber={0}\r\n                        onChange={(tab, index) => { \r\n                            this.props.dispatch(setSelectedTabIndexAction(index));\r\n                            this.searchByKeyword(this.props.keyword, index);\r\n                        }}\r\n                        onTabClick={(tab, index) => { console.log('onTabClick', index, tab); }}>\r\n                        {\r\n                            this.tabs.map((item, index)=><ScenicListView key={index} \r\n                                ref={(listView)=>{\r\n                                    if(listView)\r\n                                    {\r\n                                        this.tabs[index].listView = listView.getWrappedInstance();\r\n                                    }\r\n                                }}\r\n                                onItemClick={this.onItemClick}\r\n                                tabIndex={item.tabIndex} \r\n                                height={listViewHeight}/>)\r\n                        }\r\n                    </Tabs>\r\n                </Content>\r\n            </div>\r\n        );\r\n    }\r\n    updateKeyword(keyword)\r\n    {\r\n        this.props.dispatch(setKeywordAction(keyword));\r\n    }\r\n    searchByKeyword(keyword, index = undefined)\r\n    {\r\n        index = (index === undefined) ? this.props.selectedTabIndex : index;\r\n        let listView: ScenicListView = this.tabs[index].listView;\r\n        if(!listView)\r\n        {\r\n            return;\r\n        }\r\n        listView.searchByKeyword(keyword);\r\n    }\r\n    onItemClick(item)\r\n    {\r\n        if(!item)\r\n        {\r\n            return;\r\n        }\r\n        for(let i = 0; i < this.tabs.length; i++)\r\n        {\r\n            let listView: ScenicListView = this.tabs[i].listView;\r\n            if(listView)\r\n            {\r\n                listView.cacheScrollOffset();\r\n            }\r\n        }\r\n        this.props.history.push(`/scenic/detail/${item.Code}`);\r\n    }\r\n    goBack()\r\n    {\r\n        let dispatch = this.props.dispatch;\r\n        this.props.history.goBack();\r\n        dispatch(goBackAction());\r\n    }\r\n}\r\n\r\nconst mapStateToProps = function(state)\r\n{\r\n    return {\r\n        selectedTabIndex: state.scenic.listScreen.selectedTabIndex,\r\n        keyword: state.scenic.listScreen.keyword\r\n    };\r\n};\r\n\r\nScenicListScreen = connect(mapStateToProps)(ScenicListScreen);\r\n\r\nexport default ScenicListScreen;\n\n\n// WEBPACK FOOTER //\n// ./src/screens/scenic/ScenicListScreen.js","import * as IConstant from '../../../core/utils/IConstant';\r\nimport HttpClient from '../../../core/utils/HttpClient';\r\n\r\nexport function setSelectedTabIndexAction(index) {\r\n    return {\r\n        type: IConstant.Actions.SCENIC.LIST.SET_SELECTED_TAB_INDEX,\r\n        index: index\r\n    };\r\n}\r\n\r\nexport function asyncGetListAction(orderFiled, orderType, pageIndex, searchKey, extraParams) {\r\n    return function (dispatch, getState) {\r\n        dispatch(_getListRequestAction(orderFiled, orderType, pageIndex, searchKey, extraParams));\r\n        return _fetchList(orderFiled, orderType, pageIndex, searchKey).then((resp) => {\r\n            dispatch(_getListSuccessAction(orderFiled, orderType, pageIndex, searchKey, extraParams, resp));\r\n        }).catch((error) => {\r\n            dispatch(_getListFailureAction(orderFiled, orderType, extraParams, error));\r\n        });\r\n    };\r\n}\r\n\r\nexport function goBackAction() {\r\n    return {\r\n        type: IConstant.Actions.SCENIC.LIST.GO_BACK,\r\n    };\r\n}\r\n\r\nexport function asyncDeleteListAction(orderFiled, orderType, extraParams) {\r\n    return function (dispatch, getState) {\r\n        dispatch(deleteListAction(orderFiled, orderType, extraParams));\r\n        return new Promise((resolve) => {\r\n            resolve();\r\n        });\r\n    };\r\n}\r\n\r\nexport function deleteListAction(orderFiled, orderType, extraParams) {\r\n    return {\r\n        type: IConstant.Actions.SCENIC.LIST.DELETE,\r\n        orderFiled,\r\n        orderType,\r\n        extraParams,\r\n    };\r\n}\r\n\r\nexport function setKeywordAction(keyword) {\r\n    return {\r\n        type: IConstant.Actions.SCENIC.LIST.SET_KEYWORD,\r\n        keyword: keyword\r\n    };\r\n}\r\n\r\nexport function setScrollerPositionAction(orderFiled, orderType, offset, extraParams) {\r\n    return {\r\n        type: IConstant.Actions.SCENIC.LIST.SET_LISTVIEW_OFFSET,\r\n        orderFiled,\r\n        orderType,\r\n        listViewOffset: offset,\r\n        extraParams\r\n    };\r\n}\r\n\r\nfunction _fetchList(orderFiled, orderType, pageIndex, searchKey) {\r\n    let url = HttpClient.HOST_MAIN + '/api/Attractions/GetAttractionsList';\r\n    let conditionParams = {\r\n        Order: [{\r\n            OrderField: orderFiled,\r\n            OrderType: orderType,\r\n        }],\r\n        Page: {\r\n            PageIndex: pageIndex,\r\n            PageSize: IConstant.PAGE_SIZE,\r\n        },\r\n    };\r\n    if (searchKey && searchKey.length > 0) {\r\n        let search = [{\r\n            SearchField: 'Keyword',\r\n            ConditionType: '1',\r\n            ListSearchValue: [{\r\n                ItemValue: searchKey\r\n            }]\r\n        }];\r\n        conditionParams.Search = search;\r\n    }\r\n    let kvDict = {\r\n        type: 'app',\r\n        conditionParams: conditionParams,\r\n        lat: IConstant.APP_CITY_LATITUDE,\r\n        lng: IConstant.APP_CITY_LONGITUDE,\r\n    };\r\n    // let locationInfo:UserLocationInfoModel = await UserLocationInfoModel.sharedInstance();\r\n    // if (locationInfo && locationInfo.isValidAdress())\r\n    // {\r\n    //     kvDict.lat = locationInfo.lat;\r\n    //     kvDict.lng = locationInfo.lng;\r\n    // }\r\n    // // 查看某个六大类元素周边的信息\r\n    // if (this.props.centerLocation && this.props.centerLocation.lat > 0 && this.props.centerLocation.lng > 0)\r\n    // {\r\n    //     kvDict.lat = this.props.centerLocation.lat;\r\n    //     kvDict.lng = this.props.centerLocation.lng;\r\n    // }\r\n\r\n    // return HttpClient.getData(url, kvDict)\r\n    //     .then((resp) => resp.json());\r\n\r\n    return new Promise((resolve, reject) => {\r\n        setTimeout(() => {\r\n            let list = {\r\n                'status': '0',\r\n                'message': '结果返回成功！',\r\n                'total': 100,\r\n                'results': [\r\n                    {\r\n                        'Code': 'JQ000079',\r\n                        'CnName': '黄果树国家级风景名胜区',\r\n                        'Summary': '黄果树风景名胜区位于贵州省西南部，被中国国家地理杂志社评为“中国最美丽的地方”。 景区以黄果树瀑布景区为中心，分布有天星桥景区、陡坡塘景区、滴水滩瀑布景区等几大景区。 黄果树大瀑布是黄果树瀑布群中最为壮观的瀑布，是世界上唯一可以从上、下、前、后、左、右六个方位观赏的瀑布，也是世界上有水帘洞自然贯通且能从洞内外听、观、摸的瀑布。景观变幻无穷，是为一绝。 在瀑布上游和下游，由18个雄奇险秀、风格各异的瀑布组成黄果树瀑布群，有落差高达410米的滴水滩瀑布，有瀑面宽达110米的陡坡塘瀑布，有滩面长达350米的螺丝滩瀑布及形态秀美的银练坠潭瀑布等，是天然的“瀑布博物馆”。 【景点介绍】 数生步是进入天星桥的第一个景点，脚下的石头散落在水中，形成了365块跳蹬，正好暗合了一年的周期，它韵含了世界上每个人的生日，你可以从第一个跳蹬开始数，因为每个跳蹬上都刻有日期，当数到您生日的时候，看看四周围的景色，将有美不胜收之感，你可以在这许一个心愿，照相留念。 天星洞曾经是一条地下暗河，后来由于排泄面的降底，流水改道，形成了一个没有水的地下溶洞。天星洞是一个很具观赏价值的溶洞，它由一个大厅和若干侧厅组成，这里景观千奇百怪，洞中石笋、石柱、石花等形态各异、五光十色，最引人注目的景观有鲤鱼跳龙门、八仙过海、美女梳头、石鸡晓唱、苗岭梯田、将军帽等。',\r\n                        'Address': '镇宁布依族苗族自治县境内白水河上游',\r\n                        'ColligationScore': 4.9,\r\n                        'Distance': 990.86210520336624,\r\n                        'Zdxmc': 'AAAAA',\r\n                        'Longitude': 105.676450,\r\n                        'Latitude': 25.994852,\r\n                        'PX': null,\r\n                        'OrderNum': 265,\r\n                        'Price': 0.06,\r\n                        'GetImage': {\r\n                            'ImageFrontUrl': 'http://103.10.86.241:8081/Attachment/default/Small/2015/6/4/20150604145645000215244162.jpg',\r\n                            'ImageList': null\r\n                        }\r\n                    },\r\n                    {\r\n                        'Code': 'JQ000078',\r\n                        'CnName': '龙宫风景名胜区',\r\n                        'Summary': '国家级风景名胜区--龙宫，与举世闻名的黄果树大瀑布毗邻。距贵州省会贵阳市116公里，距贵州旅游中心城市--安顺市仅27公里，全程高速公路直驱，交通十分便利。龙宫风景区总体面积60平方公里， 有着托很多禀赋极高的风景资源。“吞石为洞，吐石为花，神宫赖水造；聚水成渊，覆水成瀑，胜景依石生”，是龙宫景观的真实写照。步入龙宫，就是步入“喀斯特景观博物馆”，翻开了一幅“喀斯特的清明上河图”。其地上景与地下景、洞内景与洞外景交替展现，令游客目不暇接、乐不思归。除以“水旱溶洞最多、最为集中和天然辐射剂量率最低”获两项世界记录外，还有着许多神奇秀丽的喀斯特景观，其中备受游客推崇的有：一是被游客誉称为“中国第一水溶洞”的地下暗河溶洞；二是“全国最大的洞中寺院--龙宫观音洞”；三是“全国最大的洞中瀑布--龙宫龙门飞瀑”；四是“山不转水转的旋水奇观--龙宫漩塘”。',\r\n                        'Address': '安顺市南马头乡龙潭村',\r\n                        'ColligationScore': 4.9,\r\n                        'Distance': 966.214577853773,\r\n                        'Zdxmc': 'AAAAA',\r\n                        'Longitude': 105.895189,\r\n                        'Latitude': 26.098328,\r\n                        'PX': null,\r\n                        'OrderNum': null,\r\n                        'Price': 150.00,\r\n                        'GetImage': {\r\n                            'ImageFrontUrl': 'http://103.10.86.241:8081/Attachment/default/Small/2017/8/11/201708111048002861398.jpg',\r\n                            'ImageList': null\r\n                        }\r\n                    },\r\n                    {\r\n                        'Code': 'JQ000073',\r\n                        'CnName': '紫云格凸河风景名胜区',\r\n                        'Summary': '格凸河穿洞风景名胜区：位于安顺以南100公里紫云苗族布依族自治县境内。景区内有连绵的峰林，幽深的峡谷，恢宏的溶洞，纵横交错的地面地下河流，古河道遗址崩塌而形成的“盲谷”原始森林，还有“洞居活化石”洞中苗寨及原始古朴的悬棺洞葬等。景区集山、水、洞、石、林、木组合之精髓，浑然一体，雄奇险峻，相得益彰，是名副其实的“喀斯特天然公园”，原始神秘，魅力无穷，是探奇揽胜科考探险理想之地。攀神秘盲谷，观民族绝技； 过陶翁生活，访穴居部落。   “贵州紫云格凸河喀斯特地貌是世界上最美的地方之一。”这是先后3次到紫云考察的法国科学院院士、地理学教授、著名的喀斯特专家理查德?迈耶的评价。紫云格凸河穿洞风景名胜区地处贵州省西部，距贵阳市161公里、安顺市76公里，总面积56.8平方公里，是中国国家级风景区，中国自然与文化双遗产地，中国南方喀斯特申报世界自然遗产入选地。   2006年入选中国最美的地方，是贵州省唯一授牌的省级攀岩运动基地，是贵州大学美学研究基地。“格凸”一词为苗语，意译为“圣地”。风景区包括大穿洞景区、大河景区、小穿洞景区、妖岩景区及多处独立景点。共有特级、一级景观5个，二级景观11个，三级景观14个。风景区内各种喀斯特地貌类型较为齐全，景源类型多，品位高，组合好，景观特色鲜明，文化内涵丰富，生态环境优良。以喀斯特地貌为基础，以穿洞群景观为代表，集峡谷河流、原生植被、苗族文化及风土人情景观于一体。幽深的峡谷，复杂神秘的风景溶洞，神奇而巨大的地下河系，独特的喀斯特风景盲谷及谷中的原始森林景观，陡岩飞瀑，连绵的峰丛、峰林，奇峰林立，翠竹掩舍，碧水中流，轻舟渔歌，有着世外桃源般的风景环境。可以说，格凸风景区是世界少有的的喀斯特自然公园。这里有美丽壮观的格凸大穿洞绝景及壮观的万燕归巢；有世界第二大洞厅――苗厅；有世界上最深的地下河竖井天坑――响水洞；有世界上保存最完好的古河道遗址---穿上洞、盲谷及神秘的谷中原始森林；有秀丽的夹山风光、世外桃源般的大河苗寨；有险峻的小穿洞峡谷、神秘美丽的天星洞；有人类最后的穴居部落-中洞苗寨；有能破解悬棺之秘，只有两户人家的脚杆寨等这些景观集岩溶、山、水、洞、石、林组合之精髓，融雄、奇、秀、险、幽、旷、奥为一身，构成一幅完美的风景图画。主要景点简介：1、大穿洞（燕子洞）位于下格井村东南约1公里处，是格凸河伏流的入口，海拔930米，泛舟进洞是270米长的河湾。大穿洞口高达116米，宽约25米，呈拱门形。洞口两侧展布白岩绝壁，洞壁陡峭，从农历清明到九月重阳，洞内有数十万只燕子翻飞其间，筑巢栖息，因此俗称“燕王宫”。当地有艺人可沿陡直洞壁攀岩而上获取燕窝，奇功绝技，惊险刺激。穿洞山体有“耳桶山摩崖题字”，洞顶有“燕子洞摩崖题字”，这些人文景观与自然景观相映成趣。 2、望天洞在大穿洞内河湾的尽头，有一个穿过碳酸盐岩地的大竖井，深370米，宽200米，又称“通天洞”。仰望苍穹，好象开了一道天窗，一缕缕阳光倾泻下来，与洞顶滴下的状如银丝的岩浆水交织在一起，形成道道彩虹，赤、橙、黄、绿、青、蓝、紫，奇妙无比。从天窗掉下的巨石，堆成一道天然堤坝，堵住河水，锁住蛟龙。堤坝中有一缺口，流水咆哮，破堤而下，水流越过源于天窗的混沌之后，穿行于12公里长的暗河伏流和大小洞厅之中。3、穿上洞从大穿洞外沿陡峭小道或从通天洞壁攀岩而上可达穿上洞。此洞高50米，宽70米，长137米，洞若天桥，洞内顶壁景观奇特，洞外的坡谷上长满了亚热带植物，其中有一片野芭蕉和方竹林。在穿洞的侧面又是一个巨大岩洞，由此出口上至山顶。4、盲谷从穿上洞往里走约500米，面前展现槽形凹地，四周为崩塌型峭壁陡岩所围。   盲谷是由古地下河遗址发育演变而成，可通过约20米高的竖井洞进入，长约1.8公里，分为三段，宽30─150米，岩壁高200─400米不等。盲谷内原始森林茂密，乔木、灌木、藤本等植物种类众多，是罕见的生态、生物多样性与环境所在地。5、夹山夹山一带的景观由峰丛、峡谷、绝壁、碧水、轻舟、渔歌、鸟语、花香等组成，人与自然，佳景天成。层峦叠翠，碧水中流，忽见两岸夹峙，一面是峰丛坠水，一面是火烧赤壁，构成了“夹山一线天”。与著名诗句“两岸猿声啼不往，轻舟已过万重山”的意境相似，绝壁孤峰，枯藤古树，轻舟渔歌，心旷神怡。6、大河苗寨大河苗寨所处的自然生态环境可谓得天独厚，由奇峰、河谷、沙湾、竹林、村寨、田园等组成复合景观。周围群峰环抱，格凸河从村前流过，中有良田百余亩，村舍依山脚分成几组，是难得的世外桃源。在大河苗寨背后的峰丛中，有一奇峰突兀而起，如同宝剑直指天穹，气宇轩昂。7、变色湖位于大河苗寨以南约500米处，是喀斯特地貌天然湖泊，因湖水会随季节的变化变换不同的颜色而得名，有时成铁红色，有时又成土黄色，有时成淡绿色，有时则清澈见底。犹如一面镜子映在万绿丛中，好像是上天赐给当地苗族人民的，因此又称“天赐湖”。该湖长约350米，宽约100米，海拔980米，比大河村高约47米。湖中有3个泉眼，枯水期流量为5-10升每秒，每年丰水期湖水自然排泄，水质很好，去污能力强。8、天星洞（悬棺洞）格凸河上游从天生桥进入伏流约3公里后，从天星洞口流出。天星洞高约110米，宽40米，洞口呈长方形，洞口巨岩横跨，洞壁石幔悬挂。洞中有悬棺，棺木多为榉木制成，一端置于岩上，一端悬置在圆木架上。9、小穿洞格凸河、猴场河和长顺的摆所河在穿洞内汇流后，从小穿洞口蘑菇潭涌出悬崖，形成落差几十米的瀑布，景观壮丽。该洞口高50米，宽40米，海拔790米，因形似巨鼓，又名“冒鼓天”。洞中石柱、石笋、石钟乳等化学沉积形态多而优美，石柱高达20多米。10、苗厅在小穿洞口往里走约500米处，洞长约700米，宽约215米，平均高70米，面积达11.6万平方米（约十二个足球场大），容积在700万立方米以上，是世界上第二大喀斯特洞厅。因附近有苗寨而称为“苗厅“，是1989年中法洞穴专家联合考察时发现的。洞内石笋、石柱、石幔等琳琅满目，在大厅的西北部有高达38米的巨大石笋，实属罕见。目前苗厅内有6个支洞尚未探明，在洪水季节，洪水将穿越过大厅，从岩石上倾泻而下，形成多级暗河瀑布群，颇为壮观。11、响水洞位于大穿洞与小穿洞之间，是格凸河伏流系统的枢纽，又叫“落水洞”。洞口位于格凸河顶部溶洼中央，呈椭圆形，是竖井天坑，直径约200米，深达216米，是目前已知的世界上最深的竖井洞。洞上可听到地下暗河露头的迭水声响彻如雷。沿东边顶端的岩壁往下可到达暗河边。河流在竖井底部的岩块中开出一条水道后，咆哮旋转于甄穴中，形成地下巨大的环流景观，消失在水仓之中。12、中洞人家在小穿洞出口的山顶上方，有上、中、下三个溶洞，上洞的海拔约1400米，是附近通往长顺的必经之地。上洞右侧300米处是中洞，又称“棕洞”，洞口高50米，宽100米，深200米，居住着21户苗族人家，房屋建筑均为无顶木柱竹篱。洞中有小学和操场。整个拱形的洞顶布满了灰白色的球形凹面，有很好的消音效果，洞内声音清晰，互不影响，但传至洞外，却如同混响。洞中人家的生活方式仍沿袭传统习俗，善良厚道，热情好客。13、下穿洞中洞下面是下洞，实为天桥，是一个巨大的岩溶穿洞，洞高约50米，长近300米，原为人居住，遗迹尚存。下洞对面是雄伟的摆架山，摆架山下是险峻的鼠场河。14、鼠场河峡谷，格凸河从小穿洞涌出后进入鼠场河，河谷在此深切展布，有近5公里长的陡直崖壁。谷中怪石嶙峋，水流时缓时急，从坡肩至谷底，两岸林木茂盛，水质清澈，呈淡蓝色。此处山、水、石、林形成的复合景观幽深险峻，有旷野之感。   紫云格凸河穿洞风景名胜区气候温和宜人，海拔高度适中，地处乡郊野外，水质清洁，空气清新，土壤、植被未受染污，自然生态环境质量优良。景区开发以来以其独特的风景名胜资源和良好的自然生态环境，吸引着越来越多的游客。来到格凸河，穿行溶洞、攀登盲谷、留连苗厅、泛舟峡谷、乘兴漂流、探入深潭、浅滩戏水、悬棺寻古、中洞暇思、竹林漫步，闲亭稍憩，返朴归真，情趣盎然，心旷神怡。',\r\n                        'Address': '安顺市紫云县水塘镇',\r\n                        'ColligationScore': 4.4,\r\n                        'Distance': 960.944034302579,\r\n                        'Zdxmc': 'AAAA',\r\n                        'Longitude': 106.270042,\r\n                        'Latitude': 25.682302,\r\n                        'PX': null,\r\n                        'OrderNum': 124,\r\n                        'Price': 190.00,\r\n                        'GetImage': {\r\n                            'ImageFrontUrl': 'http://103.10.86.241:8081/Attachment/default/Small/2015/6/10/20150610091626000305611163.jpg',\r\n                            'ImageList': null\r\n                        }\r\n                    },\r\n                    {\r\n                        'Code': 'JQ000075',\r\n                        'CnName': '云峰屯堡景区',\r\n                        'Summary': '云峰屯堡是AAAA级旅游景区。位于贵州安顺市以东15公里西秀区七眼桥镇，这里密布着保存完好的明代屯堡村寨40余个，构成屯堡文化村落群而被列为大世界吉尼斯之最。其中云山屯、本寨为全国重点文物保护单位。\\n屯堡是明代调北征南和调北填南在安顺一带屯军屯田，经过六百年的传承、演变而形成的历史文化遗存，具有唯一性，不可再生性。屯堡人的建筑、服饰、饮食、习俗、娱乐方式等仍保留着大明遗风，独具魅力。走进屯堡\\n，如同走进遥远的年代，使人留连忘返。',\r\n                        'Address': '贵州安顺市里西秀区七眼桥镇',\r\n                        'ColligationScore': 3.0,\r\n                        'Distance': 936.65213944026368,\r\n                        'Zdxmc': 'AAAA',\r\n                        'Longitude': 106.104047,\r\n                        'Latitude': 26.299548,\r\n                        'PX': null,\r\n                        'OrderNum': null,\r\n                        'Price': 50.00,\r\n                        'GetImage': {\r\n                            'ImageFrontUrl': 'http://103.10.86.241:8081/Attachment/default/Small/2015/6/4/2015060415080600073685017.jpg',\r\n                            'ImageList': null\r\n                        }\r\n                    },\r\n                    {\r\n                        'Code': 'JQ000072',\r\n                        'CnName': '天龙屯堡',\r\n                        'Summary': '天龙屯堡古镇位于贵州省西部平坝县，喀斯特地貌大山深处，屯堡景区东距省会贵阳60公里，贵黄高速公路、黔滇公路、贵昆铁路和清黄高速公路均从寨边穿过，素有“滇之喉、黔之腹”之称。是明朝洪武年间的屯军后裔所聚居的古镇。这是目前贵州开发最早、也最出名的一座，同时也是屯堡文化的精华所在。天龙屯堡景区，包括屯堡村寨、天台山和伍龙寺。在这里，你可以慢悠悠地在典型的喀斯特田园风光中走上半个小时，爬上天台山，登上在崖壁之上的伍龙寺，俯视这片土地，感受一下最典型的屯堡生活。天龙屯堡不是很大，花上一个小时就足够你走马观花地游览一圈。在屯堡，游客可以欣赏到历史悠久的古朴石板房和旧式民居，看到身着“凤阳汉装”的屯堡妇女，还可以看到被称为“活化石”的民间戏剧——地戏的表演。这种表演只能在安顺看到，且平时也很难有演出。这个面向游客的商业表演在屯堡内的演武堂内上演，每隔30分钟一场，一场10分钟左右。如果不想自己在屯堡中盲目乱转，在大门的游客中心买票后，即使只有一个人，游客也可以挑选一位身着传统服装的当地女孩全程担任导游，导游费包含在门票中。或者你也可以在和导游分开后，自己一个人，在这个充斥着古老巷道和院落的石头建筑群中独自探索。天龙屯堡东面矗立着天台山，北面有步道供游人拾阶而上。从山腰的停车场到山顶大约需要走20分钟。山顶有一座用石块筑成的伍龙寺。伍龙寺最高处的大观景台是观赏寺内全貌和飞檐上精美石雕的最佳地点，游客可以在此眺望四周的群山或是山下的农舍村庄。',\r\n                        'Address': '平坝县天龙镇旅游大道',\r\n                        'ColligationScore': 3.0,\r\n                        'Distance': 927.71392696746182,\r\n                        'Zdxmc': '未评级',\r\n                        'Longitude': 106.169488,\r\n                        'Latitude': 26.357418,\r\n                        'PX': null,\r\n                        'OrderNum': null,\r\n                        'Price': 60.00,\r\n                        'GetImage': {\r\n                            'ImageFrontUrl': 'http://103.10.86.241:8081/Attachment/default/Small/2017/8/11/201708111602235474928.jpg',\r\n                            'ImageList': null\r\n                        }\r\n                    },\r\n                    {\r\n                        'Code': 'JQ000096',\r\n                        'CnName': '屯堡文化旅游区-本寨',\r\n                        'Summary': '本寨属于云峰八寨，云峰八寨景区位于安顺市区以南的十八公里处。由云山屯、本寨、雷屯、小山寨等八个屯堡村寨组成，它是明初征南大军屯驻的核心区。',\r\n                        'Address': '安顺市区以南的十八公里处',\r\n                        'ColligationScore': 3.0,\r\n                        'Distance': 925.988539199477,\r\n                        'Zdxmc': '未评级',\r\n                        'Longitude': 106.282972,\r\n                        'Latitude': 26.224450,\r\n                        'PX': null,\r\n                        'OrderNum': null,\r\n                        'Price': 0.00,\r\n                        'GetImage': {\r\n                            'ImageFrontUrl': 'http://103.10.86.241:8081/Attachment/default/Small/2015/7/20/4201507201339147617694.jpeg',\r\n                            'ImageList': null\r\n                        }\r\n                    },\r\n                    {\r\n                        'Code': 'JQ000067',\r\n                        'CnName': '王若飞故居',\r\n                        'Summary': '故居始建于清代，王若飞曾祖父所建，1982年对外开放。故居临街，经过道进朝门入四合院，院内铺以方形石板，有石砌花坛、鱼池等，房屋为木结构小青瓦建筑，具有清代民居风格。现存部份家具实物及若飞青少年时期在日本、法国留学时进行革命活动资料，与毛泽东、周恩来等领导人一起工作时的照片、通讯手迹，重庆谈判时所穿衣物，遇难后党中央和中央领导的悼词，部份国民党要员、爱国将领、民主党派知名人士题词、挽联及有关王若飞的书籍，出版物等。王若飞故居为“全国爱国主义教育示范基地”',\r\n                        'Address': '安顺市西秀区北街174号',\r\n                        'ColligationScore': 3.0,\r\n                        'Distance': 953.48637506085913,\r\n                        'Zdxmc': '未评级',\r\n                        'Longitude': 105.936800,\r\n                        'Latitude': 26.254677,\r\n                        'PX': null,\r\n                        'OrderNum': null,\r\n                        'Price': 0.00,\r\n                        'GetImage': {\r\n                            'ImageFrontUrl': 'http://103.10.86.241:8081/Attachment/default/Small/2017/8/10/201708101840005352237.jpg',\r\n                            'ImageList': null\r\n                        }\r\n                    },\r\n                    {\r\n                        'Code': 'JQ000001',\r\n                        'CnName': '旧州古镇',\r\n                        'Summary': '旧州古镇位于安顺市之东南面，距省会贵阳80公里，距安顺市区30公里。地理位置优越，交通便利，气候宜人。2006年7月12日，旧州古镇被评为贵州省级历史文化名镇。     旧州在春秋时期时属牂牁国辖地，战国时为夜郎国属地，元朝时设为安顺州。明朝成化年间州治所迁往今安顺城，故名旧州。直至清末仍为安顺军民府亲辖地。有史以来，旧州就是一方政治、经济、文化中心。     旧州古城建于元朝至正十一年（公元1351年），街道按阴阳五行布局，古城墙为葫芦形结构。城内古寺林立，其中气势恢宏的城隍庙为乾隆皇帝御书匾额并拨专款修建；四合院民居清新典雅；宗族祠堂雄浑古朴。饱经沧桑的古城墙、古驿道、古遗址、古墓葬等大量文化遗存无不彰显出古镇厚重的历史文化底蕴。城外邢江河环绕，土地肥沃，物产丰富，使旧州享有“小江南”之美誉。     旧州人文荟萃，人才辈出，曾走出复兴贵州文化的清末进士周之冕、声震川湘两广的儒商简敬斋、国民党“一门三中委”谷正伦、谷正纲、谷正鼎三兄弟……     旧州是多民族聚居地，汉苗等民族和谐相处，多元文化共生繁荣，民风淳朴，风情浓郁。民族节日丰富多彩，民族歌舞热情奔放。在这片神奇而古老的土地上，明代“调北征南、调北填南”的“屯堡人”仍保持“大明遗风”，原始的地戏演绎着久远的历史，古老的生活习惯传承六百年，直到今天。',\r\n                        'Address': '安顺市西秀区东南部',\r\n                        'ColligationScore': 5.0,\r\n                        'Distance': 935.22058705607628,\r\n                        'Zdxmc': 'AAAA',\r\n                        'Longitude': 106.152793,\r\n                        'Latitude': 26.253704,\r\n                        'PX': null,\r\n                        'OrderNum': null,\r\n                        'Price': 0.00,\r\n                        'GetImage': {\r\n                            'ImageFrontUrl': 'http://103.10.86.241:8081/Attachment/default/Small/2015/6/4/20150604150806000317286426.jpg',\r\n                            'ImageList': null\r\n                        }\r\n                    },\r\n                    {\r\n                        'Code': 'JQ000074',\r\n                        'CnName': '兴伟石博园',\r\n                        'Summary': '兴伟公司石博园秉承“寻求民族致富之路，振兴安顺经济”的企业宗旨和“以实业报国为已任、艰苦创业、自强不息、勇于开拓、无私奉献”的企业发展精神，紧紧围绕安顺市委、市人民政府“创建中国优秀旅游城市”和“走进安顺、走进文化、走进历史、走进自然”的战略规划，坚持走大旅游、大商贸、大文化、大流通的发展之路，促进兴伟光彩事业的长驻发展。2007年12月，兴伟石博园等兴伟八大主题展馆被确定为安顺青少年爱国主义教育示范基地。这些文化产业的建成，填补了贵州古生物化石及石文化旅游资源利用的空白，对促进地方经济发展，提升安顺城市口味起到了重大作用，它与黄果树风景区互相呼应，已成为贵州西部黄金线旅游通道上颇具影响力的文化旅游景点。2009年我公司又在北京兴建了兴伟石文化艺术中心，是北京目前规模最大的石文化艺术中心。',\r\n                        'Address': '安顺市经济技术开发区迎宾路',\r\n                        'ColligationScore': 3.0,\r\n                        'Distance': 957.82937476070583,\r\n                        'Zdxmc': 'AAAA',\r\n                        'Longitude': 105.898353,\r\n                        'Latitude': 26.236279,\r\n                        'PX': null,\r\n                        'OrderNum': null,\r\n                        'Price': 68.00,\r\n                        'GetImage': {\r\n                            'ImageFrontUrl': 'http://103.10.86.241:8081/Attachment/default/Small/2015/6/4/20150604150808000558469830.jpg',\r\n                            'ImageList': null\r\n                        }\r\n                    },\r\n                    {\r\n                        'Code': 'JQ000071',\r\n                        'CnName': '关岭化石群国家地质公园',\r\n                        'Summary': '关岭化石群国家地质公园（Guanling fossil national geopark）位于中国贵州省西南部的安顺市关岭布依族苗族自治县，规划面积26平方千米，保护区200平方千米。核心区0.94平方千米。距贵州省贵阳市188千米，距黄果树瀑布景区52千米、龙宫溶洞景区90千米。贵州省省级风景名胜区花江大峡谷位于保护区内。',\r\n                        'Address': '贵州省关岭县新铺镇',\r\n                        'ColligationScore': 3.0,\r\n                        'Distance': 1017.51048662794,\r\n                        'Zdxmc': '未评级',\r\n                        'Longitude': 105.435101,\r\n                        'Latitude': 25.890220,\r\n                        'PX': null,\r\n                        'OrderNum': null,\r\n                        'Price': 100.00,\r\n                        'GetImage': {\r\n                            'ImageFrontUrl': 'http://103.10.86.241:8081/Attachment/default/Small/2015/6/10/20150610102443000500576105.jpg',\r\n                            'ImageList': null\r\n                        }\r\n                    }\r\n                ]\r\n            };\r\n            resolve(list);\r\n        }, 200);\r\n    });\r\n}\r\n\r\nfunction _getListRequestAction(orderFiled, orderType, pageIndex, searchKey, extraParams) {\r\n    return {\r\n        type: IConstant.Actions.SCENIC.LIST.GET_LIST_REQUEST,\r\n        orderFiled,\r\n        orderType,\r\n        pageIndex,\r\n        extraParams,\r\n        keyword: searchKey,\r\n    };\r\n}\r\n\r\nfunction _getListSuccessAction(orderFiled, orderType, pageIndex, searchKey, extraParams, result) {\r\n    return {\r\n        type: IConstant.Actions.SCENIC.LIST.GET_LIST_SUCCESS,\r\n        orderFiled,\r\n        orderType,\r\n        pageIndex,\r\n        keyword: searchKey,\r\n        extraParams,\r\n        result\r\n    };\r\n}\r\n\r\nfunction _getListFailureAction(orderFiled, orderType, extraParams, error) {\r\n    return {\r\n        type: IConstant.Actions.SCENIC.LIST.GET_LIST_FAILURE,\r\n        orderFiled,\r\n        orderType,\r\n        extraParams,\r\n        message: error\r\n    };\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/store/actions/scenic/listAction.js","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport ReactDOM from 'react-dom';\r\nimport { ListView, PullToRefresh, ActivityIndicator } from 'antd-mobile';\r\nimport { asyncGetListAction, asyncDeleteListAction, setScrollerPositionAction } from '../../store/actions/scenic/listAction';\r\nimport UIUtil from '../../core/utils/UIUtil';\r\nimport SysUtil from '../../core/utils/SysUtil';\r\nimport EmptyView from '../../views/common/EmptyView';\r\n\r\n// 综合、评分、距离\r\nconst sortFields: Array = ['Sort', 'scoreOrder', 'distanceOrder'];\r\nconst sortTypes: Array = ['desc', 'desc', 'asc'];\r\n\r\nclass ScenicListView extends Component\r\n{\r\n    constructor(props)\r\n    {\r\n        super(props);\r\n\r\n        this.renderRow = this.renderRow.bind(this);\r\n        this.onRefresh = this.onRefresh.bind(this);\r\n        this.loadNextPage = this.loadNextPage.bind(this);\r\n        this.renderFooter = this.renderFooter.bind(this);\r\n        \r\n        const dataSource = new ListView.DataSource({\r\n            rowHasChanged: (row1, row2) => row1 !== row2,\r\n            sectionHeaderHasChanged: (s1, s2) => s1 !== s2,\r\n        });\r\n\r\n        this.state = {\r\n            dataSource: dataSource.cloneWithRows(this.props.dataList ? this.props.dataList : []),\r\n        };\r\n    }\r\n    componentDidMount()\r\n    {\r\n        // 处理返回\r\n        if(!this.props.dataList)\r\n        {\r\n            this.loadData(this.props.inputKeyword);\r\n        }\r\n        if(this.listView && !isNaN(this.props.listViewOffset))\r\n        {\r\n            this.listView.scrollTo(0, this.props.listViewOffset);\r\n        }\r\n    }\r\n    componentWillReceiveProps(nextProps)\r\n    {\r\n        if(this.props.dataList !== nextProps.dataList)\r\n        {\r\n            this.setState({dataSource: this.state.dataSource.cloneWithRows(nextProps.dataList ? nextProps.dataList : [])});\r\n        }\r\n    }\r\n    render()\r\n    {\r\n        return (\r\n            <div className=\"scenicListBox\" style={{height: this.props.height}}>\r\n                {\r\n                    this.renderListView()\r\n                }\r\n                {\r\n                    !this.props.isFetching && (!this.props.dataList || this.props.dataList.length === 0)\r\n                        ?\r\n                        <EmptyView style={{height: this.props.height}} onClick={()=>this.onRefresh(this.props.inputKeyword)}/>\r\n                        :\r\n                        null\r\n                }\r\n                {\r\n                    (this.props.isFetching && this.props.pageIndex === 1)\r\n                        ?\r\n                        <ActivityIndicator \r\n                            toast\r\n                            text=\"Loading...\" />\r\n                        :null\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n    renderListView()\r\n    {\r\n        if(this.props.dataList && this.props.dataList.length > 0)\r\n        {\r\n            const separator = (sectionID, rowID) => (\r\n                <div\r\n                    key={`${sectionID}-${rowID}`}\r\n                    style={{\r\n                        height: 1,\r\n                        borderBottom: '0.5px solid #dddddd',\r\n                    }}\r\n                />\r\n            );\r\n    \r\n            return (\r\n                <ListView\r\n                    ref={(el) => {\r\n                        this.listView = el;\r\n                        UIUtil.fixListViewHeightIssue(el, this.props.height);\r\n                    }}\r\n                    dataSource={this.state.dataSource}\r\n                    renderRow={this.renderRow}\r\n                    renderSeparator={separator}\r\n                    style={{\r\n                        height: this.props.height,\r\n                        overflow: 'auto',\r\n                    }}\r\n                    pullToRefresh={<PullToRefresh\r\n                        refreshing={this.props.isFetching}\r\n                        onRefresh={()=>this.onRefresh(this.props.inputKeyword)}\r\n                    />}\r\n                    onEndReached={this.loadNextPage}\r\n                    renderFooter={this.renderFooter}\r\n                    initialListSize={this.props.dataList.length}\r\n                    pageSize={20}\r\n                    scrollRenderAheadDistance={500}\r\n                    scrollEventThrottle={50}\r\n                    onEndReachedThreshold={20}/>\r\n            );\r\n        }\r\n    }\r\n    searchByKeyword(keyword)\r\n    {\r\n        if(keyword === this.props.keyword || (this.isEmptyString(keyword) && this.isEmptyString(this.props.keyword)))\r\n        {\r\n            return;\r\n        }\r\n        this.onRefresh(keyword);\r\n    }\r\n    isEmptyString(str)\r\n    {\r\n        return !str || str.length === 0;\r\n    }\r\n    onRefresh(keyword)\r\n    {\r\n        this.props.dispatch(asyncDeleteListAction(sortFields[this.props.tabIndex], sortTypes[this.props.tabIndex], this.getExtraParams())).then(()=>{\r\n            this.loadData(keyword);\r\n        });\r\n        // this.props.dispatch(deleteListAction(sortFields[this.props.tabIndex], sortTypes[this.props.tabIndex]));\r\n        // setTimeout(()=>{\r\n        //     this.loadData(keyword);\r\n        // }, 50);\r\n    }\r\n    loadNextPage()\r\n    {\r\n        this.loadData();\r\n    }\r\n    renderFooter()\r\n    {\r\n        if(!this.props.isFetching || this.props.hasMore !== true)\r\n        {\r\n            return null;\r\n        }\r\n        return (\r\n            <div className=\"loadingMore\">\r\n                <ActivityIndicator\r\n                    text=\"Loading...\"\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n    renderRow(item, sectionID, rowID)\r\n    {\r\n        let imgUrl = item.GetImage ? item.GetImage.ImageFrontUrl : '';\r\n        return (\r\n            <div key={rowID} \r\n                className=\"scenicListItem\"\r\n                onClick={()=>{\r\n                    if(this.props.onItemClick)\r\n                    {\r\n                        this.props.onItemClick(item);\r\n                    }\r\n                }}>\r\n                <div style={{backgroundImage: `url(${imgUrl})`}} className=\"scenicListItemImg\"/>\r\n                <div className=\"scenicListItemTextBox\">\r\n                    <div className=\"scenicListItemName\">{item.CnName}</div>\r\n                    <div className=\"scenicListItemStar\">{item.Zdxmc}</div>\r\n                    <div className=\"scenicListItemOthers\">距离{item.Distance.toFixed(1)}km</div>\r\n                    <div className=\"scenicListItemOthers\">{item.ColligationScore}分</div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    loadData(keyword)\r\n    {\r\n        if(this.props.isFetching)\r\n        {\r\n            return;\r\n        }\r\n        if(this.props.hasMore === false)\r\n        {\r\n            return;\r\n        }\r\n\r\n        let pageIndex = this.props.pageIndex ? (this.props.pageIndex + 1) : 1;\r\n        this.props.dispatch(asyncGetListAction(sortFields[this.props.tabIndex], sortTypes[this.props.tabIndex], pageIndex, keyword ? keyword : this.props.keyword, this.getExtraParams()));\r\n    }\r\n    cacheScrollOffset()\r\n    {\r\n        if(!this.listView)\r\n        {\r\n            return;\r\n        }\r\n        let offsetY = ReactDOM.findDOMNode(this.listView).scrollTop;\r\n        this.props.dispatch(setScrollerPositionAction(sortFields[this.props.tabIndex], sortTypes[this.props.tabIndex], offsetY, this.getExtraParams()));\r\n    }\r\n    getExtraParams()\r\n    {\r\n        return {\r\n            storeKey: this.props.storeKey,\r\n        };\r\n    }\r\n}\r\n\r\nScenicListView.propTypes = {\r\n    // 列表项点击事件\r\n    onItemClick: PropTypes.func,\r\n};\r\n\r\nconst mapStateToProps = function(state, ownProps)\r\n{\r\n    let storeItem = (ownProps.storeKey && ownProps.storeKey.length > 0) ? SysUtil.getStoreItemByDotConnector(state, ownProps.storeKey) : state.scenic.listScreen;\r\n    let obj = storeItem.groups[sortFields[ownProps.tabIndex]];\r\n    return {\r\n        selectedTabIndex: storeItem.selectedTabIndex,\r\n        ...obj,\r\n        inputKeyword: storeItem.keyword,\r\n    };\r\n};\r\n\r\nScenicListView = connect(mapStateToProps, null, null, {withRef: true})(ScenicListView);\r\n\r\nexport default ScenicListView;\n\n\n// WEBPACK FOOTER //\n// ./src/views/scenic/ScenicListView.js"],"sourceRoot":""}