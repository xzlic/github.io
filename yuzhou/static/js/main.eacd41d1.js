webpackJsonp([24],[,function(e,t,n){"use strict";n.d(t,"o",function(){return r}),n.d(t,"c",function(){return a}),n.d(t,"a",function(){return i}),n.d(t,"d",function(){return o}),n.d(t,"t",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"s",function(){return l}),n.d(t,"h",function(){return u}),n.d(t,"k",function(){return p}),n.d(t,"l",function(){return d}),n.d(t,"n",function(){return h}),n.d(t,"r",function(){return E}),n.d(t,"m",function(){return m}),n.d(t,"j",function(){return f}),n.d(t,"i",function(){return T}),n.d(t,"p",function(){return I}),n.d(t,"f",function(){return g}),n.d(t,"g",function(){return S}),n.d(t,"e",function(){return _}),n.d(t,"q",function(){return O});var r=10,a="rEbQDhkj1LktHPyrVvxjTLSe1IIYqGsW",i=1e4,o="",s=100,c={HOME:{GET_NEWS_REQUEST:"HOME_GET_NEWS_REQUEST",GET_NEWS_SUCCESS:"HOME_GET_NEWS_SUCCESS",GET_NEWS_FAILURE:"HOME_GET_NEWS_FAILURE",SET_SCROLL_OFFSET:"HOME_SET_SCROLL_OFFSET",GET_WEATHER_SUCCESS:"HOME_GET_WEATHER_SUCCESS",NEWS_INCREASE_CLICK_COUNT:"HOME_NEWS_INCREASE_CLICK_COUNT"},SCENIC:{LIST:{SET_SELECTED_TAB_INDEX:"SCENIC_LIST_SELECTED_TAB_INDEX_SET",GET_LIST_REQUEST:"SCENIC_GET_LIST_REQUEST",GET_LIST_SUCCESS:"SCENIC_GET_LIST_SUCCESS",GET_LIST_FAILURE:"SCENIC_GET_LIST_FAILURE",GO_BACK:"SCENIC_LIST_GO_BACK",DELETE:"SCENIC_LIST_DELETE",SET_KEYWORD:"SCENIC_SET_KEYWORD",SET_LISTVIEW_OFFSET:"SCENIC_LIST_SET_LISTVIEW_OFFSET"},RECOMMEND_LIST:{GET_LIST_REQUEST:"SCENIC_GET_RECOMMEND_LIST_REQUEST",GET_LIST_SUCCESS:"SCENIC_GET_RECOMMEND_LIST_SUCCESS",GET_LIST_FAILURE:"SCENIC_GET_RECOMMEND_LIST_FAILURE",GO_BACK:"SCENIC_RECOMMEND_LIST_GO_BACK",DELETE:"SCENIC_RECOMMEND_LIST_DELETE",SET_LISTVIEW_OFFSET:"SCENIC_RECOMMEND_LIST_SET_LISTVIEW_OFFSET"},DETAIL:{GET_DETAIL_REQUEST:"SCENIC_GET_DETAIL_REQUEST",GET_DETAIL_SUCCESS:"SCENIC_GET_DETAIL_SUCCESS",GET_DETAIL_FAILURE:"SCENIC_GET_DETAIL_FAILURE",GET_TICKET_LIST_REQUEST:"SCENIC_GET_TICKET_LIST_REQUEST",GET_TICKET_LIST_SUCCESS:"SCENIC_GET_TICKET_LIST_SUCCESS",GET_TICKET_LIST_FAILURE:"SCENIC_GET_TICKET_LIST_FAILURE",GET_SCENERY_LIST_REQUEST:"SCENIC_GET_SCENERY_LIST_REQUEST",GET_SCENERY_LIST_SUCCESS:"SCENIC_GET_SCENERY_LIST_SUCCESS",GET_SCENERY_LIST_FAILURE:"SCENIC_GET_SCENERY_LIST_FAILURE",GO_BACK:"SCENIC_DETAIL_GO_BACK",SET_DETAIL_SCROLL_OFFSET:"SCENIC_DETAIL_SET_SCROLL_OFFSET",SET_SCENERY_LIST_SCROLL_OFFSET:"SCENIC_SCENERY_LIST_SET_SCROLL_OFFSET",SET_SCENERY_DETAIL_SCROLL_OFFSET:"SCENIC_SCENERY_DETAIL_SET_SCROLL_OFFSET"}},HOTEL:{LIST:{SET_SELECTED_TAB_INDEX:"HOTEL_LIST_SELECTED_TAB_INDEX_SET",GET_LIST_REQUEST:"HOTEL_GET_LIST_REQUEST",GET_LIST_SUCCESS:"HOTEL_GET_LIST_SUCCESS",GET_LIST_FAILURE:"HOTEL_GET_LIST_FAILURE",GO_BACK:"HOTEL_LIST_GO_BACK",DELETE:"HOTEL_LIST_DELETE",SET_KEYWORD:"HOTEL_SET_KEYWORD",SET_LISTVIEW_OFFSET:"HOTEL_LIST_SET_LISTVIEW_OFFSET"},RECOMMEND_LIST:{GET_LIST_REQUEST:"HOTEL_GET_RECOMMEND_LIST_REQUEST",GET_LIST_SUCCESS:"HOTEL_GET_RECOMMEND_LIST_SUCCESS",GET_LIST_FAILURE:"HOTEL_GET_RECOMMEND_LIST_FAILURE",GO_BACK:"HOTEL_RECOMMEND_LIST_GO_BACK",DELETE:"HOTEL_RECOMMEND_LIST_DELETE",SET_LISTVIEW_OFFSET:"HOTEL_RECOMMEND_LIST_SET_LISTVIEW_OFFSET"},DETAIL:{GET_DETAIL_REQUEST:"HOTEL_GET_DETAIL_REQUEST",GET_DETAIL_SUCCESS:"HOTEL_GET_DETAIL_SUCCESS",GET_DETAIL_FAILURE:"HOTEL_GET_DETAIL_FAILURE",GET_ROOM_LIST_REQUEST:"HOTEL_GET_ROOM_LIST_REQUEST",GET_ROOM_LIST_SUCCESS:"HOTEL_GET_ROOM_LIST_SUCCESS",GET_ROOM_LIST_FAILURE:"HOTEL_GET_ROOM_LIST_FAILURE",GO_BACK:"HOTEL_DETAIL_GO_BACK",SET_DETAIL_SCROLL_OFFSET:"HOTEL_DETAIL_SET_SCROLL_OFFSET"}},ACTIVITY:{LIST:{GET_LIST_REQUEST:"ACTIVITY_GET_LIST_REQUEST",GET_LIST_SUCCESS:"ACTIVITY_GET_LIST_SUCCESS",GET_LIST_FAILURE:"ACTIVITY_GET_LIST_FAILURE",GO_BACK:"ACTIVITY_LIST_GO_BACK",DELETE:"ACTIVITY_LIST_DELETE",SET_LISTVIEW_OFFSET:"ACTIVITY_LIST_SET_LISTVIEW_OFFSET"},DETAIL:{GET_DETAIL_REQUEST:"ACTIVITY_GET_DETAIL_REQUEST",GET_DETAIL_SUCCESS:"ACTIVITY_GET_DETAIL_SUCCESS",GET_DETAIL_FAILURE:"ACTIVITY_GET_DETAIL_FAILURE",GO_BACK:"ACTIVITY_DETAIL_GO_BACK",SET_DETAIL_SCROLL_OFFSET:"ACTIVITY_DETAIL_SET_SCROLL_OFFSET"}},NEWS:{LIST:{SET_SELECTED_TAB_INDEX:"NEWS_LIST_SELECTED_TAB_INDEX_SET",GET_LIST_REQUEST:"NEWS_GET_LIST_REQUEST",GET_LIST_SUCCESS:"NEWS_GET_LIST_SUCCESS",GET_LIST_FAILURE:"NEWS_GET_LIST_FAILURE",GO_BACK:"NEWS_LIST_GO_BACK",DELETE:"NEWS_LIST_DELETE",SET_LISTVIEW_OFFSET:"NEWS_LIST_SET_LISTVIEW_OFFSET",INCREASE_CLICK_COUNT:"NEWS_LIST_INCREASE_CLICK_COUNT"},DETAIL:{GET_DETAIL_REQUEST:"NEWS_GET_DETAIL_REQUEST",GET_DETAIL_SUCCESS:"NEWS_GET_DETAIL_SUCCESS",GET_DETAIL_FAILURE:"NEWS_GET_DETAIL_FAILURE",GO_BACK:"NEWS_DETAIL_DELETE"}},FESTIVAL_NEWS:{LIST:{SET_SELECTED_TAB_INDEX:"FESTIVAL_NEWS_LIST_SELECTED_TAB_INDEX_SET",GET_LIST_REQUEST:"FESTIVAL_NEWS_GET_LIST_REQUEST",GET_LIST_SUCCESS:"FESTIVAL_NEWS_GET_LIST_SUCCESS",GET_LIST_FAILURE:"FESTIVAL_NEWS_GET_LIST_FAILURE",GO_BACK:"FESTIVAL_NEWS_LIST_GO_BACK",DELETE:"FESTIVAL_NEWS_LIST_DELETE",SET_LISTVIEW_OFFSET:"FESTIVAL_NEWS_LIST_SET_LISTVIEW_OFFSET"},DETAIL:{GET_DETAIL_REQUEST:"FESTIVAL_NEWS_GET_DETAIL_REQUEST",GET_DETAIL_SUCCESS:"FESTIVAL_NEWS_GET_DETAIL_SUCCESS",GET_DETAIL_FAILURE:"FESTIVAL_NEWS_GET_DETAIL_FAILURE",GO_BACK:"FESTIVAL_NEWS_DETAIL_DELETE"}},STRATEGY:{LIST:{SET_SELECTED_TAB_INDEX:"STRATEGY_LIST_SELECTED_TAB_INDEX_SET",GET_LIST_REQUEST:"STRATEGY_GET_LIST_REQUEST",GET_LIST_SUCCESS:"STRATEGY_GET_LIST_SUCCESS",GET_LIST_FAILURE:"STRATEGY_GET_LIST_FAILURE",GO_BACK:"STRATEGY_LIST_GO_BACK",DELETE:"STRATEGY_LIST_DELETE",SET_LISTVIEW_OFFSET:"STRATEGY_LIST_SET_LISTVIEW_OFFSET",INCREASE_CLICK_COUNT:"STRATEGY_LIST_INCREASE_CLICK_COUNT"},DETAIL:{GET_DETAIL_REQUEST:"STRATEGY_GET_DETAIL_REQUEST",GET_DETAIL_SUCCESS:"STRATEGY_GET_DETAIL_SUCCESS",GET_DETAIL_FAILURE:"STRATEGY_GET_DETAIL_FAILURE",GO_BACK:"STRATEGY_DETAIL_DELETE"}},LINE:{LIST:{SET_SELECTED_TAB_INDEX:"LINE_LIST_SELECTED_TAB_INDEX_SET",GET_LIST_REQUEST:"LINE_GET_LIST_REQUEST",GET_LIST_SUCCESS:"LINE_GET_LIST_SUCCESS",GET_LIST_FAILURE:"LINE_GET_LIST_FAILURE",GO_BACK:"LINE_LIST_GO_BACK",DELETE:"LINE_LIST_DELETE",SET_KEYWORD:"LINE_SET_KEYWORD",SET_LISTVIEW_OFFSET:"LINE_LIST_SET_LISTVIEW_OFFSET"},DETAIL:{GET_DETAIL_REQUEST:"LINE_GET_DETAIL_REQUEST",GET_DETAIL_SUCCESS:"LINE_GET_DETAIL_SUCCESS",GET_DETAIL_FAILURE:"LINE_GET_DETAIL_FAILURE",GO_BACK:"LINE_DETAIL_GO_BACK",SET_DETAIL_SCROLL_OFFSET:"LINE_DETAIL_SET_SCROLL_OFFSET"}},TRAVEL_NOTES:{LIST:{SET_SELECTED_TAB_INDEX:"TRAVEL_NOTES_LIST_SELECTED_TAB_INDEX_SET",GET_LIST_REQUEST:"TRAVEL_NOTES_GET_LIST_REQUEST",GET_LIST_SUCCESS:"TRAVEL_NOTES_GET_LIST_SUCCESS",GET_LIST_FAILURE:"TRAVEL_NOTES_GET_LIST_FAILURE",GO_BACK:"TRAVEL_NOTES_LIST_GO_BACK",DELETE:"TRAVEL_NOTES_LIST_DELETE",SET_LISTVIEW_OFFSET:"TRAVEL_NOTES_LIST_SET_LISTVIEW_OFFSET"},DETAIL:{GET_DETAIL_REQUEST:"TRAVEL_NOTES_GET_DETAIL_REQUEST",GET_DETAIL_SUCCESS:"TRAVEL_NOTES_GET_DETAIL_SUCCESS",GET_DETAIL_FAILURE:"TRAVEL_NOTES_GET_DETAIL_FAILURE",GO_BACK:"TRAVEL_NOTES_DETAIL_DELETE",GET_COMMENT_REQUEST:"TRAVEL_NOTES_GET_COMMENT_REQUEST",GET_COMMENT_SUCCESS:"TRAVEL_NOTES_GET_COMMENT_SUCCESS",GET_COMMENT_FAILURE:"TRAVEL_NOTES_GET_COMMENT_FAILURE",SEND_COMMENT_REQUEST:"TRAVEL_NOTES_SEND_COMMENT_REQUEST",SEND_COMMENT_SUCCESS:"TRAVEL_NOTES_SEND_COMMENT_SUCCESS",SEND_COMMENT_FAILURE:"TRAVEL_NOTES_SEND_COMMENT_FAILURE"}},FOOD:{LIST:{SET_SELECTED_TAB_INDEX:"FOOD_LIST_SELECTED_TAB_INDEX_SET",GET_LIST_REQUEST:"FOOD_GET_LIST_REQUEST",GET_LIST_SUCCESS:"FOOD_GET_LIST_SUCCESS",GET_LIST_FAILURE:"FOOD_GET_LIST_FAILURE",GO_BACK:"FOOD_LIST_GO_BACK",DELETE:"FOOD_LIST_DELETE",SET_KEYWORD:"FOOD_SET_KEYWORD",SET_LISTVIEW_OFFSET:"FOOD_LIST_SET_LISTVIEW_OFFSET"},RECOMMEND_LIST:{GET_LIST_REQUEST:"FOOD_GET_RECOMMEND_LIST_REQUEST",GET_LIST_SUCCESS:"FOOD_GET_RECOMMEND_LIST_SUCCESS",GET_LIST_FAILURE:"FOOD_GET_RECOMMEND_LIST_FAILURE",GO_BACK:"FOOD_RECOMMEND_LIST_GO_BACK",DELETE:"FOOD_RECOMMEND_LIST_DELETE",SET_LISTVIEW_OFFSET:"FOOD_RECOMMEND_LIST_SET_LISTVIEW_OFFSET"},DETAIL:{GET_DETAIL_REQUEST:"FOOD_GET_DETAIL_REQUEST",GET_DETAIL_SUCCESS:"FOOD_GET_DETAIL_SUCCESS",GET_DETAIL_FAILURE:"FOOD_GET_DETAIL_FAILURE",GO_BACK:"FOOD_DETAIL_GO_BACK",SET_DETAIL_SCROLL_OFFSET:"FOOD_DETAIL_SET_SCROLL_OFFSET"}},RESTAURANT:{LIST:{SET_SELECTED_TAB_INDEX:"RESTAURANT_LIST_SELECTED_TAB_INDEX_SET",GET_LIST_REQUEST:"RESTAURANT_GET_LIST_REQUEST",GET_LIST_SUCCESS:"RESTAURANT_GET_LIST_SUCCESS",GET_LIST_FAILURE:"RESTAURANT_GET_LIST_FAILURE",GO_BACK:"RESTAURANT_LIST_GO_BACK",DELETE:"RESTAURANT_LIST_DELETE",SET_KEYWORD:"RESTAURANT_SET_KEYWORD",SET_LISTVIEW_OFFSET:"RESTAURANT_LIST_SET_LISTVIEW_OFFSET"},DETAIL:{GET_DETAIL_REQUEST:"RESTAURANT_GET_DETAIL_REQUEST",GET_DETAIL_SUCCESS:"RESTAURANT_GET_DETAIL_SUCCESS",GET_DETAIL_FAILURE:"RESTAURANT_GET_DETAIL_FAILURE",GO_BACK:"RESTAURANT_DETAIL_GO_BACK",SET_DETAIL_SCROLL_OFFSET:"RESTAURANT_DETAIL_SET_SCROLL_OFFSET"}},SPECIALTY:{LIST:{SET_SELECTED_TAB_INDEX:"SPECIALTY_LIST_SELECTED_TAB_INDEX_SET",GET_LIST_REQUEST:"SPECIALTY_GET_LIST_REQUEST",GET_LIST_SUCCESS:"SPECIALTY_GET_LIST_SUCCESS",GET_LIST_FAILURE:"SPECIALTY_GET_LIST_FAILURE",GO_BACK:"SPECIALTY_LIST_GO_BACK",DELETE:"SPECIALTY_LIST_DELETE",SET_KEYWORD:"SPECIALTY_SET_KEYWORD",SET_LISTVIEW_OFFSET:"SPECIALTY_LIST_SET_LISTVIEW_OFFSET"},RECOMMEND_LIST:{GET_LIST_REQUEST:"SPECIALTY_GET_RECOMMEND_LIST_REQUEST",GET_LIST_SUCCESS:"SPECIALTY_GET_RECOMMEND_LIST_SUCCESS",GET_LIST_FAILURE:"SPECIALTY_GET_RECOMMEND_LIST_FAILURE",GO_BACK:"SPECIALTY_RECOMMEND_LIST_GO_BACK",DELETE:"SPECIALTY_RECOMMEND_LIST_DELETE",SET_LISTVIEW_OFFSET:"SPECIALTY_RECOMMEND_LIST_SET_LISTVIEW_OFFSET"},DETAIL:{GET_DETAIL_REQUEST:"SPECIALTY_GET_DETAIL_REQUEST",GET_DETAIL_SUCCESS:"SPECIALTY_GET_DETAIL_SUCCESS",GET_DETAIL_FAILURE:"SPECIALTY_GET_DETAIL_FAILURE",GO_BACK:"SPECIALTY_DETAIL_GO_BACK",SET_DETAIL_SCROLL_OFFSET:"SPECIALTY_DETAIL_SET_SCROLL_OFFSET"}},FUN:{LIST:{SET_SELECTED_TAB_INDEX:"FUN_LIST_SELECTED_TAB_INDEX_SET",GET_LIST_REQUEST:"FUN_GET_LIST_REQUEST",GET_LIST_SUCCESS:"FUN_GET_LIST_SUCCESS",GET_LIST_FAILURE:"FUN_GET_LIST_FAILURE",GO_BACK:"FUN_LIST_GO_BACK",DELETE:"FUN_LIST_DELETE",SET_KEYWORD:"FUN_SET_KEYWORD",SET_LISTVIEW_OFFSET:"FUN_LIST_SET_LISTVIEW_OFFSET"},RECOMMEND_LIST:{GET_LIST_REQUEST:"FUN_GET_RECOMMEND_LIST_REQUEST",GET_LIST_SUCCESS:"FUN_GET_RECOMMEND_LIST_SUCCESS",GET_LIST_FAILURE:"FUN_GET_RECOMMEND_LIST_FAILURE",GO_BACK:"FUN_RECOMMEND_LIST_GO_BACK",DELETE:"FUN_RECOMMEND_LIST_DELETE",SET_LISTVIEW_OFFSET:"FUN_RECOMMEND_LIST_SET_LISTVIEW_OFFSET"},DETAIL:{GET_DETAIL_REQUEST:"FUN_GET_DETAIL_REQUEST",GET_DETAIL_SUCCESS:"FUN_GET_DETAIL_SUCCESS",GET_DETAIL_FAILURE:"FUN_GET_DETAIL_FAILURE",GO_BACK:"FUN_DETAIL_GO_BACK",SET_DETAIL_SCROLL_OFFSET:"FUN_DETAIL_SET_SCROLL_OFFSET"}},SHOPPING:{LIST:{SET_SELECTED_TAB_INDEX:"SHOPPING_LIST_SELECTED_TAB_INDEX_SET",GET_LIST_REQUEST:"SHOPPING_GET_LIST_REQUEST",GET_LIST_SUCCESS:"SHOPPING_GET_LIST_SUCCESS",GET_LIST_FAILURE:"SHOPPING_GET_LIST_FAILURE",GO_BACK:"SHOPPING_LIST_GO_BACK",DELETE:"SHOPPING_LIST_DELETE",SET_KEYWORD:"SHOPPING_SET_KEYWORD",SET_LISTVIEW_OFFSET:"SHOPPING_LIST_SET_LISTVIEW_OFFSET"},RECOMMEND_LIST:{GET_LIST_REQUEST:"SHOPPING_GET_RECOMMEND_LIST_REQUEST",GET_LIST_SUCCESS:"SHOPPING_GET_RECOMMEND_LIST_SUCCESS",GET_LIST_FAILURE:"SHOPPING_GET_RECOMMEND_LIST_FAILURE",GO_BACK:"SHOPPING_RECOMMEND_LIST_GO_BACK",DELETE:"SHOPPING_RECOMMEND_LIST_DELETE",SET_LISTVIEW_OFFSET:"SHOPPING_RECOMMEND_LIST_SET_LISTVIEW_OFFSET"},DETAIL:{GET_DETAIL_REQUEST:"SHOPPING_GET_DETAIL_REQUEST",GET_DETAIL_SUCCESS:"SHOPPING_GET_DETAIL_SUCCESS",GET_DETAIL_FAILURE:"SHOPPING_GET_DETAIL_FAILURE",GO_BACK:"SHOPPING_DETAIL_GO_BACK",SET_DETAIL_SCROLL_OFFSET:"SHOPPING_DETAIL_SET_SCROLL_OFFSET"}},FORUM:{LIST:{SET_SELECTED_GROUP_INDEX:"FORUM_LIST_SELECTED_GROUP_INDEX_SET",GET_GROUP_LIST_REQUEST:"FORUM_GET_GROUP_LIST_REQUEST",GET_GROUP_LIST_SUCCESS:"FORUM_GET_GROUP_LIST_SUCCESS",GET_GROUP_LIST_FAILURE:"FORUM_GET_GROUP_LIST_FAILURE",GET_LIST_REQUEST:"FORUM_GET_LIST_REQUEST",GET_LIST_SUCCESS:"FORUM_GET_LIST_SUCCESS",GET_LIST_FAILURE:"FORUM_GET_LIST_FAILURE",GO_BACK:"FORUM_LIST_GO_BACK",DELETE:"FORUM_LIST_DELETE",SET_LISTVIEW_OFFSET:"FORUM_LIST_SET_LISTVIEW_OFFSET"},DETAIL:{GET_DETAIL_REQUEST:"FORUM_DETAIL_GET_DETAIL_REQUEST",GET_DETAIL_SUCCESS:"FORUM_DETAIL_GET_DETAIL_SUCCESS",GET_DETAIL_FAILURE:"FORUM_DETAIL_GET_DETAIL_FAILURE",SEND_COMMENTS_REQUEST:"FORUM_DETAIL_SEND_COMMENTS_REQUEST",SEND_COMMENTS_SUCCESS:"FORUM_DETAIL_SEND_COMMENTS_SUCCESS",SEND_COMMENTS_FAILURE:"FORUM_DETAIL_SEND_COMMENTS_FAILURE",GO_BACK:"FORUM_DETAIL_DELETE"}},COMMENTS:{ADD_ORDER_COMMENTS_SUCCESS:"ADD_ORDER_COMMENTS_SUCCESS",LIST:{GET_LIST_REQUEST:"COMMENTS_LIST_GET_LIST_REQUEST",GET_LIST_SUCCESS:"COMMENTS_LIST_GET_LIST_SUCCESS",GET_LIST_FAILURE:"COMMENTS_LIST_GET_LIST_FAILURE",GO_BACK:"COMMENTS_LIST_GO_BACK",DELETE:"COMMENTS_LIST_DELETE"}},FARM_HOUSE:{LIST:{SET_SELECTED_TAB_INDEX:"FARM_HOUSE_LIST_SELECTED_TAB_INDEX_SET",GET_LIST_REQUEST:"FARM_HOUSE_GET_LIST_REQUEST",GET_LIST_SUCCESS:"FARM_HOUSE_GET_LIST_SUCCESS",GET_LIST_FAILURE:"FARM_HOUSE_GET_LIST_FAILURE",GO_BACK:"FARM_HOUSE_LIST_GO_BACK",DELETE:"FARM_HOUSE_LIST_DELETE",SET_KEYWORD:"FARM_HOUSE_SET_KEYWORD",SET_LISTVIEW_OFFSET:"FARM_HOUSE_LIST_SET_LISTVIEW_OFFSET"},DETAIL:{GET_DETAIL_REQUEST:"FARM_HOUSE_GET_DETAIL_REQUEST",GET_DETAIL_SUCCESS:"FARM_HOUSE_GET_DETAIL_SUCCESS",GET_DETAIL_FAILURE:"FARM_HOUSE_GET_DETAIL_FAILURE",GO_BACK:"FARM_HOUSE_DETAIL_GO_BACK",SET_DETAIL_SCROLL_OFFSET:"FARM_HOUSE_DETAIL_SET_SCROLL_OFFSET"}},TRAVEL_AGENT:{LIST:{SET_SELECTED_TAB_INDEX:"TRAVEL_AGENT_LIST_SELECTED_TAB_INDEX_SET",GET_LIST_REQUEST:"TRAVEL_AGENT_GET_LIST_REQUEST",GET_LIST_SUCCESS:"TRAVEL_AGENT_GET_LIST_SUCCESS",GET_LIST_FAILURE:"TRAVEL_AGENT_GET_LIST_FAILURE",GO_BACK:"TRAVEL_AGENT_LIST_GO_BACK",DELETE:"TRAVEL_AGENT_LIST_DELETE",SET_KEYWORD:"TRAVEL_AGENT_SET_KEYWORD",SET_LISTVIEW_OFFSET:"TRAVEL_AGENT_LIST_SET_LISTVIEW_OFFSET"},DETAIL:{GET_DETAIL_REQUEST:"TRAVEL_AGENT_GET_DETAIL_REQUEST",GET_DETAIL_SUCCESS:"TRAVEL_AGENT_GET_DETAIL_SUCCESS",GET_DETAIL_FAILURE:"TRAVEL_AGENT_GET_DETAIL_FAILURE",GO_BACK:"TRAVEL_AGENT_DETAIL_GO_BACK",SET_DETAIL_SCROLL_OFFSET:"TRAVEL_AGENT_DETAIL_SET_SCROLL_OFFSET"}},ME:{USER_INFO:{LOGIN_REQUEST:"USER_LOGIN_REQUEST",LOGIN_SUCCESS:"USER_LOGIN_SUCCESS",LOGIN_FAILURE:"USER_LOGIN_FAILURE",EXIT_LOGIN:"USER_EXIT_LOGIN",GET_INFO_REQUEST:"USER_GET_INFO_REQUEST",GET_INFO_SUCCESS:"USER_GET_INFO_SUCCESS",GET_INFO_FAILURE:"USER_GET_INFO_FAILURE",SEND_CODE_REQUEST:"USER_SEND_CODE_REQUEST",SEND_CODE_SUCCESS:"USER_SEND_CODE_SUCCESS",SEND_CODE_FAILURE:"USER_SEND_CODE_FAILURE",GO_BACK:"USER_LOGIN_GO_BACK",UPDATE_INFO_REQUEST:"USER_UPDATE_INFO_REQUEST",UPDATE_INFO_SUCCESS:"USER_UPDATE_INFO_SUCCESS",UPDATE_INFO_FAILURE:"USER_UPDATE_INFO_FAILURE",CLONE_TEMP_INFO:"USER_CLONE_TEMP_INFO",CLEAR_TEMP_INFO:"USER_CLEAR_TEMP_INFO",UPDATE_TEMP_INFO:"USER_UPDATE_TEMP_INFO",GET_NUMBERS_REQUEST:"USER_GET_NUMBERS_REQUEST",GET_NUMBERS_SUCCESS:"USER_GET_NUMBERS_SUCCESS",GET_NUMBERS_FAILURE:"USER_GET_NUMBERS_FAILURE",SET_USER_INFO:"SET_USER_INFO"},NEAR_BY:{SET_SELECTED_TAB_INDEX:"NEAR_BY_LIST_SELECTED_TAB_INDEX_SET",GO_BACK:"NEAR_BY_LIST_GO_BACK"},ADDRESS:{GET_ADDRESS_REQUEST:"ADDRESS_GET_ADDRESS_REQUEST",GET_ADDRESS_SUCCESS:"ADDRESS_GET_ADDRESS_SUCCESS",GET_ADDRESS_FAILURE:"ADDRESS_GET_ADDRESS_FAILURE"},COLLECT:{LIST:{SET_SELECTED_TAB_INDEX:"COLLECT_LIST_SELECTED_TAB_INDEX_SET",GET_LIST_REQUEST:"COLLECT_GET_LIST_REQUEST",GET_LIST_SUCCESS:"COLLECT_GET_LIST_SUCCESS",GET_LIST_FAILURE:"COLLECT_GET_LIST_FAILURE",GO_BACK:"COLLECT_LIST_GO_BACK",DELETE:"COLLECT_LIST_DELETE",SET_LISTVIEW_OFFSET:"COLLECT_LIST_SET_LISTVIEW_OFFSET"}}},JOURNEY:{INDEX:{GET_MINE_LIST_REQUEST:"JOURNEY_INDEX_GET_MINE_LIST_REQUEST",GET_MINE_LIST_SUCCESS:"JOURNEY_INDEX_GET_MINE_LIST_SUCCESS",GET_MINE_LIST_FAILURE:"JOURNEY_INDEX_GET_MINE_LIST_FAILURE",GET_RECOMMEND_LIST_REQUEST:"JOURNEY_INDEX_GET_RECOMMEND_LIST_REQUEST",GET_RECOMMEND_LIST_SUCCESS:"JOURNEY_INDEX_GET_RECOMMEND_LIST_SUCCESS",GET_RECOMMEND_LIST_FAILURE:"JOURNEY_INDEX_GET_RECOMMEND_LIST_FAILURE",SET_SCROLL_OFFSET:"JOURNEY_INDEX_SET_SCROLL_OFFSET",SET_LIST_REFRESH:"JOURNEY_INDEX_SET_LIST_REFRESH",GO_BACK:"JOURNEY_INDEX_GO_BACK"},DETAIL:{GET_DETAIL_REQUEST:"JOURNEY_DETAIL_GET_DETAIL_REQUEST",GET_DETAIL_SUCCESS:"JOURNEY_DETAIL_GET_DETAIL_SUCCESS",GET_DETAIL_FAILURE:"JOURNEY_DETAIL_GET_DETAIL_FAILURE",GO_BACK:"JOURNEY_DETAIL_GO_BACK",SET_SCROLL_OFFSET:"JOURNEY_DETAIL_SET_SCROLL_OFFSET",SET_TRAFFIC_INFOS:"JOURNEY_DETAIL_SET_TRAFFIC_INFOS",COPY_TO_MINE_REQUEST:"JOURNEY_DETAIL_COPY_TO_MINE_REQUEST",COPY_TO_MINE_SUCCESS:"JOURNEY_DETAIL_COPY_TO_MINE_SUCCESS",COPY_TO_MINE_FAILURE:"JOURNEY_DETAIL_COPY_TO_MINE_FAILURE"},CREATE:{GET_CREATE_REQUEST:"JOURNEY_CREATE_GET_CREATE_REQUEST",GET_CREATE_SUCCESS:"JOURNEY_CREATE_GET_CREATE_SUCCESS",GET_CREATE_FAILURE:"JOURNEY_CREATE_GET_CREATE_FAILURE",GET_MDTYPES_REQUEST:"JOURNEY_CREATE_GET_MDTYPES_REQUEST",GET_MDTYPES_SUCCESS:"JOURNEY_CREATE_GET_MDTYPES_SUCCESS",GET_MDTYPES_FAILURE:"JOURNEY_CREATE_GET_MDTYPES_FAILURE",GO_BACK:"JOURNEY_CREATE_GO_BACK",UPDATE_MDTYPES:"JOURNEY_CREATE_UPDATE_MDTYPES"},MAPLINE:{GO_BACK:"JOURNEY_MAPLINE_GO_BACK",IS_FETCHING_CHANGE:"JOURNEY_MAPLINE_IS_FETCHING_CHANGE",DAYINDEX_CHANGE:"JOURNEY_MAPLINE_DAYINDEX_CHANGE",MAPZOOM_AND_CENTERLOCATION_CHANGE:"JOURNEY_MAPLINE_MAPZOOM_AND_CENTERLOCATION_CHANGE",TOP_BOTTOM_SCROLLX_CHANGE:"JOURNEY_MAPLINE_TOP_BOTTOM_SCROLLX_CHANGEE"},EDIT:{GO_BACK:"JOURNEY_EDIT_GO_BACK",DATA_LIST_CHANGE:"JOURNEY_EDIT_DATA_LIST_CHANGE",BEGIN_DATE_CHANGE:"JOURNEY_EDIT_BEGIN_DATE_CHANGE",SET_SCROLL_OFFSET:"JOURNEY_EDIT_SET_SCROLL_OFFSET"},ADDPOINT:{GO_BACK:"JOURNEY_ADDPOINT_GO_BACK",IS_FETCHING_CHANGE:"JOURNEY_ADDPOINT_IS_FETCHING_CHANGE",GET_LIST_REQUEST:"JOURNEY_ADDPOINT_GET_LIST_REQUEST",GET_LIST_SUCCESS:"JOURNEY_ADDPOINT_GET_LIST_SUCCESS",GET_LIST_FAILURE:"JOURNEY_ADDPOINT_GET_LIST_FAILURE",DATALIST_CHANGE:"JOURNEY_ADDPOINT_DATALIST_CHANGE",SELECTLIST_CHANGE:"JOURNEY_ADDPOINT_SELECTLIST_CHANGE",SELECT_POINT_DONE:"JOURNEY_ADDPOINT_SELECT_POINT_DONE",DELETE_ADDPOINT_GROUPLIST:"JOURNEY_ADDPOINT_DELETE_ADDPOINT_GROUPLIST",SET_SCROLL_OFFSET:"JOURNEY_ADDPOINT_SET_SCROLL_OFFSET"},MINE:{GET_LIST_REQUEST:"MINE_GET_LIST_REQUEST",GET_LIST_SUCCESS:"MINE_GET_LIST_SUCCESS",GET_LIST_FAILURE:"MINE_GET_LIST_FAILURE",GO_BACK:"MINE_GO_BACK",SET_SCROLL_OFFSET:"MINE_SET_SCROLL_OFFSET",DELETE:"MINE_LIST_DELETE"}},FOOTMARK:{LIST:{SET_SELECTED_TAB_INDEX:"FOOTMARK_LIST_SELECTED_TAB_INDEX_SET",GET_LIST_REQUEST:"FOOTMARK_GET_LIST_REQUEST",GET_LIST_SUCCESS:"FOOTMARK_GET_LIST_SUCCESS",GET_LIST_FAILURE:"FOOTMARK_GET_LIST_FAILURE",GO_BACK:"FOOTMARK_LIST_GO_BACK",DELETE:"FOOTMARK_LIST_DELETE",SET_LISTVIEW_OFFSET:"FOOTMARK_LIST_SET_LISTVIEW_OFFSET",TOGGLE_EXPAND:"FOOTMARK_TOGGLE_EXPAND",PRAISE_SUCCESS:"FOOTMARK_PRAISE_SUCCESS",COLLECT_SUCCESS:"FOOTMARK_COLLECT_SUCCESS"},DETAIL:{SET_SELECTED_TAB_INDEX:"FOOTMARK_DETAIL_SELECTED_TAB_INDEX_SET",GO_BACK:"FOOTMARK_DETAIL_GO_BACK",GET_DETAIL_REQUEST:"FOOTMARK_DETAIL_GET_DETAIL_REQUEST",GET_DETAIL_SUCCESS:"FOOTMARK_DETAIL_GET_DETAIL_SUCCESS",GET_DETAIL_FAILURE:"FOOTMARK_DETAIL_GET_DETAIL_FAILURE",SET_IMAGE_VIEW_VISIBLE:"FOOTMARK_DETAIL_SET_IMAGE_VIEW_VISIBLE",SEND_COMMENTS_REQUEST:"FOOTMARK_DETAIL_SEND_COMMENTS_REQUEST",SEND_COMMENTS_SUCCESS:"FOOTMARK_DETAIL_SEND_COMMENTS_SUCCESS",SEND_COMMENTS_FAILURE:"FOOTMARK_DETAIL_SEND_COMMENTS_FAILURE",SEND_REPLYS_REQUEST:"FOOTMARK_DETAIL_SEND_REPLYS_REQUEST",SEND_REPLYS_SUCCESS:"FOOTMARK_DETAIL_SEND_REPLYS_SUCCESS",SEND_REPLYS_FAILURE:"FOOTMARK_DETAIL_SEND_REPLYS_FAILURE"},CREATE:{GO_BACK:"FOOTMARK_CREATE_GO_BACK",UPDATE_FOOTMARK_ITEM:"FOOTMARK_CREATE_UPDATE_FOOTMARK_ITEM",UPDATE_SITE_INDEX:"FOOTMARK_CREATE_UPDATE_SITE_INDEX",UPDATE_SITE_ITEM:"FOOTMARK_CREATE_UPDATE_SITE_ITEM",IS_FETCHING_CHANGE:"FOOTMARK_CREATE_IS_FETCHING_CHANGE"}},SYSTEM:{BAIDU_MAP_INITED:"SYSTEM_BAIDU_MAP_INITED",GET_USER_LOCATION_REQUEST:"MAP_NAV_GET_USER_LOCATION_REQUEST",GET_USER_LOCATION_SUCCESS:"MAP_NAV_GET_USER_LOCATION_SUCCESS",GET_USER_LOCATION_FAILURE:"MAP_NAV_GET_USER_LOCATION_FAILURE",GET_JOURNEY_MAX_DAYCOUNT_REQUEST:"SYSTEM_GET_JOURNEY_MAX_DAYCOUNT_REQUEST",GET_JOURNEY_MAX_DAYCOUNT_SUCCESS:"SYSTEM_GET_JOURNEY_MAX_DAYCOUNT_SUCCESS",GET_JOURNEY_MAX_DAYCOUNT_FAILURE:"SYSTEM_GET_JOURNEY_MAX_DAYCOUNT_FAILURE"},NATIVE:{WINDOW_SIZE_CHANGED:"WINDOW_SIZE_CHANGED",SET_CONFIG_ITEM:"NATIVE_SET_CONFIG_ITEM"},PHOTO_BROWSER:{SET_CONFIG_ITEM:"IFRAME_SET_CONFIG_ITEM",CLEAR_CONFIG_ITEMS:"IFRAME_CLEAR_CONFIG_ITEMS",SET_PHOTOBROWER_IFRAME_LOAD:"SET_PHOTOBROWER_IFRAME_LOAD"},TICKET_PURCHASE:{GET_INFO_REQUEST:"TICKET_PURCHASE_GET_INFO_REQUEST",GO_BACK:"TICKET_PURCHASE_GO_BACK",GET_INFO_SUCCESS:"TICKET_PURCHASE_GET_INFO_SUCCESS",GET_INFO_FAILURE:"TICKET_PURCHASE_GET_INFO_FAILURE",GET_LIST_REQUEST:"TICKET_PURCHASE_GET_LIST_REQUEST",GET_LIST_SUCCESS:"TICKET_PURCHASE_GET_LIST_SUCCESS",GET_LIST_FAILURE:"TICKET_PURCHASE_GET_LIST_FAILURE",SET_SCROLL_OFFSET:"TICKET_PURCHASE_SET_SCROLL_OFFSET"},MAP:{ELEMENTMARKER:{GO_BACK:"ELEMENT_MARKER_GO_BACK",MAPZOOM_AND_CENTERLOCATION_CHANGE:"ELEMENT_MARKER_MAPZOOM_AND_CENTERLOCATION_CHANGE"},MAPNAV:{GO_BACK:"MAP_NAV_GO_BACK",UPDATE_FROM_TO_LOCATION:"MAP_NAV_UPDATE_FROM_TO_LOCATION",IS_FETCHING_CHANGE:"MAP_NAV_IS_FETCHING_CHANGE",SELECT_NAV_TYPE:"MAP_NAV_SELECT_NAV_TYPE",IS_PANEL_SHOWING_CHANGE:"MAP_NAV_IS_PANEL_SHOWING_CHANGE",NAV_SEARCH_REQUEST:"MAP_NAV_NAV_SEARCH_REQUEST",NAV_SEARCH_SUCCESS:"MAP_NAV_NAV_SEARCH_SUCCESS",NAV_SEARCH_FAILURE:"MAP_NAV_NAV_SEARCH_FAILURE",NAV_METHOD_INDEX_CHANGE:"MAP_NAV_NAV_METHOD_INDEX_CHANGE",MAPZOOM_AND_CENTERLOCATION_CHANGE:"MAP_NAV_MAPZOOM_AND_CENTERLOCATION_CHANGE"},ELEMENTMAP:{GO_BACK:"ELEMENT_MAP_GO_BACK",IS_PANEL_SHOWING_CHANGE:"ELEMENT_MAP_IS_PANEL_SHOWING_CHANGE",IS_FETCHING_CHANGE:"ELEMENT_MAP_IS_FETCHING_CHANGE",KEYWORDS_CHANGE:"ELEMENT_MAP_KEYWORDS_CHANGE",SEARCHTYPE_CHANGE:"ELEMENT_MAP_SEARCHTYPE_CHANGE",SELECTEDITEM_CHANGE:"ELEMENT_MAP_SELECTEDITEM_CHANGE",GET_LIST_REQUEST:"ELEMENT_MAP_GET_LIST_REQUEST",GET_LIST_SUCCESS:"ELEMENT_MAP_GET_LIST_SUCCESS",GET_LIST_FAILURE:"ELEMENT_MAP_GET_LIST_FAILURE",MAPZOOM_AND_CENTERLOCATION_CHANGE:"ELEMENT_MAP_MAPZOOM_AND_CENTERLOCATION_CHANGE"},CHOOSEADDRESS:{CLEAR_SELECT_ADDRESS:"CHOOSE_ADDRESS_CLEAR_SELECT_ADDRESS",UPDATE_SELECT_ADDRESS:"CHOOSE_ADDRESS_UPDATE_SELECT_ADDRESS"}},OVERVIEW:{LIST:{GO_BACK:"OVERVIEW_LIST_GO_BACK",SET_LISTVIEW_OFFSET:"OVERVIEW_LIST_SET_LISTVIEW_OFFSET"}},TRAFFIC:{LIST:{GO_BACK:"TRAFFIC_LIST_GO_BACK",SET_LISTVIEW_OFFSET:"TRAFFIC_LIST_SET_LISTVIEW_OFFSET"}},SIGN:{GET_INFO_REQUEST:"SIGN_GET_INFO_REQUEST",GO_BACK:"SIGN_GO_BACK",GET_INFO_SUCCESS:"SIGN_GET_INFO_SUCCESS",GET_INFO_FAILURE:"SIGN_GET_INFO_FAILURE"},SPECIALSHOP:{INDEX:{GET_INDEX_REQUEST:"SPECIALSHOP_GET_INDEX_REQUEST",GET_INDEX_SUCCESS:"SPECIALSHOP_GET_INDEX_SUCCESS",GET_INDEX_FAILURE:"SPECIALSHOP_GET_INDEX_FAILURE",GO_BACK:"SPECIALSHOP_INDEX_GO_BACK",SET_SCROLL_OFFSET:"SPECIALSHOP_INDEX_SET_SCROLL_OFFSET",DELETE:"SPECIALSHOP_INDEX_DELETE"},GOODS:{LIST:{GET_LIST_REQUEST:"SPECIALSHOP_GOODS_GET_LIST_REQUEST",GET_LIST_SUCCESS:"SPECIALSHOP_GOODS_GET_LIST_SUCCESS",GET_LIST_FAILURE:"SPECIALSHOP_GOODS_GET_LIST_FAILURE",GO_BACK:"SPECIALSHOP_GOODS_LIST_GO_BACK",DELETE:"SPECIALSHOP_GOODS_LIST_DELETE",SET_LISTVIEW_OFFSET:"SPECIALSHOP_GOODS_LIST_SET_LISTVIEW_OFFSET",GET_TYPE_REQUEST:"SPECIALSHOP_GOODS_GET_TYPE_REQUEST",GET_TYPE_SUCCESS:"SPECIALSHOP_GOODS_GET_TYPE_SUCCESS",GET_TYPE_FAILURE:"SPECIALSHOP_GOODS_GET_TYPE_FAILURE"},DETAIL:{GET_DETAIL_REQUEST:"SPECIALSHOP_GOODS_GET_DETAIL_REQUEST",GET_DETAIL_SUCCESS:"SPECIALSHOP_GOODS_GET_DETAIL_SUCCESS",GET_DETAIL_FAILURE:"SPECIALSHOP_GOODS_DETAIL_FAILURE",GO_BACK:"SPECIALSHOP_GOODS_DETAIL_GO_BACK",SET_DETAIL_SCROLL_OFFSET:"SPECIALSHOP_GOODS_DETAIL_SET_SCROLL_OFFSET",GET_DETAIL_COLLECT_REQUEST:"SPECIALSHOP_GOODS_GET_DETAIL_COLLECT_REQUEST",GET_DETAIL_COLLECT_SUCCESS:"SPECIALSHOP_GOODS_GET_DETAIL_COLLECT_SUCCESS",GET_DETAIL_COLLECT_FAILURE:"SPECIALSHOP_GOODS_DETAIL_COLLECT_FAILURE",SAVE_DETAIL_STATE:"SPECIALSHOP_GOODS_SAVE_DETAIL_STATE"}},SHOP:{LIST:{GET_LIST_REQUEST:"SPECIALSHOP_SHOP_GET_LIST_REQUEST",GET_LIST_SUCCESS:"SPECIALSHOP_SHOP_GET_LIST_SUCCESS",GET_LIST_FAILURE:"SPECIALSHOP_SHOP_GET_LIST_FAILURE",GO_BACK:"SPECIALSHOP_SHOP_LIST_GO_BACK",DELETE:"SPECIALSHOP_SHOP_LIST_DELETE",SET_LISTVIEW_OFFSET:"SPECIALSHOP_SHOP_LIST_SET_LISTVIEW_OFFSET",GET_TYPE_REQUEST:"SPECIALSHOP_SHOP_GET_TYPE_REQUEST",GET_TYPE_SUCCESS:"SPECIALSHOP_SHOP_GET_TYPE_SUCCESS",GET_TYPE_FAILURE:"SPECIALSHOP_SHOP_GET_TYPE_FAILURE"},DETAIL:{GET_DETAIL_REQUEST:"SPECIALSHOP_SHOP_GET_DETAIL_REQUEST",GET_DETAIL_SUCCESS:"SPECIALSHOP_SHOP_GET_DETAIL_SUCCESS",GET_DETAIL_FAILURE:"SPECIALSHOP_SHOP_GET_DETAIL_FAILURE",CHECK_LIKE_REQUEST:"SPECIALSHOP_SHOP_CHECK_LIKE_REQUEST",CHECK_LIKE_SUCCESS:"SPECIALSHOP_SHOP_CHECK_LIKE_SUCCESS",CHECK_LIKE_FAILURE:"SPECIALSHOP_SHOP_CHECK_LIKE_FAILURE",TOGGLE_LIKE_REQUEST:"SPECIALSHOP_SHOP_TOGGLE_LIKE_REQUEST",TOGGLE_LIKE_SUCCESS:"SPECIALSHOP_SHOP_TOGGLE_LIKE_SUCCESS",TOGGLE_LIKE_FAILURE:"SPECIALSHOP_SHOP_TOGGLE_LIKE_FAILURE",GO_BACK:"SPECIALSHOP_SHOP_DETAIL_GO_BACK",SET_DETAIL_SCROLL_OFFSET:"SPECIALSHOP_SHOP_DETAIL_SET_SCROLL_OFFSET"},RECLIST:{SET_SELECTED_TAB_INDEX:"SPECIALSHOP_RECLIST_SELECTED_TAB_INDEX_SET",GET_LIST_REQUEST:"SPECIALSHOP_GET_RECLIST_REQUEST",GET_LIST_SUCCESS:"SPECIALSHOP_GET_RECLIST_SUCCESS",GET_LIST_FAILURE:"SPECIALSHOP_GET_RECLIST_FAILURE",GO_BACK:"SPECIALSHOP_RECLIST_GO_BACK",DELETE:"SPECIALSHOP_RECLIST_DELETE",SET_LISTVIEW_OFFSET:"SPECIALSHOP_RECLIST_SET_LISTVIEW_OFFSET"}},ORDER:{CREATE:{GET_ADDRESS_REQUEST:"SPECIALSHOP_ORDER_GET_ADDRESS_REQUEST",GET_ADDRESS_SUCCESS:"SPECIALSHOP_ORDER_GET_ADDRESS_SUCCESS",GET_ADDRESS_FAILURE:"SPECIALSHOP_ORDER_GET_ADDRESS_FAILURE",GO_BACK:"SPECIALSHOP_ORDER_CREATE_GO_BACK",SET_CREATE_SCROLL_OFFSET:"SPECIALSHOP_ORDER_CREATE_SET_SCROLL_OFFSET",GET_EXPRESS_CHARGRS_SUCCESS:"SPECIALSHOP_ORDER_GET_EXPRESS_CHARGRS_REQUEST"},DETAIL:{GET_DETAIL_REQUEST:"SPECIALSHOP_ORDER_GET_DETAIL_REQUEST",GET_DETAIL_SUCCESS:"SPECIALSHOP_ORDER_GET_DETAIL_SUCCESS",GET_DETAIL_FAILURE:"SPECIALSHOP_ORDER_GET_DETAIL_FAILURE",CHECK_STATUS_REQUEST:"SPECIALSHOP_ORDER_CHECK_STATUS_REQUEST",CHECK_STATUS_SUCCESS:"SPECIALSHOP_ORDER_CHECK_STATUS_SUCCESS",CHECK_STATUS_FAILURE:"SPECIALSHOP_ORDER_CHECK_STATUS_FAILURE",GO_BACK:"SPECIALSHOP_ORDER_DETAIL_GO_BACK",GET_TRACES_SUCCESS:"SPECIALSHOP_ORDER_GET_DETAIL_TRACES_SUCCESS",GET_TRACES_FAILURE:"SPECIALSHOP_ORDER_GET_DETAIL_TRACES_FAILURE",SET_DETAIL_SCROLL_OFFSET:"SPECIALSHOP_ORDER_DETAIL_SET_SCROLL_OFFSET"}},SEARCH:{SET_KEYWORD:"SPECIALSHOP_SEARCH_SET_KEYWORD",GO_BACK:"SPECIALSHOP_SEARCH_GO_BACK"},EXPRESS:{GET_LIST_REQUEST:"EXPRESS_GET_LIST_REQUEST",GET_LIST_SUCCESS:"EXPRESS_GET_LIST_SUCCESS",GET_LIST_FAILURE:"EXPRESS_GET_LIST_FAILURE",GO_BACK:"EXPRESS_LIST_GO_BACK",SET_EXPRESS_NAME:"EXPRESS_SET_EXPRESS_NAME"}},ORDER:{LIST:{SET_SELECTED_TAB_INDEX:"ORDER_LIST_SELECTED_TAB_INDEX_SET",GET_LIST_REQUEST:"ORDER_GET_LIST_REQUEST",GET_LIST_SUCCESS:"ORDER_GET_LIST_SUCCESS",GET_LIST_FAILURE:"ORDER_GET_LIST_FAILURE",GO_BACK:"ORDER_LIST_GO_BACK",DELETE:"ORDER_LIST_DELETE",SET_LISTVIEW_OFFSET:"ORDER_LIST_SET_LISTVIEW_OFFSET"},DETAIL:{GET_DETAIL_REQUEST:"ORDER_GET_DETAIL_REQUEST",GET_DETAIL_SUCCESS:"ORDER_GET_DETAIL_SUCCESS",GET_DETAIL_FAILURE:"ORDER_GET_DETAIL_FAILURE",CHECK_STATUS_REQUEST:"ORDER_CHECK_STATUS_REQUEST",CHECK_STATUS_SUCCESS:"ORDER_CHECK_STATUS_SUCCESS",CHECK_STATUS_FAILURE:"ORDER_CHECK_STATUS_FAILURE",GO_BACK:"ORDER_DETAIL_GO_BACK",SET_DETAIL_SCROLL_OFFSET:"ORDER_DETAIL_SET_SCROLL_OFFSET",SET_DETAIL_ORDER_OPERATE_LIST:"ORDER_DETAIL_SET_DETAIL_ORDER_OPERATE_LIST",GET_PAY_PARAMS_REQUEST:"ORDER_DETAIL_GET_PAY_PARAMS_REQUEST",GET_PAY_PARAMS_SUCCESS:"ORDER_DETAIL_GET_PAY_PARAMS_SUCCESS",GET_PAY_PARAMS_FAILURE:"ORDER_DETAIL_GET_PAY_PARAMS_FAILURE"},BOOKING:{GO_BACK:"ORDER_BOOKING_GO_BACK",GET_PRICE_REQUEST:"ORDER_BOOKGIN_GET_PRICE_REQUEST",GET_PRICE_SUCCESS:"ORDER_BOOKGIN_GET_PRICE_SUCCESS",GET_PRICE_FAILURE:"ORDER_BOOKGIN_GET_PRICE_FAILURE",GET_VISITORS_REQUEST:"ORDER_BOOKGIN_GET_VISITORS_REQUEST",GET_VISITORS_SUCCESS:"ORDER_BOOKGIN_GET_VISITORS_SUCCESS",GET_VISITORS_FAILURE:"ORDER_BOOKGIN_GET_VISITORS_FAILURE",SET_SCROLL_OFFSET:"ORDER_BOOKGIN_SET_SCROLL_OFFSET",BACKUP_USERINFO:"ORDER_BOOKGIN_BACKUP_USERINFO",UPDATE_USER_INFO:"ORDER_BOOKGIN_UPDATE_USER_INFO",UPDATE_BOOKING_ITEM:"ORDER_BOOKGIN_UPDATE_BOOKING_ITEM",UPDATE_SELECT_VISITOR:"ORDER_BOOKING_UPDATE_SELECT_VISITOR",UPDATE_VISITOR:"ORDER_BOOKING_UPDATE_VISITOR",UPDATE_ORDER_DETAIL_DATA:"ORDER_BOOKING_UPDATE_ORDER_DETAIL_DATA"}},WEATHER:{GET_WEATHER_REQUEST:"WEATHER_GET_WEATHER_REQUEST",GET_WEATHER_SUCCESS:"WEATHER_GET_WEATHER_SUCCESS",GET_WEATHER_FAILURE:"WEATHER_GET_WEATHER_FAILURE",GO_BACK:"WEATHER_GO_BACK"},PICTURE:{GET_PICTURE_REQUEST:"PICTURE_GET_PICTURE_REQUEST",GET_PICTURE_SUCCESS:"PICTURE_GET_PICTURE_SUCCESS",GET_PICTURE_FAILURE:"PICTURE_GET_PICTURE_FAILURE",GO_BACK:"PICTURE_GO_BACK"},USERPROFILE:{GET_FRIENDS_REQUEST:"USERPROFILE_GET_FRIENDS_REQUEST",GET_FRIENDS_SUCCESS:"USERPROFILE_GET_FRIENDS_SUCCESS",GET_FRIENDS_FAILURE:"USERPROFILE_GET_FRIENDS_FAILURE",GET_FOOTMARK_REQUEST:"USERPROFILE_GET_FOOTMARK_REQUEST",GET_FOOTMARK_SUCCESS:"USERPROFILE_GET_FOOTMARK_SUCCESS",GET_FOOTMARK_FAILURE:"USERPROFILE_GET_FOOTMARK_FAILURE",GO_BACK:"USERPROFILE_GO_BACK",SET_LISTVIEW_OFFSET:"USERPROFILE_SET_LISTVIEW_OFFSET",DELETE_FRIENDS_LIST:"USERPROFILE_DELETE_FRIENDS_LIST",DELETE_FOOTMARK_LIST:"USERPROFILE_DELETE_FOOTMARK_LIST",FOOTMARK_TOGGLE_EXPAND:"USERPROFILE_FOOTMARK_TOGGLE_EXPAND",DELETE_NUMBERS_INFO:"USERPROFILE_DELETE_NUMBERS_INFO",SET_SELECTED_TAB_INDEX:"USERPROFILE_SET_SELECTED_TAB_INDEX",SET_FRIEND_FOOTMARK_ITEM_COLLECT:"USERPROFILE_SET_FRIEND_FOOTMARK_ITEM_COLLECT",SET_FRIEND_FOOTMARK_ITEM_PRAISE:"USERPROFILE_SET_FRIEND_FOOTMARK_ITEM_PRAISE",GET_PROFILE_REQUEST:"USERPROFILE_GET_PROFILE_REQUEST",GET_PROFILE_SUCCESS:"USERPROFILE_GET_PROFILE_SUCCESS",GET_PROFILE_FAILURE:"USERPROFILE_GET_PROFILE_FAILURE",GET_NUMBERS_REQUEST:"USERPROFILE_GET_NUMBERS_REQUEST",GET_NUMBERS_SUCCESS:"USERPROFILE_GET_NUMBERS_SUCCESS",GET_NUMBERS_FAILURE:"USERPROFILE_GET_NUMBERS_FAILURE",GET_ISFOLLOW_REQUEST:"USERPROFILE_GET_ISFOLLOW_REQUEST",GET_ISFOLLOW_SUCCESS:"USERPROFILE_GET_ISFOLLOW_SUCCESS",GET_ISFOLLOW_FAILURE:"USERPROFILE_GET_ISFOLLOW_FAILURE",GET_UPDATE_FOLLOW_REQUEST:"USERPROFILE_GET_UPDATE_FOLLOW_REQUEST",GET_UPDATE_FOLLOW_SUCCESS:"USERPROFILE_GET_UPDATE_FOLLOW_SUCCESS",GET_UPDATE_FOLLOW_FAILURE:"USERPROFILE_GET_UPDATE_FOLLOW_FAILURE",GET_UPDATE_FRIEND_ITEM_FOLLOW_REQUEST:"USERPROFILE_GET_UPDATE_FRIEND_ITEM_FOLLOW_REQUEST",GET_UPDATE_FRIEND_ITEM_FOLLOW_SUCCESS:"USERPROFILE_GET_UPDATE_FRIEND_ITEM_FOLLOW_SUCCESS",GET_UPDATE_FRIEND_ITEM_FOLLOW_FAILURE:"USERPROFILE_GET_UPDATE_FRIEND_ITEM_FOLLOW_FAILURE"}},l={ME_NEAR_BY_HOTEL:"userNearby.hotelList",ME_NEAR_BY_SCENIC:"userNearby.scenicList",ME_NEAR_BY_FUN:"userNearby.funList",ME_NEAR_BY_FARM_HOUSE:"userNearby.farmHouseList",ME_NEAR_BY_SHOPPING:"userNearby.shoppingList",ME_NEAR_BY_RESTAURANT:"userNearby.restaurantList"},u={Chi:0,CanTing:1,Zhu:2,Xing:3,You:4,Gou:5,Yu:6,TeChan:7,XianLu:8,Toilet:9,Bank:10,Hopsital:11,PostOffice:12,Gasstation:13,CountryTour:14,TravelAgency:15},p={ZhiFuBao:0,MOTOPAY:1,WeiXine:2,ZYEBank:3},d={WebSite:0,Phone:1,WeiXin:2},h={TICKET:"0",HOTEL:"1",LINE:"2",SPECIAL:"17"},E={USER_LOGIN_FORM:"USER_LOGIN_FORM",USER_INFO:"USER_INFO",SEPCIALSHOP_SEARCH_HISTORY:"SEPCIALSHOP_SEARCH_HISTORY",USER_LOCATION:"USER_LOCATION",WX_USER_OPENID:"WX_USER_OPENID",WX_ACCOUNT:"WX_ACCOUNT"},m={ORDER_STATUS_CONFIRM:1,ORDER_STATUS_PAY:2,ORDER_STATUS_CANCEL:3,ORDER_STATUS_PAID:4,ORDER_STATUS_PrintTicket:5,ORDER_STATUS_UnConsume:6,ORDER_STATUS_Consumption:7,ORDER_STATUS_RefundApp:8,ORDER_STATUS_UnRefunded:9,ORDER_STATUS_Refunding:10,ORDER_STATUS_REFUNDED:11,ORDER_STATUS_PaidSuc:12,ORDER_STATUS_CheckIn:13,ORDER_STATUS_CheckOutApp:14,ORDER_STATUS_CheckOutPass:15,ORDER_STATUS_CheckOutRefuse:16,ORDER_STATUS_RefundChecking:17,ORDER_STATUS_SendProduct:18,ORDER_STATUS_ConfirmReceipt:19,ORDER_STATUS_ReturnedProduct:20,ORDER_STATUS_ReturnProducting:21,ORDER_STATUS_ReturnChecking:22,ORDER_STATUS_UnReturnProduct:23},f={ORDER_OPERATE_CANCEL:1,ORDER_OPERATE_GOPAY:2,ORDER_OPERATE_DELETE:3,ORDER_OPERATE_REFUND:4,ORDER_OPERATE_BUYAGAIN:5,ORDER_OPERATE_REFUNDRESON:6,ORDER_OPERATE_GOCOMMENT:7,ORDER_OPERATE_REFUND_REFUSERESON:8},T={READY:"ready",GET_URL:"getUrl",SET_NAV_BAR_TITLE:"setTitle",DIAL:"dial",MAP_NAV:"map_nav",ELEMENT_DETAIL:"element_detail",ELEMANT_MAP_SEARCH:"element_map_search",ELEMENT_MAP_DATALIST:"element_map_datalist",SHOW_SHARE:"show_share",GET_LOCATION:"getLocation",SHARE_NATIVE_USER_INFO:"share_native_user"},I={PHOTO_BROWSER_LOADING:"photo_browser_loading",PHOTO_BROWSER_CLOSED:"photo_browser_closed",PHOTO_BROWSER_OPENED:"photo_browser_opened"},g={FESTIVAL_JIEQINGHUOD:"FESTIVAL_JIEQINGHUOD",FESTIVAL_SAISHI:"FESTIVAL_SAISHI",FESTIVAL_HUIZHAN:"FESTIVAL_HUIZHAN",FESTIVAL_YANCHU:"FESTIVAL_YANCHU"},S={TARGETINFO:"PROFILE",NUMBERSINFO:"NUMBERSINFO",FOOTMARK:"FOOTMARK",ATTENTIONS:"ATTENTIONS",FANS:"FANS"},_={EntityType_Ticket:0,EntityType_Hotel:1,EntityType_Route:2,EntityType_Restaurant:3,EntityType_LocalProduct:4,EntityType_Entertainment:5,EntityType_Shopping:6,EntityType_Attraction:7,EntityType_TravelAgent:8,EntityType_Food:9,EntityType_BusinessCircle:10,EntityType_Brand:11,EntityType_Product:12,EntityType_Scenery:13,EntityType_Festival:14,EntityType_Room:15,EntityType_FarmHouse:16,EntityType_C2CProduct:17,EntityType_MeetingRoom:18,EntityType_C2CShop:19,EntityType_Dining:20,EntityType_GroupShop:21,EntityType_GroupProduct:22,EntityType_C2CScore:23,EntityType_Toilet:30,EntityType_Bank:31,EntityType_Hospital:32,EntityType_GasStation:33,EntityType_PostOffice:34,EntityType_Guide:40},b={Home:"Home",Login:"Login",Register:"Register",Update:"Update",CollectList:"CollectList",IsLike:"IsLike",IsCollect:"IsCollect",UpdateCollect:"UpdateCollect",Complain:"Complain",OrderList:"OrderList",RestaurantList:"RestaurantList",RestaurantDetail:"RestaurantDetail",FoodList:"FoodList",FoodDetail:"FoodDetail",EntertainmentList:"EntertainmentList",EntertainmentDetail:"EntertainmentDetail",LocalProductList:"LocalProductList",LocalProductDetail:"LocalProductDetail",BusinessList:"BusinessList",BusinessDetail:"BusinessDetail",ShopDetail:"ShopDetail",AttractionsList:"AttractionsList",AttractionsDetail:"AttractionsDetail",SceneryDetail:"SceneryDetail",HotelList:"HotelList",HotelDetail:"HotelDetail",LineList:"LineList",LineDetail:"LineDetail",FestivalDetail:"FestivalDetail",TravelAgentList:"TravelAgentList",TravelAgentDetail:"TravelAgentDetail",FarmHouseList:"FarmHouseList",FarmHouseDetail:"FarmHouseDetail",ToiletList:"ToiletList",ToiletDetail:"ToiletDetail",BankList:"BankList",BankDetail:"BankDetail",GasstationList:"GasstationList",GasstationDetail:"GasstationDetail",HospitalList:"HospitalList",HospitalDetail:"HospitalDetail",PostOfficeList:"PostOfficeList",PostOfficeDetail:"PostOfficeDetail",C2CProductList:"C2CProductList",C2CProductDetail:"C2CProductDetail",C2CShopList:"C2CShopList",C2CShopDetail:"C2CShopDetail",ForumIndex:"ForumIndex",ForumList:"ForumList",ForumDetail:"ForumDetail",ForumEdit:"ForumEdit",ForumPersonalCenter:"ForumPersonalCenter",NoteList:"NoteList",NoteEdit:"NoteEdit",NoteDetail:"NoteDetail",NotePersonalCenter:"NotePersonalCenter",PlanHome:"PlanHome",PlanEdit:"PlanEdit",TourSmart:"TourSmart",PlanView:"PlanView",TourPrint:"TourPrint",TourOptimize:"TourOptimize",PlanUser:"PlanUser",PlansSel:"PlansSel",Map:"Map"},O={HOME:{RecommendElements:{apiCode:"",pageCode:"",url:"/Api/cms/GetModuleData"},GetWeather:{apiCode:"Weather",pageCode:b.Home,url:"/Api/app/GetWeather"}},ME:{SendMessage:{apiCode:"",pageCode:"",url:"/Api/Travel/SendMessage"},Login:{apiCode:"Login",pageCode:b.Login,url:"/Api/User/LoginUser"},Register:{apiCode:"Register",pageCode:b.Register,url:"/Api/User/RegisterUser"},IsRegister:{apiCode:"IsRegister",pageCode:"IsRegister",url:"/Api/User/IsRegister"},OrderList:{apiCode:"OrderList",pageCode:b.OrderList,url:""},Update:{apiCode:"Update",pageCode:b.Update,url:"/Api/User/UpdateUser"},ResetPwd:{apiCode:"ResetPwd",pageCode:"ResetPwd",url:"/Api/User/ResetPwd"},GetUserCount:{apiCode:"GetUserCount",pageCode:"GetUserCount",url:"/Api/User/GetUserCount"},GetUserInfo:{apiCode:"GetUserInfo",pageCode:"GetUserInfo",url:"/Api/User/GetUserInfo"},GetUserInfoByPhone:{apiCode:"GetUserInfoByPhone",pageCode:"GetUserInfoByPhone",url:"/Api/User/GetUserInfoByPhone"},CollectList:{apiCode:"CollectList",pageCode:b.CollectList,url:"/Api/User/GetCollectList"},IsLike:{apiCode:"IsLike",pageCode:b.IsLike,url:""},IsCollect:{apiCode:"IsCollect",pageCode:b.IsCollect,url:"/Api/Travel/IsCollect"},UpdateCollect:{apiCode:"UpdateCollect",pageCode:b.UpdateCollect,url:""},AddCollect:{apiCode:"AddCollect",pageCode:"AddCollect",url:"/Api/Travel/AddCollect"},UpdateComplain:{apiCode:"UpdateComplain",pageCode:"UpdateComplain",url:"/Api/Travel/UpdateComplain"},AddComment:{apiCode:"AddComment",pageCode:"AddComment",url:"/Api/Travel/AddComment"},GetCommentList:{apiCode:"GetCommentList",pageCode:"GetCommentList",url:"/Api/Travel/GetCommentList"},GetLikeCountByCode:{apiCode:"GetLikeCountByCode",pageCode:b.GetLikeCountByCode,url:""}},OTHERS:{CHECK_VERSION:{apiCode:"Complain",pageCode:b.Complain,url:"/api/app/GetVersion"},Complain:{apiCode:"Complain",pageCode:b.Complain,url:""},GetCity:{apiCode:"GetCity",pageCode:b.GetCity,url:""},GetSurrounding:{apiCode:"GetSurrounding",pageCode:b.GetSurrounding,url:""},GuessYouLike:{apiCode:"GuessYouLike",pageCode:b.GuessYouLike,url:""},Relate:{apiCode:"Relate",pageCode:b.Relate,url:""},PopularityRanking:{apiCode:"PopularityRanking",pageCode:b.PopularityRanking,url:""},MyViewed:{apiCode:"MyViewed",pageCode:b.MyViewed,url:""},GetZDFB:{apiCode:"GetZDFB",pageCode:b.GetZDFB,url:""},GetDistrict:{apiCode:"GetDistrict",pageCode:b.GetDistrict,url:""}},NEWS:{LIST:{apiCode:"",pageCode:"",url:"/Api/cms/GetCatalogContentList"},DETAIL:{apiCode:"",pageCode:"",url:"/Api/cms/GetContentDetails"}},ELEMENTS:{Filter:{apiCode:"",pageCode:"",url:"/api/CMS/GetSearchSort"},RestaurantList:{apiCode:"RestaurantList",pageCode:b.RestaurantList,url:"/Api/Restaurant/GetList"},RestaurantDetail:{apiCode:"RestaurantDetail",pageCode:b.RestaurantDetail,url:"/Api/Restaurant/GetDetail"},FoodRecommendList:{apiCode:"",pageCode:"",url:"/Api/cms/GetModuleDataByIdentifier"},FoodList:{apiCode:"FoodList",pageCode:b.FoodList,url:"/Api/Food/GetList"},FoodDetail:{apiCode:"FoodDetail",pageCode:b.FoodDetail,url:"/Api/Food/GetDetail"},EntertainmentRecommendList:{apiCode:"",pageCode:"",url:"/Api/cms/GetModuleDataByIdentifier"},EntertainmentList:{apiCode:"EntertainmentList",pageCode:b.EntertainmentList,url:"/Api/Entertainment/GetList"},EntertainmentDetail:{apiCode:"EntertainmentDetail",pageCode:b.EntertainmentDetail,url:"/Api/Entertainment/GetDetail"},LocalProductRecommendList:{apiCode:"",pageCode:"",url:"/Api/cms/GetModuleDataByIdentifier"},LocalProductList:{apiCode:"LocalProductList",pageCode:b.LocalProductList,url:"/Api/LocalProduct/GetList"},LocalProductDetail:{apiCode:"LocalProductDetail",pageCode:b.LocalProductDetail,url:"/Api/LocalProduct/GetDetail"},BusinessList:{apiCode:"BusinessList",pageCode:b.BusinessList,url:"/Api/Business/GetList"},BusinessDetail:{apiCode:"BusinessDetail",pageCode:b.BusinessDetail,url:"/Api/Business/GetDetail"},ShopDetail:{apiCode:"ShopDetail",pageCode:b.ShopDetail,url:"/Api/Business/GetShopDetail"},AttractionsRecommendList:{apiCode:"",pageCode:"",url:"/Api/cms/GetModuleDataByIdentifier"},AttractionsList:{apiCode:"AttractionsList",pageCode:b.AttractionsList,url:"/api/Attractions/AttractionsList"},AttractionsDetail:{apiCode:"AttractionsDetail",pageCode:b.AttractionsDetail,url:"/api/Attractions/AttractionsDetail"},AttractionsTicketList:{apiCode:"",pageCode:"",url:"/api/Attractions/AttractionsTicketList"},SceneryList:{apiCode:"SceneryList",pageCode:b.SceneryList,url:"/api/Attractions/AttractionsSceneryList"},SceneryDetail:{apiCode:"SceneryDetail",pageCode:b.SceneryDetail,url:""},TicketDayPrice:{apiCode:"Attractions",pageCode:"TicketDayPrice",url:"/api/Attractions/TicketDayPrice"},TicketOrder:{apiCode:"Attractions",pageCode:"TicketOrder",url:"/api/Attractions/TicketOrder"},AttractionsOrderDetail:{apiCode:"Attractions",pageCode:"AttractionsOrderDetail",url:"/api/Attractions/AttractionsOrderDetail"},AttractionsOrderList:{apiCode:"Attractions",pageCode:"AttractionsOrderList",url:"/api/Attractions/AttractionsOrderList"},AttractionsDeleteOrder:{apiCode:"Attractions",pageCode:"DeleteOrder",url:"/api/Attractions/DeleteOrder"},AttractionsCancelOrder:{apiCode:"Attractions",pageCode:"CancelOrder",url:"/api/Attractions/CancelOrder"},AttractionsRefundApply:{apiCode:"Attractions",pageCode:"RefundApply",url:"/api/Attractions/RefundApply"},HotelRecommendList:{apiCode:"",pageCode:"",url:"/Api/cms/GetModuleDataByIdentifier"},HotelList:{apiCode:"HotelList",pageCode:b.HotelList,url:"/api/Hotel/Hotel_GetHotelList"},HotelDetail:{apiCode:"HotelDetail",pageCode:b.HotelDetail,url:"/api/Hotel/Hotel_GetHotelDetail"},HotelRoom:{apiCode:"HotelRoom",pageCode:b.HotelRoom,url:"/api/Hotel/Hotel_GetRoomList"},Hotel_GetRoomDayPrice:{apiCode:"Hotel",pageCode:"Hotel_GetRoomDayPrice",url:"/api/Hotel/Hotel_GetRoomDayPrice"},CreateHotelOrder:{apiCode:"Hotel",pageCode:"CreateHotelOrder",url:"/api/Hotel/CreateHotelOrder"},Hotel_GetOrderDetail:{apiCode:"Hotel",pageCode:"Hotel_GetOrderDetail",url:"/api/Hotel/Hotel_GetOrderDetail"},Hotel_GetOrderList:{apiCode:"Hotel",pageCode:"Hotel_GetOrderList",url:"/api/Hotel/Hotel_GetOrderList"},Hotel_DeleteOrder:{apiCode:"Hotel",pageCode:"Hotel_DeleteOrder",url:"/api/Hotel/Hotel_DeleteOrder"},Hotel_CancelOrder:{apiCode:"Hotel",pageCode:"Hotel_CancelOrder",url:"/api/Hotel/Hotel_CancelOrder"},Hotel_RefundApply:{apiCode:"Hotel",pageCode:"Hotel_RefundApply",url:"/api/Hotel/Hotel_RefundApply"},LineList:{apiCode:"LineList",pageCode:b.LineList,url:"/api/Line/GetLineList"},LineDetail:{apiCode:"LineDetail",pageCode:b.LineDetail,url:"/api/Line/GetLineDetail"},LineDayPrices:{apiCode:"LineDayPrices",pageCode:b.LineDayPrices,url:""},GetLineDayPrices:{apiCode:"Line",pageCode:"GetLineDayPrices",url:"/api/Line/GetLineDayPrices"},CreateLineOrder:{apiCode:"Line",pageCode:"CreateLineOrder",url:"/api/Line/CreateLineOrder"},GetLineOrderDetail:{apiCode:"Line",pageCode:"GetLineOrderDetail",url:"/api/Line/GetLineOrderDetail"},GetLineOrderList:{apiCode:"Line",pageCode:"GetLineOrderList",url:"/api/Line/GetLineOrderList"},DeleteLineOrder:{apiCode:"Line",pageCode:"DeleteLineOrder",url:"/api/Line/DeleteLineOrder"},CancelLineOrder:{apiCode:"Line",pageCode:"CancelLineOrder",url:"/api/Line/CancelLineOrder"},LineRefundApply:{apiCode:"Line",pageCode:"LineRefundApply",url:"/api/Line/LineRefundApply"},FestivalList:{apiCode:"Festivals",pageCode:"GetList",url:"/api/Festivals/GetList"},FestivalDetail:{apiCode:"FestivalDetail",pageCode:b.FestivalDetail,url:"/api/Festivals/GetDetail"},TravelAgentList:{apiCode:"TravelAgentList",pageCode:b.TravelAgentList,url:"/api/TravelAgent/GetList"},TravelAgentDetail:{apiCode:"TravelAgentDetail",pageCode:b.TravelAgentDetail,url:"/api/TravelAgent/GetDetail"},FarmHouseList:{apiCode:"FarmHouseList",pageCode:b.FarmHouseList,url:"/api/FarmHouse/GetList"},FarmHouseDetail:{apiCode:"FarmHouseDetail",pageCode:b.FarmHouseDetail,url:"/api/FarmHouse/GetDetail"}},C2C:{C2CProductList:{apiCode:"C2CProductList",pageCode:b.C2CProductList,url:""},C2CProductDetail:{apiCode:"C2CProductDetail",pageCode:b.C2CProductDetail,url:""},C2CShopList:{apiCode:"C2CShopList",pageCode:b.C2CShopList,url:""},C2CShopDetail:{apiCode:"C2CShopDetail",pageCode:b.C2CShopDetail,url:""},C2CTopShopProduct:{apiCode:"C2CTopShopProduct",pageCode:b.C2CTopShopProduct,url:""},C2CProductRecommend:{apiCode:"C2CProductRecommend",pageCode:b.C2CProductRecommend,url:""},C2CGetConfigDetails:{apiCode:"C2CGetConfigDetails",pageCode:b.C2CGetConfigDetails,url:""},C2CGetCanCheckConfig:{apiCode:"C2CGetCanCheckConfig",pageCode:b.C2CGetCanCheckConfig,url:""},C2CValidateProduct:{apiCode:"C2CValidateProduct",pageCode:b.C2CValidateProduct,url:""}},COMMON_SERVICE:{ToiletList:{apiCode:"ToiletList",pageCode:b.ToiletList,url:"/api/Toilet/GetList"},ToiletDetail:{apiCode:"ToiletDetail",pageCode:b.ToiletDetail,url:""},BankList:{apiCode:"BankList",pageCode:b.BankList,url:"/api/Bank/GetList"},BankDetail:{apiCode:"BankDetail",pageCode:b.BankDetail,url:""},GasstationList:{apiCode:"GasstationList",pageCode:b.GasstationList,url:"/api/Gasstation/GetList"},GasstationDetail:{apiCode:"GasstationDetail",pageCode:b.GasstationDetail,url:""},HospitalList:{apiCode:"HospitalList",pageCode:b.HospitalList,url:"/api/Hospital/GetList"},HospitalDetail:{apiCode:"HospitalDetail",pageCode:b.HospitalDetail,url:""},PostOfficeList:{apiCode:"PostOfficeList",pageCode:b.PostOfficeList,url:"/api/PostOffice/GetList"},PostOfficeDetail:{apiCode:"PostOfficeDetail",pageCode:b.PostOfficeDetail,url:""}},FORUM:{ForumSectionByID:{apiCode:"ForumSectionByID",pageCode:b.ForumSectionByID,url:""},ForumSectionByName:{apiCode:"ForumSectionByName",pageCode:b.ForumSectionByName,url:""},ForumSection:{apiCode:"ForumSection",pageCode:b.ForumSection,url:"/api/Forum/GetSection"},ForumThreadList:{apiCode:"ForumThreadList",pageCode:b.ForumThreadList,url:"/api/Forum/GetSectionCard"},ForumNiceThreadList:{apiCode:"ForumNiceThreadList",pageCode:b.ForumNiceThreadList,url:""},ForumTopThreadList:{apiCode:"ForumTopThreadList",pageCode:b.ForumTopThreadList,url:""},ForumHostThreadList:{apiCode:"ForumHostThreadList",pageCode:b.ForumHostThreadList,url:""},ForumThreadSetNice:{apiCode:"ForumThreadSetNice",pageCode:b.ForumThreadSetNice,url:""},ForumThreadDelete:{apiCode:"ForumThreadDelete",pageCode:b.ForumThreadDelete,url:""},ForumThreadSetStick:{apiCode:"ForumThreadSetStick",pageCode:b.ForumThreadSetStick,url:""},ForumThreadAddClick:{apiCode:"ForumThreadAddClick",pageCode:b.ForumThreadAddClick,url:""},ForumThreadRole:{apiCode:"ForumThreadRole",pageCode:b.ForumThreadRole,url:""},InsertThread:{apiCode:"InsertThread",pageCode:b.InsertThread,url:"/api/Forum/InsertThread"},UpdateThread:{apiCode:"UpdateThread",pageCode:b.UpdateThread,url:""},ForumThreadDetail:{apiCode:"ForumThreadDetail",pageCode:b.ForumThreadDetail,url:"/api/Forum/SelectCardContent"},ForumThreadTitle:{apiCode:"ForumThreadTitle",pageCode:b.ForumThreadTitle,url:""},ForumThreadResponseInsert:{apiCode:"ForumThreadResponseInsert",pageCode:b.ForumThreadResponseInsert,url:"/api/Forum/InsertResponse"},ForumUpdateResponse:{apiCode:"ForumUpdateResponse",pageCode:b.ForumUpdateResponse,url:""},ForumThreadAuditingResponse:{apiCode:"ForumThreadAuditingResponse",pageCode:b.ForumThreadAuditingResponse,url:""},ForumThreadUnlawfulResponse:{apiCode:"ForumThreadUnlawfulResponse",pageCode:b.ForumThreadUnlawfulResponse,url:""},AuditingResponses:{apiCode:"AuditingResponses",pageCode:b.AuditingResponses,url:""},AuditingThreads:{apiCode:"AuditingThreads",pageCode:b.AuditingThreads,url:""},ForumPendingTreatment:{apiCode:"ForumPendingTreatment",pageCode:b.ForumPendingTreatment,url:""},ForumThreadPendingAudit:{apiCode:"ForumThreadPendingAudit",pageCode:b.ForumThreadPendingAudit,url:""},ForumResponsePendingAudit:{apiCode:"ForumResponsePendingAudit",pageCode:b.ForumResponsePendingAudit,url:""},ForumUserCommentRole:{apiCode:"ForumUserCommentRole",pageCode:b.ForumUserCommentRole,url:""},ForumGetUserAvatarById:{apiCode:"ForumGetUserAvatarById",pageCode:b.ForumGetUserAvatarById,url:""},GetUserDraft:{apiCode:"GetUserDraft",pageCode:b.GetUserDraft,url:""},SyncForumUserInfo:{apiCode:"SyncForumUserInfo",pageCode:b.SyncForumUserInfo,url:""},ForumInfoByUserID:{apiCode:"ForumInfoByUserID",pageCode:b.ForumInfoByUserID,url:""},ForumThreadByUserID:{apiCode:"ForumThreadByUserID",pageCode:b.ForumThreadByUserID,url:""},ForumResponseByUserID:{apiCode:"ForumResponseByUserID",pageCode:b.ForumResponseByUserID,url:""},ForumValidateUser:{apiCode:"ForumValidateUser",pageCode:b.ForumValidateUser,url:""},ForumComplaint:{apiCode:"ForumComplaint",pageCode:b.ForumComplaint,url:""}},NOTES:{QueryComment:{apiCode:"QueryComment",pageCode:b.QueryComment,url:"/api/SNS/QueryComment"},InsertComment:{apiCode:"InsertComment",pageCode:b.InsertComment,url:"/api/SNS/InsertComment"},GetNotes:{apiCode:"GetNotes",pageCode:b.GetNotes,url:"/api/SNS/GetNotes"},NoteAndImageTotal:{apiCode:"NoteAndImageTotal",pageCode:b.NoteAndImageTotal,url:""},CreateNotesTop:{apiCode:"CreateNotesTop",pageCode:b.CreateNotesTop,url:""},HasDrafts:{apiCode:"HasDrafts",pageCode:b.HasDrafts,url:""},DeleteNote:{apiCode:"DeleteNote",pageCode:b.DeleteNote,url:""},AddShareCount:{apiCode:"AddShareCount",pageCode:b.AddShareCount,url:""},AddClickNote:{apiCode:"AddClickNote",pageCode:b.AddClickNote,url:""},AddCollectNote:{apiCode:"AddCollectNote",pageCode:b.AddCollectNote,url:""},AddUpNote:{apiCode:"AddUpNote",pageCode:b.AddUpNote,url:""},UpdateNote:{apiCode:"UpdateNote",pageCode:b.UpdateNote,url:""},GetMyNotes:{apiCode:"GetMyNotes",pageCode:b.GetMyNotes,url:""},GetMyNoteCommentByUserID:{apiCode:"GetMyNoteCommentByUserID",pageCode:b.GetMyNoteCommentByUserID,url:""},HasCollectedAndUp:{apiCode:"HasCollectedAndUp",pageCode:b.HasCollectedAndUp,url:""},GetNote:{apiCode:"GetNote",pageCode:b.GetNote,url:"/api/SNS/GetNote"},GetNoteInfo:{apiCode:"GetNoteInfo",pageCode:b.GetNoteInfo,url:""},GetContent:{apiCode:"GetContent",pageCode:b.GetContent,url:""},CreateNote:{apiCode:"CreateNote",pageCode:b.CreateNote,url:""},SaveNote:{apiCode:"SaveNote",pageCode:b.SaveNote,url:""},SumbitNote:{apiCode:"SumbitNote",pageCode:b.SumbitNote,url:""},SetFrontImage:{apiCode:"SetFrontImage",pageCode:b.SetFrontImage,url:""},SetFrontImageByContentID:{apiCode:"SetFrontImageByContentID",pageCode:b.SetFrontImageByContentID,url:""},SetHeadImage:{apiCode:"SetHeadImage",pageCode:b.SetHeadImage,url:""},SetHeadSourceImage:{apiCode:"SetHeadSourceImage",pageCode:b.SetHeadSourceImage,url:""},InsertNoteContent:{apiCode:"InsertNoteContent",pageCode:b.InsertNoteContent,url:""},UpdateNoteContent:{apiCode:"UpdateNoteContent",pageCode:b.UpdateNoteContent,url:""},DeleteNoteContent:{apiCode:"DeleteNoteContent",pageCode:b.DeleteNoteContent,url:""},GetNoteUser:{apiCode:"GetNoteUser",pageCode:b.GetNoteUser,url:""},GetNoteEditRole:{apiCode:"GetNoteEditRole",pageCode:b.GetNoteEditRole,url:""},UpdateContent:{apiCode:"UpdateContent",pageCode:b.UpdateContent,url:""},GetImages:{apiCode:"GetImages",pageCode:b.GetImages,url:""},GetNoteTitleMenu:{apiCode:"GetNoteTitleMenu",pageCode:b.GetNoteTitleMenu,url:""},GetNoteByID:{apiCode:"GetNoteByID",pageCode:b.GetNoteByID,url:""},BatchUpdateSort:{apiCode:"BatchUpdateSort",pageCode:b.BatchUpdateSort,url:""}},JOURNEY:{GetMDTypesIncKid:{apiCode:"GetMDTypesIncKid",pageCode:b.GetMDTypesIncKid,url:"/API/TravelPlan/GetMDTypes"},GetTjTypes:{apiCode:"GetTjTypes",pageCode:b.GetTjTypes,url:"/API/TravelPlan/GetTjTypes"},GetSmartTourFilters:{apiCode:"GetSmartTourFilters",pageCode:b.GetSmartTourFilters,url:"/API/TravelPlan/GetSmartTourFilters"},GetSettings:{apiCode:"GetSettings",pageCode:b.GetSettings,url:"/API/TravelPlan/GetSettings"},GetTourFiltersByEBtype:{apiCode:"GetTourFiltersByEBtype",pageCode:b.GetTourFiltersByEBtype,url:""},GetTourPlanByID:{apiCode:"GetTourPlanByID",pageCode:b.GetTourPlanByID,url:"/API/TravelPlan/GetTourPlanByID"},TourPlanSmartJArray:{apiCode:"TourPlanSmartJArray",pageCode:b.TourPlanSmartJArray,url:""},TourPlanSmartAndSave:{apiCode:"",pageCode:"",url:"/API/TravelPlan/TourPlanSmartAndSave"},ViewUserTravelPlanInfo:{apiCode:"ViewUserTravelPlanInfo",pageCode:b.ViewUserTravelPlanInfo,url:""},GetTourPlanInfo:{apiCode:"GetTourPlanInfo",pageCode:b.GetTourPlanInfo,url:"/API/TravelPlan/GetTourPlanInfo"},GetRecommendTourForHome:{apiCode:"GetRecommendTourForHome",pageCode:b.GetRecommendTourForHome,url:"/API/TravelPlan/GetRecommendTourForHome"},GetSharedTourForHome:{apiCode:"GetSharedTourForHome",pageCode:b.GetSharedTourForHome,url:""},GetPlanListByUser:{apiCode:"GetPlanListByUser",pageCode:b.GetPlanListByUser,url:""},SaveTourPlan:{apiCode:"SaveTourPlan",pageCode:b.SaveTourPlan,url:""},CopyTravelPlan:{apiCode:"CopyTravelPlan",pageCode:b.CopyTravelPlan,url:"/API/TravelPlan/CopyTravelPlan"},ShareTour:{apiCode:"ShareTour",pageCode:b.ShareTour,url:""},DeleteTourInUserCenter:{apiCode:"DeleteTourInUserCenter",pageCode:b.DeleteTourInUserCenter,url:"/API/TravelPlan/DeleteTourInUserCenter"},EditTour:{apiCode:"EditTour",pageCode:b.EditTour,url:"/API/TravelPlan/EditTour"},TourApi:{apiCode:"EditTour",pageCode:b.TourApi,url:"/API/TravelPlan/TourApi"},UpdateTourTitle:{apiCode:"UpdateTourTitle",pageCode:b.UpdateTourTitle,url:"/API/TravelPlan/UpdateTourTitle"},UpdateTourBegin:{apiCode:"UpdateTourBegin",pageCode:b.UpdateTourBegin,url:"/API/TravelPlan/UpdateTourBegin"},AddProCollect:{apiCode:"AddProCollect",pageCode:b.AddProCollect,url:""},DelProCollect:{apiCode:"DelProCollect",pageCode:b.DelProCollect,url:""},CollectMain:{apiCode:"CollectMain",pageCode:b.CollectMain,url:""},InsertPlanPro:{apiCode:"InsertPlanPro",pageCode:b.InsertPlanPro,url:""},AddRemarkInPro:{apiCode:"AddRemarkInPro",pageCode:b.AddRemarkInPro,url:""},OptimizeTourPlan:{apiCode:"OptimizeTourPlan",pageCode:b.OptimizeTourPlan,url:""},FillTour:{apiCode:"FillTour",pageCode:b.FillTour,url:"/API/TravelPlan/FillTour"},GetTourMapList:{apiCode:"GetTourMapList",pageCode:b.GetTourMapList,url:""},GetProjectItemsCount:{apiCode:"GetProjectItemsCount",pageCode:b.GetProjectItemsCount,url:""},GetNotInShopCarItem:{apiCode:"GetNotInShopCarItem",pageCode:b.GetNotInShopCarItem,url:""},GetNotInShoppingPrice:{apiCode:"GetNotInShoppingPrice",pageCode:b.GetNotInShoppingPrice,url:""},GetTourMainByProId:{apiCode:"GetTourMainByProId",pageCode:b.GetTourMainByProId,url:""},ClearNotInShopCar:{apiCode:"ClearNotInShopCar",pageCode:b.ClearNotInShopCar,url:""},GetInShopCarPrice:{apiCode:"GetInShopCarPrice",pageCode:b.GetInShopCarPrice,url:""}},FOOTMARK:{LIST:{apiCode:"",pageCode:"",url:"/Api/Foot/GetList"},PUBLISH:{apiCode:"",pageCode:"",url:"/Api/Foot/Update"},LIKE:{apiCode:"",pageCode:"",url:"/Api/Foot/UpdateLike"},COLLECT:{apiCode:"",pageCode:"",url:"/Api/Foot/UpdateCollection"},DELETE:{apiCode:"",pageCode:"",url:"/Api/Foot/Delete"},DeleteImage:{apiCode:"",pageCode:"",url:"/Api/Foot/DeleteImage"},COMMENT:{apiCode:"",pageCode:"",url:"/Api/Foot/UpdateComment"},REPLY_COMMENT:{apiCode:"",pageCode:"",url:"/Api/Foot/UpdateReply"},ATTENTION_LIST:{apiCode:"",pageCode:"",url:"/Api/Foot/GetAttentionList"},UPDATE_ATTENTION:{apiCode:"",pageCode:"",url:"/Api/Foot/UpdateAttention"},CHECK_ATTENTION:{apiCode:"",pageCode:"",url:"/Api/Foot/IsAttention"},DETAIL:{apiCode:"",pageCode:"",url:"/Api/Foot/GetDetail"}},VISITOR:{GetVisitorsList:{apiCode:"Visitor",pageCode:"GetVisitorsList",url:"/api/Visitor/GetVisitorsList"},AddVisitors:{apiCode:"Visitor",pageCode:"AddVisitors",url:"/api/Visitor/AddVisitors"},UpdateVisitor:{apiCode:"Visitor",pageCode:"UpdateVisitor",url:"/api/Visitor/UpdateVisitor"},DeleteVisitors:{apiCode:"Visitor",pageCode:"DeleteVisitors",url:"/api/Visitor/DeleteVisitors"}}}},,,,,,,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=n(36),i=n.n(a),o=n(293),s=n.n(o),c=n(398),l=n.n(c),u=n(15),p=n(54),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=function(){function e(){r(this,e)}return d(e,null,[{key:"getFromPortal",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return this.getFromPortalWithUrl(this.HOST_PORTAL,e,t,n)}},{key:"postToPortal",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;return this.postToPortalWithUrl(this.HOST_PORTAL,e,t,n,r,a)}},{key:"getFromPortalWithUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.HOST_PORTAL,t=arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,a=this._getAppData(t.pageCode,t.apiCode);return n=n||{_empty_:"_empty_"},n.Sign=l()(a+this._concatParameters(n)).toUpperCase(),n.AppData=a,this.getData(e+t.url,n,r)}},{key:"postToPortalWithUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.HOST_PORTAL,t=arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,o=this._getAppData(t.pageCode,t.apiCode);return n=n||{_empty_:"_empty_"},n.Sign=l()(o+this._concatParameters(n)).toUpperCase(),n.AppData=o,i&&i.length>0?this.postDataWithFile(e+t.url,n,a,i):this.postData(e+t.url,n,r,a,i)}},{key:"getData",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return new Promise(function(a,i){e&&void 0!==e?(e=t._concatUrlAndParameters(e,n),r&&t._responseWithCache(e,r),a({url:e})):i("\u65e0\u6548\u7684\u8bf7\u6c42\u53c2\u6570: url: "+e)}).then(function(n){return fetch(n.url).then(function(n){return n&&r&&n.clone().text().then(function(n){t._cacheResponse(e,n)}),n})})}},{key:"getDataWithJsonp",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return new Promise(function(a,i){e&&void 0!==e?(e=t._concatUrlAndParameters(e,n),r&&t._responseWithCache(e,r),a({url:e})):i("\u65e0\u6548\u7684\u8bf7\u6c42\u53c2\u6570: url: "+e)}).then(function(e){return s()(e.url).then(function(e){return e.json()})})}},{key:"postData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t=t||{__empty__:"__empty__"};var i=void 0;return new Promise(function(o,s){if(e&&void 0!==e)if(a)e=n._concatUrlAndParameters(e,t),r&&(i=e+(t?JSON.stringify(t):""),n._responseWithCache(i,r)),o({url:e});else{r&&(i=e+(t?JSON.stringify(t):""),n._responseWithCache(i,r));var c=n._concatParameters(t);o({url:e,body:c})}else s("\u65e0\u6548\u7684\u8bf7\u6c42\u53c2\u6570: url: "+e)}).then(function(e){return fetch(e.url,{method:"POST",body:e.body,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){return e&&r&&i&&e.clone().text().then(function(e){n._cacheResponse(i,e)}),e})})}},{key:"postDataWithFile",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;return new Promise(function(i,o){var s=new FormData;if(r)e=n._concatUrlAndParameters(e,t);else for(var c in t){var l=t[c];l instanceof Object?s.append(c,JSON.stringify(l)):s.append(c,l)}var u=a&&a.length>0;if(u)for(var p=0;p<a.length;p++){var d=a[p];d.isRenameFile?s.append("file",d.file,d.fileName):s.append("file",d)}i({url:e,body:s,hasStream:u})}).then(function(e){var t={method:"POST",body:e.body};return fetch(e.url,t).then(function(e){return e})})}},{key:"postToPayArgsData",value:function(e,t,n,r){var a=this.HOST_E_PAYMENT+"/api/MobilePay/PayArgsQuery",i=u.a.getCurrentDateTime(),o=p.a.instance.wechatPayAccount+p.a.instance.wechatPaySecret+i;o=l()(o).toUpperCase();var s={argsJson:{SvrName:"WECHAT_PAY_WAP",AppKey:p.a.instance.wechatPayAccount,AppSign:o,DateTimeNow:i,OrderNo:t,Title:e,Body:"",PayAmount:n,OpenID:r}};return this.postData(a,s)}},{key:"_cacheResponse",value:function(e,t){}},{key:"_responseWithCache",value:function(e,t){}},{key:"_concatUrlAndParameters",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(!t)return e;var n={};for(var r in t){var a=t[r];a instanceof Object?n[r]=JSON.stringify(a):n[r]=a}var o=i.a.stringify(n);return e+=(-1===e.indexOf("?")?"?":"&")+o}},{key:"_concatParameters",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(!e)return"";var t={};for(var n in e){var r=e[n];r instanceof Object?t[n]=JSON.stringify(r):t[n]=r}return i.a.stringify(t)}},{key:"_getAppData",value:function(e,t){var n=u.a.getUserId();return n=n||"",{AppCode:this.__APP_CODE__,AppKey:this.__APP_KEY__,PageCode:e,ApiCode:t,LoginUserID:n,ClientType:"2",TimeStamp:(new Date).getTime()}}},{key:"HOST_PORTAL",get:function(){return p.a.instance.hostPortal}},{key:"HOST_E_BUSINESS",get:function(){return p.a.instance.hostEBusiness}},{key:"HOST_E_PAYMENT",get:function(){return p.a.instance.hostEPayment}},{key:"HOST_WECHAT_SERVER",get:function(){return p.a.instance.hostWechatServer}}]),e}();h.WECHAT_HANDLER=h.HOST_WECHAT_SERVER+"/Content/Handler/WeChatHandler.ashx",h.HOST_WEATHER="http://api.map.baidu.com/telematics/v3/weather",h.__APP_CODE__="app",h.__APP_KEY__="d25fd167d84e4170be6da3666cbd457e",t.a=h},,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(0),s=n.n(o),c=n(14),l=n.n(c),u=n(2),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={height:100},n}return i(t,e),p(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"appContent",style:Object.assign({height:this.state.height+"px"},this.props.style)},this.props.children)}},{key:"componentDidMount",value:function(){var e=window.innerHeight-l.a.findDOMNode(this).parentNode.offsetTop;this.setState({height:e})}},{key:"componentDidUpdate",value:function(e,t,n){if(this.props.height){var r=window.innerHeight-l.a.findDOMNode(this).parentNode.offsetTop;r!==this.state.height&&this.setState({height:r})}}},{key:"getOffsetY",value:function(){return l.a.findDOMNode(this).scrollTop}},{key:"scrollToY",value:function(e){var t=l.a.findDOMNode(this);t&&(t.scrollTop=e)}}]),t}(o.PureComponent),h=function(e,t){var n=e.native.windowSize;return Object.assign({},n)};d=Object(u.b)(h,null,null,{withRef:!0})(d),t.a=d},,,,,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=n(39),i=(n.n(a),n(40)),o=n.n(i),s=n(1),c=n(54),l=n(36),u=n.n(l),p=n(47),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=function(){function e(){r(this,e)}return d(e,null,[{key:"isUserLogined",value:function(e){return e&&e.me&&e.me.userInfo&&e.me.userInfo&&e.me.userInfo.results&&e.me.userInfo.results.ID}},{key:"getLocation",value:function(e){if(e&&e.system&&e.system.latitude&&e.system.longitude)return{lat:e.system.latitude,lng:e.system.longitude,address:e.system.address};var t=p.a.getItem(s.r.USER_LOCATION);return t&&t.length>0?JSON.parse(t):{lat:c.a.instance.appCityLatitude,lng:c.a.instance.appCityLongitude}}},{key:"getUserId",value:function(e){if(this.isUserLogined(e))return e.me.userInfo.results.ID;var t=this._getUserInfoFromLocalStorage();return t?t.ID:void 0}},{key:"getUserInfo",value:function(e){return this.isUserLogined(e)?e.me.userInfo.results:this._getUserInfoFromLocalStorage()}},{key:"_getUserInfoFromLocalStorage",value:function(){var e=p.a.getItem(s.r.USER_INFO);if(e&&e.length)return JSON.parse(e)}},{key:"getStoreItemByDotConnector",value:function(e,t){if(e&&t){for(var n=t.split("."),r=e,a=0;a<n.length;a++){var i=r[n[a]];if(!i)return i;r=i}return r}}},{key:"RndNum",value:function(e){for(var t="",n=0;n<e;n++)t+=Math.floor(10*Math.random());return t}},{key:"getStatusName",value:function(e){var t="";switch(parseInt(e,10)){case 1:t="\u5f85\u786e\u8ba4";break;case 2:t="\u5f85\u4ed8\u6b3e";break;case 3:t="\u5df2\u53d6\u6d88";break;case 4:t="\u5df2\u652f\u4ed8";break;case 5:t="\u51fa\u7968\u4e2d";break;case 6:t="\u672a\u6d88\u8d39";break;case 7:t="\u5df2\u6d88\u8d39";break;case 8:t="\u9000\u6b3e\u7533\u8bf7\u4e2d";break;case 9:t="\u9000\u6b3e\u62d2\u7edd";break;case 10:t="\u9000\u6b3e\u4e2d";break;case 11:t="\u5df2\u9000\u6b3e";break;case 12:t="\u9884\u652f\u4ed8\u6210\u529f";break;case 13:t="\u5df2\u5165\u4f4f";break;case 14:t="\u63d0\u524d\u9000\u623f\u7533\u8bf7";break;case 15:t="\u63d0\u524d\u9000\u623f\u901a\u8fc7";break;case 16:t="\u63d0\u524d\u9000\u623f\u62d2\u7edd";break;case 17:t="\u9000\u8d27\u7533\u8bf7\u4e2d";break;case 18:t="\u5df2\u53d1\u8d27";break;case 19:t="\u5df2\u7b7e\u6536";break;case 20:t="\u9000\u8d27\u540c\u610f";break;case 21:t="\u9000\u8d27\u4e2d";break;case 22:t="\u9000\u6b3e\u5ba1\u6838\u4e2d";break;case 23:t="\u9000\u8d27\u62d2\u7edd";break;case 24:t="\u8d22\u52a1\u9000\u6b3e\u4e2d";break;case 25:t="\u63d0\u524d\u9000\u623f\u8d22\u52a1\u9000\u6b3e\u4e2d";break;case 30:t="\u90e8\u5206\u9000\u6b3e\u4e2d";break;case 40:t="\u5168\u989d\u9000\u6b3e\u4e2d"}return t}},{key:"ValidateIdcard",value:function(e){return!(!e||!/^[1-9]\d{5}(18|19|([2]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/i.test(e)&&!/^[1-9]\d{5}\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{2}$/i.test(e))}},{key:"getOrderOperateTypeName",value:function(e){var t="";switch(e){case s.j.ORDER_OPERATE_CANCEL:t="\u53d6\u6d88\u8ba2\u5355";break;case s.j.ORDER_OPERATE_GOPAY:t="\u7acb\u5373\u652f\u4ed8";break;case s.j.ORDER_OPERATE_DELETE:t="\u5220\u9664";break;case s.j.ORDER_OPERATE_REFUND:t="\u7533\u8bf7\u9000\u6b3e";break;case s.j.ORDER_OPERATE_BUYAGAIN:t="\u518d\u6b21\u8d2d\u4e70";break;case s.j.ORDER_OPERATE_REFUNDRESON:t="\u67e5\u770b\u9000\u6b3e\u539f\u56e0";break;case s.j.ORDER_OPERATE_GOCOMMENT:t="\u53bb\u70b9\u8bc4";break;case s.j.ORDER_OPERATE_REFUND_REFUSERESON:t="\u67e5\u770b\u62d2\u7edd\u539f\u56e0"}return t}},{key:"getUrlParameter",value:function(e){var t=u.a.parse(window.location.search);return t?t[e]:null}},{key:"ifWechatBrowser",value:function(){return"MicroMessenger"===navigator.userAgent.match(/MicroMessenger/i)}},{key:"getScenicStarCount",value:function(e){var t=(e||"0")+"",n={128001:5,128002:4,128003:3,128004:2,128005:1,128006:0};return parseInt(t,10)>0?n[t]:0}},{key:"getHotelStarCount",value:function(e){var t=(e||"0")+"",n={109005:5,109004:4,109003:3,109002:2,109001:1,109000:0};return parseInt(t,10)>0?n[t]:0}},{key:"getCurrentDateTime",value:function(){var e=new Date,t=e.getMonth()+1,n=e.getDate(),r=e.getHours(),a=e.getMinutes(),i=e.getSeconds();return""+e.getFullYear()+(t>=10?"":0)+t+(n>=10?"":0)+n+(r>=10?"":0)+r+(a>=10?"":0)+a+(i>=10?"":0)+i}},{key:"openTel",value:function(e){if(e&&!(e.length<=0)){var t=e.split(",");if(t=1===t.length?e.split("\u3001"):t,t=1===t.length?e.split(" "):t,1===t.length)window.open("tel://"+e,"_self");else if(t.length>1){for(var n=[],r=0;r<t.length;r++)!function(e){var r=t[e];n.push({text:r,onPress:function(){window.open("tel://"+r,"_self")}})}(r);n.push({text:"\u53d6\u6d88",onPress:function(){return console.log("cancel")},style:"default"}),o.a.alert("\u6253\u7535\u8bdd","\u8bf7\u9009\u62e9\u7535\u8bdd\u53f7\u7801",n)}}}}]),e}();t.a=h},,,,,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=n(14),i=n.n(a),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(){r(this,e)}return o(e,null,[{key:"updateComponentHeight",value:function(e,t){if(e){var n=i.a.findDOMNode(e);n&&(n.style.height="string"===typeof t?t:t+"px")}}},{key:"fixListViewHeightIssue",value:function(e,t){if(e){t="string"===typeof t?t:t+"px";var n=i.a.findDOMNode(e),r=n.getElementsByClassName("am-list-view-scrollview-content");r&&r.length>0&&(r[0].style.minHeight=t),r=n.getElementsByClassName("am-pull-to-refresh-content-wrapper"),r&&r.length>0&&(r[0].style.minHeight=t)}}},{key:"fixCalendarHeightIssue",value:function(e,t){if(e){t="string"===typeof t?t:t+"px";var n=i.a.findDOMNode(e),r=n.getElementsByClassName("content");r&&r.length>0&&(r[0].style.height=t)}}}]),e}();t.a=s},function(e,t,n){"use strict";Date.prototype.formatDate=function(e){var t=this.getFullYear(),n=this.getMonth()+1;n>0&&n<10&&(n="0"+n);var r=this.getDate();r>0&&r<10&&(r="0"+r);var a=this.getHours(),i=this.getMinutes(),o=this.getSeconds();return"YYYY-MM-DD"===e?t+"-"+n+"-"+r:"MM-DD"===e?n+"-"+r:"YYYY-MM"===e?t+"-"+n:"YYYYMMDD"===e?""+t+n+r:"HH:mm"===e?a+":"+i:"YYYY\u5e74MM\u6708DD\u65e5"===e?t+"\u5e74"+n+"\u6708"+r+"\u65e5":"YYYY-MM-DD HH:mm:ss"===e?t+"-"+n+"-"+r+" "+a+":"+i+":"+o:"YYYY-MM-DD HH:mm"===e?t+"/"+n+"/"+r+" "+a+":"+i:void 0},Date.prototype.addDays=function(e){return new Date(this.getTime()+24*e*60*60*1e3)},Date.prototype.diffDays=function(e){var t=Date.parse(this),n=Date.parse(e);return Math.abs(n-t)/1e3/60/60/24},Date.prototype.isAfter=function(e){return this.getTime()>e.getTime()}},,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(18),s=(n.n(o),n(19)),c=n.n(s),l=n(0),u=n.n(l),p=n(2),d=n(15),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),E=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.goHome=n.goHome.bind(n),n.state={isMenu:"true"===d.a.getUrlParameter("isMenu")},n}return i(t,e),h(t,[{key:"render",value:function(){return this.state.isMenu?u.a.createElement("img",{className:"homeMine",src:n(431),alt:""}):u.a.createElement(c.a,{type:"left"})}},{key:"goHome",value:function(){this.props.goBackAction()&&this.props.dispatch(this.props.goBackAction()),this.state.isMenu?this.props.history.replace("/"):this.props.history.goBack()}}]),t}(l.PureComponent),m=function(e,t){return{}};E=Object(p.b)(m,null,null,{withRef:!0})(E),t.a=E},,,,,,,,,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(0),s=n.n(o),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),c(t,[{key:"render",value:function(){var e="emptyView "+this.props.className;return s.a.createElement("div",{className:e,style:this.props.style,onClick:this.props.onClick},s.a.createElement("img",{className:"emptyViewImage",src:n(496),alt:""}))}}]),t}(o.PureComponent);t.a=l},,,,,,,,,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(0),s=(n.n(o),n(2)),c=n(1),l=n(200),u=n(532),p=(n.n(u),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),d=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.closePhotosToIframe=n.closePhotosToIframe.bind(n),n}return i(t,e),p(t,[{key:"componentDidMount",value:function(){this.props.hasloadPhotoBrowerIframe||(window.loadPhotoBrowerIframeScript(),this.props.dispatch(Object(l.b)()),this.timeoutListener=setTimeout(this.closePhotosToIframe,5e3))}},{key:"componentWillUnmount",value:function(){this.clearTimer()}},{key:"componentDidUpdate",value:function(e,t,n){this.props.photoBrowserStatus!==e.photoBrowserStatus&&(this.props.photoBrowserStatus,c.p.PHOTO_BROWSER_LOADING),this.props.photoBrowserStatus!==e.photoBrowserStatus&&this.props.photoBrowserStatus===c.p.PHOTO_BROWSER_OPENED?this.clearTimer():this.props.photoBrowserStatus!==e.photoBrowserStatus&&this.props.photoBrowserStatus===c.p.PHOTO_BROWSER_CLOSED&&this.closePhotosToIframe()}},{key:"render",value:function(){return null}},{key:"clearTimer",value:function(){this.timeoutListener&&(clearTimeout(this.timeoutListener),this.timeoutListener=void 0)}},{key:"sendPhotosToIframe",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=document.getElementById("photoBrowser");n&&n.contentWindow&&(n.contentWindow.postMessage(JSON.stringify({type:"photo_browser_photos",data:e,activeIndex:t}),"*"),n.style.display="")}},{key:"closePhotosToIframe",value:function(){document.getElementById("photoBrowser").style.display="none"}},{key:"open",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.sendPhotosToIframe(e,t)}}]),t}(o.PureComponent),h=function(e){return{photoBrowserStatus:e.photoBrowser.photoBrowserStatus,hasloadPhotoBrowerIframe:e.photoBrowser.hasloadPhotoBrowerIframe}};d=Object(s.b)(h,null,null,{withRef:!0})(d),t.a=d},,,,,,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e)}return i(e,null,[{key:"getItem",value:function(e){if("undefined"!==typeof localStorage)return localStorage.getItem(e)}},{key:"setItem",value:function(e,t){if("undefined"!==typeof localStorage){var n=""+t;"object"===("undefined"===typeof t?"undefined":a(t))&&(n=JSON.stringify(t)),localStorage.setItem(e,n)}}},{key:"removeItem",value:function(e){"undefined"!==typeof localStorage&&localStorage.removeItem(e)}}]),e}();t.a=o},,,,,,,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){r(this,e),this.hostPortal="http://117.78.52.104:8083",this.hostEBusiness="http://117.78.52.104:8084",this.hostEPayment="http://117.78.52.104:8089",this.hostWechatServer="http://117.78.52.104",this.appCityName="\u79b9\u5dde",this.weatherCityName="\u79b9\u5dde",this.appCityLatitude=34.13911,this.appCityLongitude=113.476166,this.testWeXinAccount="afe66b183fdf485a820e642a711a63ae",this.testWeXinUserOpenId="od_7Bv9v-kVGk6py5sSYBQJgM7Hc",this.wechatPayAccount="PAY_YZ_B001_TEST",this.wechatPaySecret="yz001"}return a(e,[{key:"update",value:function(e){for(var t in e){var n=e[t];t&&n&&(this[t]=n)}}}]),e}();i.instance=new i,t.a=i},function(e,t,n){e.exports=n.p+"static/media/arrow@2x.c6779843.png"},,,,,function(e,t,n){"use strict";function r(){return{type:S.b.ORDER.BOOKING.GO_BACK}}function a(e){return{type:S.b.ORDER.BOOKING.UPDATE_USER_INFO,userInfo:e}}function i(e){return{type:S.b.ORDER.BOOKING.UPDATE_BOOKING_ITEM,bookingItem:e}}function o(){return function(e,t){var n=t();return e(T(b.a.getUserInfo(n))),new Promise(function(e){e()})}}function s(e,t){return function(n,r){return n(p()),l(e,t).then(function(e){e=e&&e.results?e.results:null,n(d(e,t))}).catch(function(e){n(h(e))})}}function c(e){return function(t,n){return t(E()),u(e).then(function(e){e=e&&e.results?e.results:null,t(m(e))}).catch(function(e){t(f(e))})}}function l(e,t){var n=_.a.HOST_E_BUSINESS,r=void 0,a=void 0;if(t===S.n.TICKET?(a=S.q.ELEMENTS.TicketDayPrice,r={ConditionParams:{Params:{Code:e}}}):t===S.n.HOTEL?(a=S.q.ELEMENTS.Hotel_GetRoomDayPrice,r={ConditionParams:{Params:{Code:e,StartDate:"",EndDate:""}}}):t===S.n.LINE&&(a=S.q.ELEMENTS.GetLineDayPrices,r={ConditionParams:{Params:{code:e}}}),n)return _.a.postToPortalWithUrl(n,a,r).then(function(e){return e.json()})}function u(e){var t={ConditionParams:{Params:{UserID:e}}};return _.a.postToPortalWithUrl(_.a.HOST_E_BUSINESS,S.q.VISITOR.GetVisitorsList,t).then(function(e){return e.json()})}function p(){return{type:S.b.ORDER.BOOKING.GET_PRICE_REQUEST}}function d(e,t){return{type:S.b.ORDER.BOOKING.GET_PRICE_SUCCESS,priceItem:e,orderType:t}}function h(e){return{type:S.b.ORDER.BOOKING.GET_PRICE_FAILURE,message:e}}function E(){return{type:S.b.ORDER.BOOKING.GET_VISITORS_REQUEST}}function m(e){return{type:S.b.ORDER.BOOKING.GET_VISITORS_SUCCESS,dataList:e}}function f(e){return{type:S.b.ORDER.BOOKING.GET_VISITORS_FAILURE,message:e}}function T(e){return{type:S.b.ORDER.BOOKING.BACKUP_USERINFO,userInfo:e}}function I(e){return{type:S.b.ORDER.BOOKING.UPDATE_SELECT_VISITOR,resp:e}}function g(e){return{type:S.b.ORDER.BOOKING.UPDATE_VISITOR,resp:e}}t.f=r,t.h=a,t.g=i,t.c=o,t.d=s,t.e=c,t.a=I,t.b=g;var S=n(1),_=n(8),b=n(15)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(28),s=(n.n(o),n(29)),c=n.n(s),l=n(0),u=n.n(l),p=n(2),d=n(166),h=n(9),E=n.n(h),m=n(15),f=n(8),T=n(1),I=n(538),g=(n.n(I),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),S=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.TYPE_ADD=1,n.TYPE_CANCEL=0,n.state={isCollect:!1},n.onCollectTapped=n.onCollectTapped.bind(n),n.onCommentsTapped=n.onCommentsTapped.bind(n),n}return i(t,e),g(t,[{key:"render",value:function(){var e=n(539),t="\u5468\u8fb9";return this.props.entityType===T.e.EntityType_Route&&(e=n(540),t="\u9884\u5b9a\u987b\u77e5"),u.a.createElement("div",{className:"elementOperationView"},u.a.createElement("div",{className:"elementOperationItem",onClick:this.props.onNearByTapped},u.a.createElement("img",{src:e,alt:""}),u.a.createElement("span",null,t)),u.a.createElement("div",{className:"elementOperationItem",onClick:this.onCommentsTapped},u.a.createElement("img",{src:n(148),alt:""}),u.a.createElement("span",null,"\u8bc4\u8bba")),u.a.createElement("div",{className:"elementOperationItem",onClick:this.onCollectTapped},this.state.isCollect?u.a.createElement("img",{src:n(541),alt:""}):u.a.createElement("img",{src:n(542),alt:""}),u.a.createElement("span",null,"\u6536\u85cf")))}},{key:"componentDidMount",value:function(){this.props.code&&!isNaN(this.props.userId)&&this.checkCollection()}},{key:"checkCollection",value:function(){var e=this,t={Code:this.props.code,UserID:this.props.userId};f.a.postToPortal(T.q.ME.IsCollect,t,null,!0).then(function(e){return e.json()}).then(function(t){t&&e.setState({isCollect:t.results})})}},{key:"onCollectTapped",value:function(){var e=this;if(isNaN(this.props.userId))return void this.props.history.push("/me/login");var t={Code:this.props.code,UserID:this.props.userId,Type:this.state.isCollect?this.TYPE_CANCEL:this.TYPE_ADD,LikeType:4,IP:""};f.a.postToPortal(T.q.ME.AddCollect,t,null,!0).then(function(e){return e.json()}).then(function(t){t&&("0"===t.status&&e.setState({isCollect:!e.state.isCollect}),c.a.success(t.results,void 0,void 0,!1))})}},{key:"onCommentsTapped",value:function(){this.props.history.push("/comments/"+this.props.code)}}]),t}(l.PureComponent);S.propTypes={onNearByTapped:E.a.func,code:E.a.string,entityType:E.a.number};var _=function(e,t){return{userId:m.a.getUserId(e)}};S=Object(p.b)(_)(Object(d.a)(S)),t.a=S},function(e,t,n){e.exports=n.p+"static/media/ico_phone_ora@2x.4caf59e2.png"},,,,,,,function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(0),s=(n.n(o),n(1)),c=n(15),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"updateNativeTitle",value:function(e){e&&e.length>0&&this.sendMessageToNative(s.i.SET_NAV_BAR_TITLE,{title:e})}},{key:"dial",value:function(e,t){e&&0!==e.length&&(t?this.sendMessageToNative(s.i.DIAL,{phoneNumber:e}):c.a.openTel(e))}},{key:"sendMessageToNative",value:function(e,t){window.postMessage&&window.postMessage(JSON.stringify({type:e,data:t}),"*")}}]),t}(o.PureComponent);t.a=u},,,,,,,,function(e,t,n){"use strict";function r(e){var t=w.a.getItem(v.r.USER_LOGIN_FORM);if(t&&t.length>0){var n=JSON.parse(t);n&&n.phone&&n.password&&e(c(n.phone,n.password))}}function a(e){if(e)return{type:v.b.ME.USER_INFO.SET_USER_INFO,userInfo:e}}function i(e,t,n){var a=N.a.WECHAT_HANDLER,i={type:"1",action:"1",conditionParm:JSON.stringify({AccountGuid:e,Code:t})};return N.a.getData(a,i).then(function(e){return e.json()}).then(function(t){if(t&&t.success&&t.datas){var a=t.datas;if(a.OAuth.err)console.warn("\u83b7\u53d6\u5fae\u4fe1\u7528\u6237\u5931\u8d25");else{var i=a.OpenId;w.a.setItem(v.r.WX_USER_OPENID,i),w.a.setItem(v.r.WX_ACCOUNT,e),console.log("\u83b7\u53d6\u5fae\u4fe1\u7528\u6237\u6210\u529f"),R.a.setMetaInfo({wechatUser:Object.assign({},a,{appOpenId:i,appAccount:e})})}}else console.warn("\u83b7\u53d6\u5fae\u4fe1\u7528\u6237\u5931\u8d25");r(n)})}function o(e){if(e){var t=N.a.WECHAT_HANDLER,n={type:"12",action:"2",conditionParm:JSON.stringify({WapUserGuid:"",UserId:e.ID,NickName:e.Nickname,Name:e.Name,Phone:e.PhoneNumber||e.Phone,Email:e.Email,Sex:e.Sex,Birthday:e.Birthday,City:e.City,CreateTime:e.CreateTime,IsDelete:0})};return N.a.getData(t,n).then(function(e){return e.json()}).then(function(e){e&&e.success&&e.datas?console.log("\u540c\u6b65\u7528\u6237\u4fe1\u606f\u6210\u529f"):console.warn("\u540c\u6b65\u7528\u6237\u4fe1\u606f\u5931\u8d25")})}}function s(e){var t=w.a.getItem(v.r.WX_USER_OPENID);if(t&&0!==t.length&&e){var n=N.a.WECHAT_HANDLER,r={type:"2",action:"9",conditionParm:JSON.stringify({OpenId:t,UserId:e.ID})};return N.a.getData(n,r).then(function(e){return e.json()}).then(function(t){t&&t.success&&t.datas?(o(e),console.log("\u7ed1\u5b9a\u5fae\u4fe1\u7528\u6237\u6210\u529f")):console.warn("\u7ed1\u5b9a\u5fae\u4fe1\u7528\u6237\u5931\u8d25")})}}function c(e,t){return function(n,r){return n(u()),l(e,t).then(function(r){r&&"0"===r.status&&r.results&&r.results.length>0&&(r.results=r.results[0],R.a.setMetaInfo({portalUser:Object.assign({},r.results)}),r.results.Pwd=t,w.a.setItem(v.r.USER_LOGIN_FORM,{phone:e,password:t}),w.a.setItem(v.r.USER_INFO,r.results),s(r.results)),n(p(r))}).catch(function(e){n(d(e))})}}function l(e,t){var n={phone:e,pwd:t};return N.a.postToPortal(v.q.ME.Login,n,null,!0).then(function(e){return e.json()})}function u(e){return{type:v.b.ME.USER_INFO.LOGIN_REQUEST,code:e}}function p(e){return{type:v.b.ME.USER_INFO.LOGIN_SUCCESS,userInfo:e}}function d(e){return{type:v.b.ME.USER_INFO.LOGIN_FAILURE,message:e}}function h(){return w.a.removeItem(v.r.USER_LOGIN_FORM),w.a.removeItem(v.r.USER_INFO),{type:v.b.ME.USER_INFO.EXIT_LOGIN}}function E(e,t){return function(n,r){return n(g()),I(e,t).then(function(e){e.status&&"0"===e.status&&e.results&&e.results.length>0?(e.results=e.results[0],n(S(e))):n(_(e.message))}).catch(function(e){n(_(e))})}}function m(){return{type:v.b.ME.USER_INFO.CLONE_TEMP_INFO}}function f(){return{type:v.b.ME.USER_INFO.CLEAR_TEMP_INFO}}function T(e){return{type:v.b.ME.USER_INFO.UPDATE_TEMP_INFO,configItem:e}}function I(e,t){return N.a.postToPortal(v.q.ME.Update,e,null,!0,t?[t]:t).then(function(e){return e.json()})}function g(e){return{type:v.b.ME.USER_INFO.UPDATE_INFO_REQUEST,code:e}}function S(e){return{type:v.b.ME.USER_INFO.UPDATE_INFO_SUCCESS,userInfo:e}}function _(e){return{type:v.b.ME.USER_INFO.UPDATE_INFO_FAILURE,message:e}}function b(e){return function(t,n){return t(O()),L(e).then(function(e){t(y(e&&e.results?e.results:null))}).catch(function(e){t(C(e))})}}function O(){return{type:v.b.ME.USER_INFO.GET_NUMBERS_REQUEST}}function L(e){var t={ID:e};return N.a.postToPortal(v.q.ME.GetUserCount,t,null,!0).then(function(e){return e.json()})}function y(e){return{type:v.b.ME.USER_INFO.GET_NUMBERS_SUCCESS,results:e}}function C(e){return{type:v.b.ME.USER_INFO.GET_NUMBERS_FAILURE,message:e}}t.d=r,t.i=a,t.h=i,t.b=c,t.g=h,t.c=E,t.f=m,t.e=f,t.j=T,t.a=b;var v=n(1),N=n(8),R=n(401),w=n(47)},,function(e,t,n){e.exports=n.p+"static/media/eye.b5e9e4d2.png"},,,,function(e,t,n){"use strict";function r(e,t,n,r){return function(a,i){return a(T(e,t,n,r)),f(e,t,n,r).then(function(i){a(I(e,t,n,r,i))}).catch(function(r){a(g(e,t,n,r))})}}function a(e,t){return function(n,r){return n(_(e,t)),S(e).then(function(r){n(b(e,t,r.results&&r.results.length>0?r.results[0]:null))}).catch(function(r){n(O(e,t,r))})}}function i(e,t){return function(n,r){return n(y(e,t)),L(e).then(function(r){n(C(e,t,r.results?r.results:null))}).catch(function(r){n(v(e,t,r))})}}function o(e,t){return function(n,r){return n(R(e,t)),N(e,t).then(function(r){n(w(e,t,r.results))}).catch(function(r){n(D(e,t,r))})}}function s(e,t,n){return function(r,a){return r(k(e,t)),A(e,t,n).then(function(a){r(P(e,t,!n))}).catch(function(n){r(F(e,t,n))})}}function c(e,t,n,r,a){return function(i,o){return i(U(e,n,r)),A(t,n,a).then(function(o){i(G(e,t,n,a,r))}).catch(function(t){i(j(e,n,r,t))})}}function l(e,t,n){return function(r,a){return r(u(e,t,n)),new Promise(function(e){e()})}}function u(e,t,n){return{type:K.b.USERPROFILE.DELETE_FRIENDS_LIST,targetUserId:e,userId:t,dataType:n}}function p(e,t,n){return{type:K.b.USERPROFILE.SET_SELECTED_TAB_INDEX,targetUserId:e,userId:t,index:n}}function d(e,t){return{type:K.b.USERPROFILE.GO_BACK,targetUserId:e,userId:t}}function h(e,t,n,r){return{type:K.b.USERPROFILE.SET_LISTVIEW_OFFSET,targetUserId:e,userId:t,dataType:n,listViewOffset:r}}function E(e,t,n){return{type:K.b.USERPROFILE.SET_FRIEND_FOOTMARK_ITEM_COLLECT,targetUserId:e,userId:t,dataType:K.g.FOOTMARK,index:n}}function m(e,t,n){return{type:K.b.USERPROFILE.SET_FRIEND_FOOTMARK_ITEM_PRAISE,targetUserId:e,userId:t,dataType:K.g.FOOTMARK,index:n}}function f(e,t,n,r){var a=0;n===K.g.ATTENTIONS?a=0:n===K.g.FANS&&(a=1);var i={type:a,UserID:"",ReUserID:"",conditionParams:{Page:{PageIndex:r,PageSize:K.o}}};return void 0!==e?(i.UserID=e,e+""!==t+""&&(i.ReUserID=t)):i.ReUserID=t,Y.a.getFromPortal(K.q.FOOTMARK.ATTENTION_LIST,i).then(function(e){return e.json()})}function T(e,t,n,r){return{type:K.b.USERPROFILE.GET_FRIENDS_REQUEST,targetUserId:t,userId:e,dataType:n,pageIndex:r}}function I(e,t,n,r,a){return{type:K.b.USERPROFILE.GET_FRIENDS_SUCCESS,targetUserId:t,userId:e,dataType:n,pageIndex:r,result:a}}function g(e,t,n,r){return{type:K.b.USERPROFILE.GET_FRIENDS_FAILURE,targetUserId:t,userId:e,dataType:n,message:r}}function S(e){var t={id:e};return Y.a.postToPortal(K.q.ME.GetUserInfo,t,null,!0).then(function(e){return e.json()})}function _(e,t){return{type:K.b.USERPROFILE.GET_PROFILE_REQUEST,dataType:K.g.TARGETINFO,targetUserId:e,userId:t}}function b(e,t,n){return{type:K.b.USERPROFILE.GET_PROFILE_SUCCESS,targetUserId:e,userId:t,dataType:K.g.TARGETINFO,result:n}}function O(e,t,n){return{type:K.b.USERPROFILE.GET_PROFILE_FAILURE,targetUserId:e,userId:t,dataType:K.g.TARGETINFO,message:n}}function L(e){var t={ID:e,type:1};return Y.a.postToPortal(K.q.ME.GetUserCount,t,null,!0).then(function(e){return e.json()})}function y(e,t){return{type:K.b.USERPROFILE.GET_NUMBERS_REQUEST,dataType:K.g.NUMBERSINFO,targetUserId:e,userId:t}}function C(e,t,n){return{type:K.b.USERPROFILE.GET_NUMBERS_SUCCESS,targetUserId:e,userId:t,dataType:K.g.NUMBERSINFO,result:n}}function v(e,t,n){return{type:K.b.USERPROFILE.GET_NUMBERS_FAILURE,targetUserId:e,userId:t,dataType:K.g.NUMBERSINFO,message:n}}function N(e,t){var n={jsonParams:{ReUserID:e,UserID:t}};return Y.a.getFromPortal(K.q.FOOTMARK.CHECK_ATTENTION,n).then(function(e){return e.json()})}function R(e,t){return{type:K.b.USERPROFILE.GET_ISFOLLOW_REQUEST,targetUserId:e,userId:t}}function w(e,t,n){return{type:K.b.USERPROFILE.GET_ISFOLLOW_SUCCESS,targetUserId:e,userId:t,result:n}}function D(e,t,n){return{type:K.b.USERPROFILE.GET_ISFOLLOW_FAILURE,targetUserId:e,userId:t,message:n}}function A(e,t,n){var r={jsonParams:{ReUserID:e,UserID:t,IsDelete:n?"1":"0"}};return Y.a.postToPortal(K.q.FOOTMARK.UPDATE_ATTENTION,r,null,!0).then(function(e){return e.json()})}function k(e,t){return{type:K.b.USERPROFILE.GET_UPDATE_FOLLOW_REQUEST,targetUserId:e,userId:t}}function P(e,t,n){return{type:K.b.USERPROFILE.GET_UPDATE_FOLLOW_SUCCESS,targetUserId:e,userId:t,result:n}}function F(e,t,n){return{type:K.b.USERPROFILE.GET_UPDATE_FOLLOW_FAILURE,targetUserId:e,userId:t,message:n}}function U(e,t,n){return{type:K.b.USERPROFILE.GET_UPDATE_FRIEND_ITEM_FOLLOW_REQUEST,dataType:n,targetUserId:e,userId:t}}function G(e,t,n,r,a){return{type:K.b.USERPROFILE.GET_UPDATE_FRIEND_ITEM_FOLLOW_SUCCESS,targetUserId:e,itemUserId:t,userId:n,isFollowed:r,dataType:a}}function j(e,t,n,r){return{type:K.b.USERPROFILE.GET_UPDATE_FRIEND_ITEM_FOLLOW_FAILURE,targetUserId:e,userId:t,dataType:n,message:r}}function M(e,t){return{type:K.b.USERPROFILE.DELETE_FOOTMARK_LIST,targetUserId:e,userId:t,dataType:K.g.FOOTMARK}}function x(e,t,n){return{type:K.b.USERPROFILE.FOOTMARK_TOGGLE_EXPAND,targetUserId:e,userId:t,dataType:K.g.FOOTMARK,index:n}}function B(e,t,n){return{type:K.b.USERPROFILE.GET_FOOTMARK_REQUEST,targetUserId:e,userId:t,dataType:K.g.FOOTMARK,pageIndex:n}}function V(e,t,n,r){return{type:K.b.USERPROFILE.GET_FOOTMARK_SUCCESS,targetUserId:e,userId:t,dataType:K.g.FOOTMARK,pageIndex:n,result:r}}function H(e,t,n){return{type:K.b.USERPROFILE.GET_FOOTMARK_FAILURE,targetUserId:e,userId:t,dataType:K.g.FOOTMARK,message:n}}t.d=r,t.c=a,t.e=i,t.f=o,t.b=s,t.g=c,t.a=l,t.q=p,t.o=d,t.p=h,t.j=E,t.k=m,t.h=M,t.i=x,t.m=B,t.n=V,t.l=H;var K=n(1),Y=n(8)},,,,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/time.2a6ee84f.png"},function(e,t,n){e.exports=n.p+"static/media/8.8c7e18bf.png"},function(e,t,n){e.exports=n.p+"static/media/9.a889f1b4.png"},function(e,t,n){e.exports=n.p+"static/media/10.a9654d23.png"},function(e,t,n){e.exports=n.p+"static/media/11.0d58906a.png"},function(e,t,n){e.exports=n.p+"static/media/12.1a4c9273.png"},function(e,t,n){e.exports=n.p+"static/media/15.decdecd6.png"},function(e,t,n){e.exports=n.p+"static/media/16.2e05f465.png"},function(e,t,n){e.exports=n.p+"static/media/17.d87f189e.png"},function(e,t,n){e.exports=n.p+"static/media/ico_star_full@2x.cb256d7a.png"},function(e,t,n){e.exports=n.p+"static/media/ico_star_empty@2x.eee7cc8a.png"},,,,function(e,t){},function(e,t,n){e.exports=n.p+"static/media/ticket_checked@2x.0c022653.png"},function(e,t){},function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/ico_diamond_full@2x.de0d5fa7.png"},function(e,t,n){e.exports=n.p+"static/media/ico_diamond_empty@2x.86c4da94.png"},function(e,t){},,,,function(e,t,n){e.exports=n.p+"static/media/ico_comment@2x.204c761e.png"},function(e,t,n){"use strict";function r(e){return{type:E.b.NEWS.LIST.SET_SELECTED_TAB_INDEX,index:e}}function a(e,t){return function(n,r){return n(p(e,t)),u(e,t).then(function(r){n(d(e,t,r))}).catch(function(t){n(h(e,t))})}}function i(){return{type:E.b.NEWS.LIST.GO_BACK}}function o(e){return function(t,n){return t(s(e)),new Promise(function(e){e()})}}function s(e){return{type:E.b.NEWS.LIST.DELETE,key:e}}function c(e,t){return{type:E.b.NEWS.LIST.SET_LISTVIEW_OFFSET,key:e,listViewOffset:t}}function l(e,t){return{type:E.b.NEWS.LIST.INCREASE_CLICK_COUNT,key:e,code:t}}function u(e,t){var n={Identifier:e,pageIndex:t,pageSize:E.o};return m.a.getFromPortal(E.q.NEWS.LIST,n).then(function(e){return e.json()})}function p(e,t){return{type:E.b.NEWS.LIST.GET_LIST_REQUEST,key:e,pageIndex:t}}function d(e,t,n){return{type:E.b.NEWS.LIST.GET_LIST_SUCCESS,key:e,pageIndex:t,result:n}}function h(e,t){return{type:E.b.NEWS.LIST.GET_LIST_FAILURE,key:e,message:t}}t.f=r,t.b=a,t.c=i,t.a=o,t.e=c,t.d=l;var E=n(1),m=n(8);n(21)},function(e,t){},function(e,t){},function(e,t){},,function(e,t){},function(e,t,n){"use strict";function r(e){return{type:h.b.ORDER.LIST.SET_SELECTED_TAB_INDEX,index:e}}function a(e,t,n){return function(r,a){return r(u(t,n)),l(e,t,n).then(function(e){r(p(t,n,e))}).catch(function(e){r(d(t,e))})}}function i(){return{type:h.b.ORDER.LIST.GO_BACK}}function o(e){return function(t,n){return t(s(e)),new Promise(function(e){e()})}}function s(e){return{type:h.b.ORDER.LIST.DELETE,orderType:e}}function c(e,t){return{type:h.b.ORDER.LIST.SET_LISTVIEW_OFFSET,orderType:e,listViewOffset:t}}function l(e,t,n){var r={ConditionParams:{Page:{PageSize:10,PageIndex:n},Search:[],Params:{UserID:e}}},a=void 0;return t===h.n.HOTEL?a=h.q.ELEMENTS.Hotel_GetOrderList:t===h.n.TICKET?a=h.q.ELEMENTS.AttractionsOrderList:t===h.n.LINE&&(a=h.q.ELEMENTS.GetLineOrderList),E.a.postToPortalWithUrl(E.a.HOST_E_BUSINESS,a,r).then(function(e){return e.json()})}function u(e,t){return{type:h.b.ORDER.LIST.GET_LIST_REQUEST,orderType:e,pageIndex:t}}function p(e,t,n){return{type:h.b.ORDER.LIST.GET_LIST_SUCCESS,orderType:e,pageIndex:t,result:n}}function d(e,t){return{type:h.b.ORDER.LIST.GET_LIST_FAILURE,orderType:e,message:t}}t.e=r,t.b=a,t.c=i,t.a=o,t.d=c;var h=n(1),E=n(8);n(21)},function(e,t,n){"use strict";function r(e){return{type:g.b.FORUM.LIST.SET_SELECTED_GROUP_INDEX,index:e}}function a(e){return function(t,n){return t(r(e)),new Promise(function(e){e()})}}function i(){return function(e,t){return e(f()),d().then(function(t){e(T(t.results))}).catch(function(t){e(I(t))})}}function o(e,t){return function(n,r){var a=r();return n(h(e,t)),p(e,t,a).then(function(r){n(E(e,t,r))}).catch(function(t){n(m(e,t))})}}function s(){return{type:g.b.FORUM.LIST.GO_BACK}}function c(e){return function(t,n){return t(l(e)),new Promise(function(e){e()})}}function l(e){return{type:g.b.FORUM.LIST.DELETE,sectionID:e}}function u(e,t){return{type:g.b.FORUM.LIST.SET_LISTVIEW_OFFSET,sectionID:e,listViewOffset:t}}function p(e,t,n){var r=_.a.getUserId(n);r=r||"";var a={SID:e,Query:"",PageIndex:t,PageSize:g.o,Order:"ReplyTime",Uid:r};return S.a.getFromPortal(g.q.FORUM.ForumThreadList,a).then(function(e){return e.json()})}function d(){return S.a.getFromPortal(g.q.FORUM.ForumSection).then(function(e){return e.json()})}function h(e,t){return{type:g.b.FORUM.LIST.GET_LIST_REQUEST,sectionID:e,pageIndex:t}}function E(e,t,n){return{type:g.b.FORUM.LIST.GET_LIST_SUCCESS,sectionID:e,pageIndex:t,result:n}}function m(e,t){return{type:g.b.FORUM.LIST.GET_LIST_FAILURE,sectionID:e,message:t}}function f(){return{type:g.b.FORUM.LIST.GET_GROUP_LIST_REQUEST}}function T(e){return{type:g.b.FORUM.LIST.GET_GROUP_LIST_SUCCESS,groupList:e}}function I(e){return{type:g.b.FORUM.LIST.GET_GROUP_LIST_FAILURE,message:e}}t.d=a,t.b=i,t.c=o,t.e=s,t.a=c,t.f=u;var g=n(1),S=n(8),_=(n(21),n(15))},function(e,t){},function(e,t){},function(e,t,n){"use strict";function r(e){return{type:m.b.HOTEL.LIST.SET_SELECTED_TAB_INDEX,index:e}}function a(e,t,n,r,a){return function(i,o){return i(d(e,t,n,r,a)),u(e,t,n,r,a).then(function(o){i(h(e,t,n,r,a,o))}).catch(function(n){i(E(e,t,a,n))})}}function i(){return{type:m.b.HOTEL.LIST.GO_BACK}}function o(e,t,n){return function(r,a){return r(s(e,t,n)),new Promise(function(e){e()})}}function s(e,t,n){return{type:m.b.HOTEL.LIST.DELETE,orderFiled:e,orderType:t,extraParams:n}}function c(e){return{type:m.b.HOTEL.LIST.SET_KEYWORD,keyword:e}}function l(e,t,n,r){return{type:m.b.HOTEL.LIST.SET_LISTVIEW_OFFSET,orderFiled:e,orderType:t,listViewOffset:n,extraParams:r}}function u(e,t,n,r,a){var i={Order:{OrderField:e,OrderType:t},Page:{PageIndex:n,PageSize:m.o},Search:[{AndOR:"and",ConditionType:"3",SearchField:"StartDate",ListSearchValue:[{ItemValue:(new Date).formatDate("YYYY-MM-DD")}]},{AndOR:"and",ConditionType:"6",SearchField:"EndDate",ListSearchValue:[{ItemValue:(new Date).addDays(1).formatDate("YYYY-MM-DD")}]}]};if(r&&r.length>0){var o={SearchField:"KeyWord",ConditionType:"2",ListSearchValue:[{ItemValue:r}]};i.Search.push(o)}var s=T.a.getLocation();i.Params={Latitude:s.lat,Longitude:s.lng},a&&a.lat&&a.lng&&(i.Params.lat=a.lat,i.Params.lng=a.lng);var c={ConditionParams:i};return f.a.postToPortalWithUrl(f.a.HOST_E_BUSINESS,m.q.ELEMENTS.HotelList,c).then(function(e){return e.json()})}function p(e,t,n){var r={Order:{OrderField:"Sort",OrderType:"desc"},Page:{PageIndex:0,PageSize:m.a},Search:[{AndOR:"and",ConditionType:"3",SearchField:"StartDate",ListSearchValue:[{ItemValue:(new Date).formatDate("YYYY-MM-DD")}]},{AndOR:"and",ConditionType:"6",SearchField:"EndDate",ListSearchValue:[{ItemValue:(new Date).addDays(1).formatDate("YYYY-MM-DD")}]}]};if(e&&e.length>0){var a={SearchField:"KeyWord",ConditionType:"2",ListSearchValue:[{ItemValue:e}]};r.Search.push(a)}r.Params={Latitude:t,Longitude:n};var i={ConditionParams:r};return f.a.postToPortalWithUrl(f.a.HOST_E_BUSINESS,m.q.ELEMENTS.HotelList,i).then(function(e){return e.json()})}function d(e,t,n,r,a){return{type:m.b.HOTEL.LIST.GET_LIST_REQUEST,orderFiled:e,orderType:t,pageIndex:n,keyword:r,extraParams:a}}function h(e,t,n,r,a,i){return{type:m.b.HOTEL.LIST.GET_LIST_SUCCESS,orderFiled:e,orderType:t,pageIndex:n,keyword:r,extraParams:a,result:i}}function E(e,t,n,r){return{type:m.b.HOTEL.LIST.GET_LIST_FAILURE,orderFiled:e,orderType:t,extraParams:n,message:r}}t.g=r,t.c=a,t.d=i,t.b=o,t.e=c,t.f=l,t.a=p;var m=n(1),f=n(8),T=(n(21),n(15))},function(e,t,n){"use strict";function r(e){return{type:m.b.RESTAURANT.LIST.SET_SELECTED_TAB_INDEX,index:e}}function a(e,t,n,r,a){return function(i,o){return i(d(e,t,n,r,a)),u(e,t,n,r,a).then(function(o){i(h(e,t,n,r,a,o))}).catch(function(n){i(E(e,t,a,n))})}}function i(){return{type:m.b.RESTAURANT.LIST.GO_BACK}}function o(e,t,n){return function(r,a){return r(s(e,t,n)),new Promise(function(e){e()})}}function s(e,t,n){return{type:m.b.RESTAURANT.LIST.DELETE,orderFiled:e,orderType:t,extraParams:n}}function c(e){return{type:m.b.RESTAURANT.LIST.SET_KEYWORD,keyword:e}}function l(e,t,n,r){return{type:m.b.RESTAURANT.LIST.SET_LISTVIEW_OFFSET,orderFiled:e,orderType:t,listViewOffset:n,extraParams:r}}function u(e,t,n,r,a){var i={Order:e.split(",").map(function(e,n){return{OrderField:e,OrderType:t}}),Page:{PageIndex:n,PageSize:m.o},Search:[]};if(r&&r.length>0){var o={AndOR:"and",SearchField:"cnName",ConditionType:"2",ListSearchValue:[{ItemValue:r}]};i.Search.push(o)}var s=T.a.getLocation(),c={conditionParams:i,lat:s.lat,lng:s.lng};return a&&a.lat&&a.lng&&(c.lat=a.lat,c.lng=a.lng),f.a.postToPortal(m.q.ELEMENTS.RestaurantList,c,null,!0).then(function(e){return e.json()})}function p(e,t,n){var r={Order:[{OrderField:"TopPX",OrderType:"desc"}],Page:{PageIndex:1,PageSize:m.a},Search:[]};if(e&&e.length>0){var a={AndOR:"and",SearchField:"cnName",ConditionType:"2",ListSearchValue:[{ItemValue:e}]};r.Search.push(a)}var i={conditionParams:r,lat:t,lng:n};return f.a.postToPortal(m.q.ELEMENTS.RestaurantList,i,null,!0).then(function(e){return e.json()})}function d(e,t,n,r,a){return{type:m.b.RESTAURANT.LIST.GET_LIST_REQUEST,orderFiled:e,orderType:t,pageIndex:n,keyword:r,extraParams:a}}function h(e,t,n,r,a,i){return{type:m.b.RESTAURANT.LIST.GET_LIST_SUCCESS,orderFiled:e,orderType:t,pageIndex:n,keyword:r,extraParams:a,result:i}}function E(e,t,n,r){return{type:m.b.RESTAURANT.LIST.GET_LIST_FAILURE,orderFiled:e,orderType:t,extraParams:n,message:r}}t.g=r,t.c=a,t.d=i,t.b=o,t.e=c,t.f=l,t.a=p;var m=n(1),f=n(8),T=(n(21),n(15))},function(e,t,n){"use strict";function r(e){return{type:m.b.FUN.LIST.SET_SELECTED_TAB_INDEX,index:e}}function a(e,t,n,r,a){return function(i,o){return i(d(e,t,n,r,a)),u(e,t,n,r,a).then(function(o){i(h(e,t,n,r,a,o))}).catch(function(n){i(E(e,t,a,n))})}}function i(){return{type:m.b.FUN.LIST.GO_BACK}}function o(e,t,n){return function(r,a){return r(s(e,t,n)),new Promise(function(e){e()})}}function s(e,t,n){return{type:m.b.FUN.LIST.DELETE,orderFiled:e,orderType:t,extraParams:n}}function c(e){return{type:m.b.FUN.LIST.SET_KEYWORD,keyword:e}}function l(e,t,n,r){return{type:m.b.FUN.LIST.SET_LISTVIEW_OFFSET,orderFiled:e,orderType:t,listViewOffset:n,extraParams:r}}function u(e,t,n,r,a){var i={Order:e.split(",").map(function(e,n){return{OrderField:e,OrderType:t}}),Page:{PageIndex:n,PageSize:m.o},Search:[]};if(r&&r.length>0){var o={AndOR:"and",SearchField:"cnName",ConditionType:"1",ListSearchValue:[{ItemValue:r}]};i.Search.push(o)}var s=T.a.getLocation(),c={conditionParams:i,lat:s.lat,lng:s.lng};return a&&a.lat&&a.lng&&(c.lat=a.lat,c.lng=a.lng),f.a.getFromPortal(m.q.ELEMENTS.EntertainmentList,c).then(function(e){return e.json()})}function p(e,t,n){var r={Order:[{OrderField:"TopPX",OrderType:"desc"}],Page:{PageIndex:1,PageSize:m.a},Search:[]};if(e&&e.length>0){var a={AndOR:"and",SearchField:"cnName",ConditionType:"1",ListSearchValue:[{ItemValue:e}]};r.Search.push(a)}var i={conditionParams:r,lat:t,lng:n};return f.a.getFromPortal(m.q.ELEMENTS.EntertainmentList,i).then(function(e){return e.json()})}function d(e,t,n,r,a){return{type:m.b.FUN.LIST.GET_LIST_REQUEST,orderFiled:e,orderType:t,pageIndex:n,keyword:r,extraParams:a}}function h(e,t,n,r,a,i){return{type:m.b.FUN.LIST.GET_LIST_SUCCESS,orderFiled:e,orderType:t,pageIndex:n,keyword:r,extraParams:a,result:i}}function E(e,t,n,r){return{type:m.b.FUN.LIST.GET_LIST_FAILURE,orderFiled:e,orderType:t,extraParams:n,message:r}}t.g=r,t.c=a,t.d=i,t.b=o,t.e=c,t.f=l,t.a=p;var m=n(1),f=n(8),T=(n(21),n(15))},function(e,t,n){"use strict";function r(e){return{type:m.b.SHOPPING.LIST.SET_SELECTED_TAB_INDEX,index:e}}function a(e,t,n,r,a){return function(i,o){return i(d(e,t,n,r,a)),u(e,t,n,r,a).then(function(o){i(h(e,t,n,r,a,o))}).catch(function(n){i(E(e,t,a,n))})}}function i(){return{type:m.b.SHOPPING.LIST.GO_BACK}}function o(e,t,n){return function(r,a){return r(s(e,t,n)),new Promise(function(e){e()})}}function s(e,t,n){return{type:m.b.SHOPPING.LIST.DELETE,orderFiled:e,orderType:t,extraParams:n}}function c(e){return{type:m.b.SHOPPING.LIST.SET_KEYWORD,keyword:e}}function l(e,t,n,r){return{type:m.b.SHOPPING.LIST.SET_LISTVIEW_OFFSET,orderFiled:e,orderType:t,listViewOffset:n,extraParams:r}}function u(e,t,n,r,a){var i={Order:e.split(",").map(function(e,n){return{OrderField:e,OrderType:t}}),Page:{PageIndex:n,PageSize:m.o},Search:[]};if(r&&r.length>0){var o={AndOR:"and",SearchField:"cnName",ConditionType:"1",ListSearchValue:[{ItemValue:r}]};i.Search.push(o)}var s=T.a.getLocation(),c={conditionParams:i,lat:s.lat,lng:s.lng};return a&&a.lat&&a.lng&&(c.lat=a.lat,c.lng=a.lng),f.a.getFromPortal(m.q.ELEMENTS.BusinessList,c).then(function(e){return e.json()})}function p(e,t,n){var r={Order:[{OrderField:"TopPX",OrderType:"desc"}],Page:{PageIndex:1,PageSize:m.a},Search:[]};if(e&&e.length>0){var a={AndOR:"and",SearchField:"cnName",ConditionType:"1",ListSearchValue:[{ItemValue:e}]};r.Search.push(a)}var i={conditionParams:r,lat:t,lng:n};return f.a.getFromPortal(m.q.ELEMENTS.BusinessList,i).then(function(e){return e.json()})}function d(e,t,n,r,a){return{type:m.b.SHOPPING.LIST.GET_LIST_REQUEST,orderFiled:e,orderType:t,pageIndex:n,keyword:r,extraParams:a}}function h(e,t,n,r,a,i){return{type:m.b.SHOPPING.LIST.GET_LIST_SUCCESS,orderFiled:e,orderType:t,pageIndex:n,keyword:r,extraParams:a,result:i}}function E(e,t,n,r){return{type:m.b.SHOPPING.LIST.GET_LIST_FAILURE,orderFiled:e,orderType:t,extraParams:n,message:r}}t.g=r,t.c=a,t.d=i,t.b=o,t.e=c,t.f=l,t.a=p;var m=n(1),f=n(8),T=(n(21),n(15))},,,function(e,t,n){"use strict";function r(e){return function(t,n){t(a()),c.a.getCurrentUserLocation(n,t,e)}}function a(){return{type:s.b.SYSTEM.GET_USER_LOCATION_REQUEST}}function i(e,t,n){return{type:s.b.SYSTEM.GET_USER_LOCATION_SUCCESS,lat:e,lng:t,address:n}}function o(e){return{type:s.b.SYSTEM.GET_USER_LOCATION_FAILURE,message:e}}t.c=r,t.b=i,t.a=o;var s=n(1),c=n(198)},,,function(e,t,n){e.exports=n.p+"static/media/com-comment@2x.c0959c81.png"},function(e,t,n){e.exports=n.p+"static/media/footmark_position@2x.29b9555d.png"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=n(1),i=n(165),o=n(47),s=n(15),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(){function e(){r(this,e)}return c(e,null,[{key:"getCurrentUserLocation",value:function(t,n,r){var o=s.a.getUrlParameter("isFromNativeApp");if((o=o||t.native&&t.native.isFromNativeApp)&&window.postMessage)return void window.postMessage(JSON.stringify({type:a.i.GET_LOCATION,data:{}}),"*");if(!r){var c=s.a.getLocation(t);return void e.save(n,c)}(new window.BMap.Geolocation).getCurrentPosition(function(t){if(this.getStatus()===window.BMAP_STATUS_SUCCESS){console.log("\u5b9a\u4f4d\u6210\u529f\uff01");var r=t.address,a="",o=t.point.lat,s=t.point.lng;r&&(r.province&&r.province.length>0&&(a=r.province),r.city&&r.city.length>0&&(a+=r.city)),e.save(n,{lat:o,lng:s,address:a})}else console.log("\u5b9a\u4f4d\u5931\u8d25"),n(Object(i.a)("\u5b9a\u4f4d\u5931\u8d25"))},{enableHighAccuracy:!0,timeout:100})}},{key:"save",value:function(e,t){o.a.setItem(a.r.USER_LOCATION,t),e(Object(i.b)(t.lat,t.lng,t.address?t.address:""))}}]),e}();t.a=l},,function(e,t,n){"use strict";function r(e){return{type:i.b.PHOTO_BROWSER.SET_CONFIG_ITEM,configItem:e}}function a(){return{type:i.b.PHOTO_BROWSER.SET_PHOTOBROWER_IFRAME_LOAD}}t.a=r,t.b=a;var i=n(1)},,,,,,,,,,function(e,t,n){"use strict";function r(e,t){return s()({loader:e,loading:function(){return i.a.createElement(c.a,{title:t})}})}t.a=r;var a=n(0),i=n.n(a),o=n(425),s=n.n(o),c=n(426)},function(e,t,n){e.exports=n.p+"static/media/photo-8.2f2dae7f.png"},function(e,t,n){e.exports=n.p+"static/media/photo-9.2bf535f4.png"},function(e,t,n){e.exports=n.p+"static/media/ico-title.cb75cd32.png"},function(e,t,n){e.exports=n.p+"static/media/0.edf5a957.png"},function(e,t,n){e.exports=n.p+"static/media/1.01b85799.png"},function(e,t,n){e.exports=n.p+"static/media/2.5f5f8290.png"},function(e,t,n){e.exports=n.p+"static/media/18.abd25503.png"},function(e,t,n){e.exports=n.p+"static/media/53.ce64f6b1.png"},function(e,t,n){e.exports=n.p+"static/media/29.7811b968.png"},function(e,t,n){e.exports=n.p+"static/media/30.1d41c952.png"},function(e,t,n){e.exports=n.p+"static/media/20.d1916abc.png"},function(e,t,n){e.exports=n.p+"static/media/31.b4f6719c.png"},function(e,t,n){e.exports=n.p+"static/media/3.22e502d1.png"},function(e,t,n){e.exports=n.p+"static/media/4.441ce97c.png"},function(e,t,n){e.exports=n.p+"static/media/5.f0d9229c.png"},function(e,t,n){e.exports=n.p+"static/media/7.16ff4164.png"},function(e,t,n){e.exports=n.p+"static/media/19.6529114f.png"},function(e,t,n){e.exports=n.p+"static/media/6.83027bc5.png"},function(e,t,n){e.exports=n.p+"static/media/13.c31115b2.png"},function(e,t,n){e.exports=n.p+"static/media/14.099a5c48.png"},,,,,,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e){return e.centerLat&&e.centerLat?N[e.tabIndex]+"_"+e.centerLat+"_"+e.centerLng:N[e.tabIndex]}var s=n(24),c=(n.n(s),n(25)),l=n.n(c),u=n(16),p=(n.n(u),n(17)),d=n.n(p),h=n(26),E=(n.n(h),n(27)),m=n.n(E),f=n(0),T=n.n(f),I=n(2),g=n(9),S=n.n(g),_=n(14),b=n.n(_),O=n(159),L=n(20),y=n(15),C=n(32),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),N=["Sort","SCOREORDER","PRICEORDER","DISTANCEORDER","ModifyTime"],R=["desc","desc","asc","asc","desc"],w=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.renderRow=n.renderRow.bind(n),n.onRefresh=n.onRefresh.bind(n),n.loadNextPage=n.loadNextPage.bind(n),n.renderFooter=n.renderFooter.bind(n);var i=new m.a.DataSource({rowHasChanged:function(e,t){return e!==t},sectionHeaderHasChanged:function(e,t){return e!==t}});return n.state={dataSource:i.cloneWithRows(n.props.dataList?n.props.dataList:[])},n}return i(t,e),v(t,[{key:"componentDidMount",value:function(){this.props.dataList||this.loadData(this.props.inputKeyword),this.listView&&!isNaN(this.props.listViewOffset)&&this.listView.scrollTo(0,this.props.listViewOffset)}},{key:"componentDidUpdate",value:function(e,t,n){this.props.dataList!==e.dataList&&this.setState({dataSource:this.state.dataSource.cloneWithRows(this.props.dataList?this.props.dataList:[])})}},{key:"render",value:function(){var e=this;return T.a.createElement("div",{className:"scenicListBox",style:{height:this.props.height}},this.renderListView(),this.props.isFetching||this.props.dataList&&0!==this.props.dataList.length?null:T.a.createElement(C.a,{style:{height:this.props.height},onClick:function(){return e.onRefresh(e.props.inputKeyword)}}),this.props.isFetching&&0===this.props.pageIndex?T.a.createElement(d.a,{toast:!0,text:"Loading..."}):null)}},{key:"renderListView",value:function(){var e=this;if(this.props.dataList&&this.props.dataList.length>0){var t=function(e,t){return T.a.createElement("div",{key:e+"-"+t,style:{height:1,borderBottom:"0.5px solid #dddddd"}})};return T.a.createElement(m.a,{ref:function(t){e.listView=t,L.a.fixListViewHeightIssue(t,e.props.height)},dataSource:this.state.dataSource,renderRow:this.renderRow,renderSeparator:t,style:{height:this.props.height,overflow:"auto"},pullToRefresh:T.a.createElement(l.a,{refreshing:this.props.isFetching,onRefresh:function(){return e.onRefresh(e.props.inputKeyword)}}),onEndReached:this.loadNextPage,renderFooter:this.renderFooter,initialListSize:this.props.dataList.length,pageSize:20,scrollRenderAheadDistance:500,scrollEventThrottle:50,onEndReachedThreshold:20})}}},{key:"searchByKeyword",value:function(e){e===this.props.keyword||this.isEmptyString(e)&&this.isEmptyString(this.props.keyword)||this.onRefresh(e)}},{key:"isEmptyString",value:function(e){return!e||0===e.length}},{key:"onRefresh",value:function(e){var t=this;this.props.dispatch(Object(O.b)(N[this.props.tabIndex],R[this.props.tabIndex],this.getExtraParams())).then(function(){t.loadData(e)})}},{key:"loadNextPage",value:function(){this.loadData()}},{key:"renderFooter",value:function(){return this.props.isFetching&&!0===this.props.hasMore?T.a.createElement("div",{className:"loadingMore"},T.a.createElement(d.a,{text:"Loading..."})):null}},{key:"renderRow",value:function(e,t,n){var r=this,a=e.GetImage?e.GetImage.ImageFrontUrl:"";return T.a.createElement("div",{key:n,className:"scenicListItem",onClick:function(){r.props.onItemClick&&r.props.onItemClick(e)}},T.a.createElement("div",{style:{backgroundImage:"url("+a+")"},className:"scenicListItemImg"}),T.a.createElement("div",{className:"scenicListItemTextBox"},T.a.createElement("div",{className:"scenicListItemName"},e.CnName),T.a.createElement("div",{className:"scenicListItemStar"},this.renderStarView(e)),T.a.createElement("div",{className:"scenicListItemOthers"},"\u8ddd\u79bb",e.Distance?parseFloat(e.Distance).toFixed(1):0,"km"),T.a.createElement("div",{className:"scenicListItemLastLine"},T.a.createElement("div",{className:"scenicListItemOthers"},e.Score,"\u5206"),T.a.createElement("div",{style:{flex:1}}),T.a.createElement("div",{className:"scenicListItemOthers price"},0===e.Price?"\u514d\u8d39":"\xa5"+e.Price+"\u8d77"))))}},{key:"renderStarView",value:function(e){var t=y.a.getHotelStarCount(e.HotelStarNo?e.HotelStarNo:"0"),r=n(142),a=n(143);return"False"!==e.IsCountryRate&&(r=n(108),a=n(109)),Array(5).fill(0).map(function(e,n){return T.a.createElement("img",{key:n,className:"scenicDetailHeaderBottomStar",src:n<t?r:a,alt:""})})}},{key:"loadData",value:function(e){if(!this.props.isFetching&&!1!==this.props.hasMore){var t=this.props.pageIndex>=0?this.props.pageIndex+1:0;this.props.dispatch(Object(O.c)(N[this.props.tabIndex],R[this.props.tabIndex],t,e||this.props.keyword,this.getExtraParams()))}}},{key:"cacheScrollOffset",value:function(){var e=b.a.findDOMNode(this.listView).scrollTop;this.props.dispatch(Object(O.f)(N[this.props.tabIndex],R[this.props.tabIndex],e,this.getExtraParams()))}},{key:"getExtraParams",value:function(){return{storeKey:this.props.storeKey,lat:this.props.centerLat,lng:this.props.centerLng}}}]),t}(f.PureComponent);w.propTypes={onItemClick:S.a.func};var D=function(e,t){var n=t.storeKey&&t.storeKey.length>0?y.a.getStoreItemByDotConnector(e,t.storeKey):e.hotel.listScreen,r=n.groups[o(t)];return Object.assign({selectedTabIndex:n.selectedTabIndex},r,{inputKeyword:n.keyword})};w=Object(I.b)(D,null,null,{withRef:!0})(w),t.a=w},,,,,,,,,,function(e,t,n){"use strict";function r(){return function(e,t){return e(l()),c().then(function(t){var n=t&&t.results&&t.results.length>0?t.results:[];e(u(n))}).catch(function(t){e(p(t))})}}function a(){return{type:d.b.HOTEL.RECOMMEND_LIST.GO_BACK}}function i(){return function(e,t){return e(o()),new Promise(function(e){e()})}}function o(){return{type:d.b.HOTEL.RECOMMEND_LIST.DELETE}}function s(e){return{type:d.b.HOTEL.RECOMMEND_LIST.SET_LISTVIEW_OFFSET,listViewOffset:e}}function c(e,t,n,r){var a={ModuleEnName:"tuijianjiudian",CatalogIdentifier:"mobile/wanzhuan/zhu"};return h.a.getFromPortal(d.q.ELEMENTS.HotelRecommendList,a).then(function(e){return e.json()})}function l(){return{type:d.b.HOTEL.RECOMMEND_LIST.GET_LIST_REQUEST}}function u(e){return{type:d.b.HOTEL.RECOMMEND_LIST.GET_LIST_SUCCESS,dataList:e}}function p(e){return{type:d.b.HOTEL.RECOMMEND_LIST.GET_LIST_FAILURE,message:e}}t.b=r,t.c=a,t.a=i,t.d=s;var d=n(1),h=n(8)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(24),s=(n.n(o),n(25)),c=n.n(s),l=n(16),u=(n.n(l),n(17)),p=n.n(u),d=n(26),h=(n.n(d),n(27)),E=n.n(h),m=n(0),f=n.n(m),T=n(2),I=n(9),g=n.n(I),S=n(14),_=n.n(S),b=n(149),O=n(20),L=n(32),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),C=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.renderRow=n.renderRow.bind(n),n.onRefresh=n.onRefresh.bind(n),n.loadNextPage=n.loadNextPage.bind(n),n.renderFooter=n.renderFooter.bind(n);var i=new E.a.DataSource({rowHasChanged:function(e,t){return e!==t},sectionHeaderHasChanged:function(e,t){return e!==t}});return n.state={dataSource:i.cloneWithRows(n.props.dataList?n.props.dataList:[])},n}return i(t,e),y(t,[{key:"componentDidMount",value:function(){this.props.dataList||this.loadData(this.props.idKey),this.listView&&!isNaN(this.props.listViewOffset)&&this.listView.scrollTo(0,this.props.listViewOffset)}},{key:"componentDidUpdate",value:function(e,t,n){this.props.dataList!==e.dataList&&this.setState({dataSource:this.state.dataSource.cloneWithRows(this.props.dataList?this.props.dataList:[])})}},{key:"render",value:function(){return f.a.createElement("div",{className:"scenicListBox",style:{height:this.props.height}},this.renderListView(),this.props.isFetching||this.props.dataList&&0!==this.props.dataList.length?null:f.a.createElement(L.a,{style:{height:this.props.height},onClick:this.onRefresh}),this.props.isFetching&&1===this.props.pageIndex?f.a.createElement(p.a,{toast:!0,text:"Loading..."}):null)}},{key:"renderListView",value:function(){var e=this;if(this.props.dataList&&this.props.dataList.length>0){var t=function(e,t){return f.a.createElement("div",{key:e+"-"+t,style:{height:1,borderBottom:"0.5px solid #dddddd"}})};return f.a.createElement(E.a,{ref:function(t){e.listView=t,O.a.fixListViewHeightIssue(t,e.props.height)},dataSource:this.state.dataSource,renderRow:this.renderRow,renderSeparator:t,style:{height:this.props.height,overflow:"auto"},pullToRefresh:f.a.createElement(c.a,{refreshing:this.props.isFetching,onRefresh:this.onRefresh}),onEndReached:this.loadNextPage,renderFooter:this.renderFooter,initialListSize:this.props.dataList.length,pageSize:20,scrollRenderAheadDistance:500,scrollEventThrottle:50,onEndReachedThreshold:20})}}},{key:"isEmptyString",value:function(e){return!e||0===e.length}},{key:"onRefresh",value:function(){var e=this;this.props.dispatch(Object(b.a)(this.props.idKey)).then(function(){e.loadData()})}},{key:"loadNextPage",value:function(){this.loadData()}},{key:"renderFooter",value:function(){return this.props.isFetching&&!0===this.props.hasMore?f.a.createElement("div",{className:"loadingMore"},f.a.createElement(p.a,{text:"Loading..."})):null}},{key:"renderRow",value:function(e,t,r){var a=this,i=e.F_MiddleImage,o=e.CreateDate;return o=o?o.split(" ")[0]:o,f.a.createElement("div",{key:r,className:"newsListItem",onClick:function(){a.props.onItemClick&&a.props.onItemClick(e)}},f.a.createElement("div",{style:{backgroundImage:"url("+i+")"},className:"scenicListItemImg"}),f.a.createElement("div",{className:"newsListItemTextBox"},f.a.createElement("div",{className:"scenicListItemName"},e.Head),f.a.createElement("div",{className:"newsListSecondRow"},f.a.createElement("img",{className:"newsListIcon",src:n(99),alt:""}),f.a.createElement("div",{className:"newsListItemOthers"},o),f.a.createElement("div",{style:{flex:1}}),f.a.createElement("img",{className:"newsListIcon",src:n(80),alt:""}),f.a.createElement("div",{className:"newsListItemOthers"},e.ClickCount))))}},{key:"loadData",value:function(){if(!this.props.isFetching&&!1!==this.props.hasMore){var e=this.props.pageIndex?this.props.pageIndex+1:1;this.props.dispatch(Object(b.b)(this.props.idKey,e))}}},{key:"cacheScrollOffset",value:function(){if(this.listView){var e=_.a.findDOMNode(this.listView).scrollTop;this.props.dispatch(Object(b.e)(this.props.idKey,e))}}}]),t}(m.PureComponent);C.propTypes={onItemClick:g.a.func};var v=function(e,t){var n=e.news.listScreen.groups[t.idKey];return Object.assign({},n)};C=Object(T.b)(v,null,null,{withRef:!0})(C),t.a=C},function(e,t,n){"use strict";function r(e){return{type:h.b.FESTIVAL_NEWS.LIST.SET_SELECTED_TAB_INDEX,index:e}}function a(e,t){return function(n,r){return n(u(e,t)),l(e,t).then(function(r){n(p(e,t,r))}).catch(function(t){n(d(e,t))})}}function i(){return{type:h.b.FESTIVAL_NEWS.LIST.GO_BACK}}function o(e){return function(t,n){return t(s(e)),new Promise(function(e){e()})}}function s(e){return{type:h.b.FESTIVAL_NEWS.LIST.DELETE,key:e}}function c(e,t){return{type:h.b.FESTIVAL_NEWS.LIST.SET_LISTVIEW_OFFSET,key:e,listViewOffset:t}}function l(e,t){var n=void 0;e===h.f.FESTIVAL_JIEQINGHUOD?n=143001:e===h.f.FESTIVAL_SAISHI?n=143002:e===h.f.FESTIVAL_HUIZHAN?n=143003:e===h.f.FESTIVAL_YANCHU&&(n=143004);var r={conditionParams:{Page:{PageIndex:t,PageSize:h.o},Search:[{SearchField:"FESTIVALSTYPE",ConditionType:"1",AndOR:"and",ListSearchValue:[{ItemValue:n||0}]}]}};return E.a.postToPortal(h.q.ELEMENTS.FestivalList,r,null,!0).then(function(e){return e.json()})}function u(e,t){return{type:h.b.FESTIVAL_NEWS.LIST.GET_LIST_REQUEST,key:e,pageIndex:t}}function p(e,t,n){return{type:h.b.FESTIVAL_NEWS.LIST.GET_LIST_SUCCESS,pageIndex:t,key:e,result:n}}function d(e,t){return{type:h.b.FESTIVAL_NEWS.LIST.GET_LIST_FAILURE,key:e,message:t}}t.e=r,t.b=a,t.c=i,t.a=o,t.d=c;var h=n(1),E=n(8);n(21)},function(e,t,n){"use strict";function r(e){return{type:E.b.LINE.LIST.SET_SELECTED_TAB_INDEX,index:e}}function a(e,t,n,r){return function(a,i){return a(p(e,t,n,r)),u(e,t,n,r).then(function(i){a(d(e,t,n,r,i))}).catch(function(n){a(h(e,t,n))})}}function i(){return{type:E.b.LINE.LIST.GO_BACK}}function o(e,t){return function(n,r){return n(s(e,t)),new Promise(function(e){e()})}}function s(e,t){return{type:E.b.LINE.LIST.DELETE,orderFiled:e,orderType:t}}function c(e){return{type:E.b.LINE.LIST.SET_KEYWORD,keyword:e}}function l(e,t,n){return{type:E.b.LINE.LIST.SET_LISTVIEW_OFFSET,orderFiled:e,orderType:t,listViewOffset:n}}function u(e,t,n,r){var a={Order:{OrderField:e,OrderType:t},Page:{PageIndex:n,PageSize:E.o},Search:[]};if(r&&r.length>0){var i={AndOR:"and",SearchField:"KeyWord",ConditionType:"1",ListSearchValue:[{ItemValue:r}]};a.Search.push(i)}var o={ConditionParams:a};return m.a.postToPortalWithUrl(m.a.HOST_E_BUSINESS,E.q.ELEMENTS.LineList,o).then(function(e){return e.json()})}function p(e,t,n,r){return{type:E.b.LINE.LIST.GET_LIST_REQUEST,orderFiled:e,orderType:t,pageIndex:n,keyword:r}}function d(e,t,n,r,a){return{type:E.b.LINE.LIST.GET_LIST_SUCCESS,orderFiled:e,orderType:t,pageIndex:n,keyword:r,result:a}}function h(e,t,n){return{type:E.b.LINE.LIST.GET_LIST_FAILURE,orderFiled:e,orderType:t,message:n}}t.f=r,t.b=a,t.c=i,t.a=o,t.d=c,t.e=l;var E=n(1),m=n(8);n(21)},function(e,t){},function(e,t,n){"use strict";function r(e){return{type:h.b.TRAVEL_NOTES.LIST.SET_SELECTED_TAB_INDEX,index:e}}function a(e,t){return function(n,r){return n(u(e,t)),l(e,t).then(function(r){n(p(e,t,r))}).catch(function(t){n(d(e,t))})}}function i(){return{type:h.b.TRAVEL_NOTES.LIST.GO_BACK}}function o(e){return function(t,n){return t(s(e)),new Promise(function(e){e()})}}function s(e){return{type:h.b.TRAVEL_NOTES.LIST.DELETE,sortBy:e}}function c(e,t){return{type:h.b.TRAVEL_NOTES.LIST.SET_LISTVIEW_OFFSET,sortBy:e,listViewOffset:t}}function l(e,t){var n={Type:e,Index:t,Size:h.o,Time:"",Order:"",Query:""};return E.a.getFromPortal(h.q.NOTES.GetNotes,n).then(function(e){return e.json()})}function u(e,t){return{type:h.b.TRAVEL_NOTES.LIST.GET_LIST_REQUEST,sortBy:e,pageIndex:t}}function p(e,t,n){return{type:h.b.TRAVEL_NOTES.LIST.GET_LIST_SUCCESS,sortBy:e,pageIndex:t,result:n}}function d(e,t){return{type:h.b.TRAVEL_NOTES.LIST.GET_LIST_FAILURE,sortBy:e,message:t}}t.e=r,t.b=a,t.c=i,t.a=o,t.d=c;var h=n(1),E=n(8);n(21)},function(e,t,n){e.exports=n.p+"static/media/commentNav@2x.98e73005.png"},function(e,t,n){"use strict";function r(){return function(e,t){return e(l()),c().then(function(t){var n=t&&t.results&&t.results.length>0?t.results:[];e(u(n))}).catch(function(t){e(p(t))})}}function a(){return{type:d.b.FOOD.RECOMMEND_LIST.GO_BACK}}function i(){return function(e,t){return e(o()),new Promise(function(e){e()})}}function o(){return{type:d.b.FOOD.RECOMMEND_LIST.DELETE}}function s(e){return{type:d.b.FOOD.RECOMMEND_LIST.SET_LISTVIEW_OFFSET,listViewOffset:e}}function c(e,t,n,r){var a={ModuleEnName:"tuijianmeishi",CatalogIdentifier:"mobile/wanzhuan/chi"};return h.a.getFromPortal(d.q.ELEMENTS.FoodRecommendList,a).then(function(e){return e.json()})}function l(){return{type:d.b.FOOD.RECOMMEND_LIST.GET_LIST_REQUEST}}function u(e){return{type:d.b.FOOD.RECOMMEND_LIST.GET_LIST_SUCCESS,dataList:e}}function p(e){return{type:d.b.FOOD.RECOMMEND_LIST.GET_LIST_FAILURE,message:e}}t.b=r,t.c=a,t.a=i,t.d=s;var d=n(1),h=n(8)},function(e,t){},function(e,t,n){e.exports=n.p+"static/media/listIcon@2x.019aa6d2.png"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e){return e.centerLat&&e.centerLat?N[e.tabIndex]+"_"+e.centerLat+"_"+e.centerLng:N[e.tabIndex]}var s=n(24),c=(n.n(s),n(25)),l=n.n(c),u=n(16),p=(n.n(u),n(17)),d=n.n(p),h=n(26),E=(n.n(h),n(27)),m=n.n(E),f=n(0),T=n.n(f),I=n(2),g=n(9),S=n.n(g),_=n(14),b=n.n(_),O=n(160),L=n(20),y=n(15),C=n(32),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),N=["TopPX,PX,Sort","expense","distance","ModifyTime"],R=["desc","asc","asc","desc"],w=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.renderRow=n.renderRow.bind(n),n.onRefresh=n.onRefresh.bind(n),n.loadNextPage=n.loadNextPage.bind(n),n.renderFooter=n.renderFooter.bind(n);var i=new m.a.DataSource({rowHasChanged:function(e,t){return e!==t},sectionHeaderHasChanged:function(e,t){return e!==t}});return n.state={dataSource:i.cloneWithRows(n.props.dataList?n.props.dataList:[])},n}return i(t,e),v(t,[{key:"componentDidMount",value:function(){this.props.dataList||this.loadData(this.props.inputKeyword),this.listView&&!isNaN(this.props.listViewOffset)&&this.listView.scrollTo(0,this.props.listViewOffset)}},{key:"componentDidUpdate",value:function(e,t,n){this.props.dataList!==e.dataList&&this.setState({dataSource:this.state.dataSource.cloneWithRows(this.props.dataList?this.props.dataList:[])})}},{key:"render",value:function(){var e=this;return T.a.createElement("div",{className:"scenicListBox",style:{height:this.props.height}},this.renderListView(),this.props.isFetching||this.props.dataList&&0!==this.props.dataList.length?null:T.a.createElement(C.a,{style:{height:this.props.height},onClick:function(){return e.onRefresh(e.props.inputKeyword)}}),this.props.isFetching&&1===this.props.pageIndex?T.a.createElement(d.a,{toast:!0,text:"Loading..."}):null)}},{key:"renderListView",value:function(){var e=this;if(this.props.dataList&&this.props.dataList.length>0){var t=function(e,t){return T.a.createElement("div",{key:e+"-"+t,style:{height:1,borderBottom:"0.5px solid #dddddd"}})};return T.a.createElement(m.a,{ref:function(t){e.listView=t,L.a.fixListViewHeightIssue(t,e.props.height)},dataSource:this.state.dataSource,renderRow:this.renderRow,renderSeparator:t,style:{height:this.props.height,overflow:"auto"},pullToRefresh:T.a.createElement(l.a,{refreshing:this.props.isFetching,onRefresh:function(){return e.onRefresh(e.props.inputKeyword)}}),onEndReached:this.loadNextPage,renderFooter:this.renderFooter,initialListSize:this.props.dataList.length,pageSize:20,scrollRenderAheadDistance:500,scrollEventThrottle:50,onEndReachedThreshold:20})}}},{key:"searchByKeyword",value:function(e){e===this.props.keyword||this.isEmptyString(e)&&this.isEmptyString(this.props.keyword)||this.onRefresh(e)}},{key:"isEmptyString",value:function(e){return!e||0===e.length}},{key:"onRefresh",value:function(e){var t=this;this.props.dispatch(Object(O.b)(N[this.props.tabIndex],R[this.props.tabIndex],this.getExtraParams())).then(function(){t.loadData(e)})}},{key:"loadNextPage",value:function(){this.loadData()}},{key:"renderFooter",value:function(){return this.props.isFetching&&!0===this.props.hasMore?T.a.createElement("div",{className:"loadingMore"},T.a.createElement(d.a,{text:"Loading..."})):null}},{key:"renderRow",value:function(e,t,n){var r=this,a=e.GetImage?e.GetImage.MiddleImageFrontUrl:"";return T.a.createElement("div",{key:n,className:"scenicListItem",onClick:function(){r.props.onItemClick&&r.props.onItemClick(e)}},T.a.createElement("div",{style:{backgroundImage:"url("+a+")"},className:"scenicListItemImg"},this.renderExpenseView(e)),T.a.createElement("div",{className:"funListItemTextBox"},T.a.createElement("div",{className:"scenicListItemName"},e.CnName),T.a.createElement("div",{className:"funListItemOthers"},"\u8ddd\u79bb",null!=e.distance?e.distance.toFixed(1):"","\u5343\u7c73"),T.a.createElement("div",{className:"funListItemOthers"},e.Address)))}},{key:"renderExpenseView",value:function(e){return isNaN(e.Expense)||!e.Expense?null:T.a.createElement("div",{className:"restaurantListItemPrice"},"\u4eba\u5747\uff1a\xa5",e.Expense)}},{key:"loadData",value:function(e){if(!this.props.isFetching&&!1!==this.props.hasMore){var t=this.props.pageIndex?this.props.pageIndex+1:1;this.props.dispatch(Object(O.c)(N[this.props.tabIndex],R[this.props.tabIndex],t,e||this.props.keyword,this.getExtraParams()))}}},{key:"cacheScrollOffset",value:function(){var e=b.a.findDOMNode(this.listView).scrollTop;this.props.dispatch(Object(O.f)(N[this.props.tabIndex],R[this.props.tabIndex],e,this.getExtraParams()))}},{key:"getExtraParams",value:function(){return{storeKey:this.props.storeKey,lat:this.props.centerLat,lng:this.props.centerLng}}}]),t}(f.PureComponent);w.propTypes={onItemClick:S.a.func};var D=function(e,t){var n=t.storeKey&&t.storeKey.length>0?y.a.getStoreItemByDotConnector(e,t.storeKey):e.restaurant.listScreen,r=n.groups[o(t)];return Object.assign({selectedTabIndex:n.selectedTabIndex},r,{inputKeyword:n.keyword})};w=Object(I.b)(D,null,null,{withRef:!0})(w),t.a=w},function(e,t){},function(e,t,n){"use strict";function r(e){return{type:E.b.SPECIALTY.LIST.SET_SELECTED_TAB_INDEX,index:e}}function a(e,t,n,r){return function(a,i){return a(p(e,t,n,r)),u(e,t,n,r).then(function(i){a(d(e,t,n,r,i))}).catch(function(n){a(h(e,t,n))})}}function i(){return{type:E.b.SPECIALTY.LIST.GO_BACK}}function o(e,t){return function(n,r){return n(s(e,t)),new Promise(function(e){e()})}}function s(e,t){return{type:E.b.SPECIALTY.LIST.DELETE,orderFiled:e,orderType:t}}function c(e){return{type:E.b.SPECIALTY.LIST.SET_KEYWORD,keyword:e}}function l(e,t,n){return{type:E.b.SPECIALTY.LIST.SET_LISTVIEW_OFFSET,orderFiled:e,orderType:t,listViewOffset:n}}function u(e,t,n,r){var a={Order:[{OrderField:e,OrderType:t}],Page:{PageIndex:n,PageSize:E.o},Search:[]};if(r&&r.length>0){var i={AndOR:"and",SearchField:"CnName,EnName",ConditionType:"2",ListSearchValue:[{ItemValue:r}]};a.Search.push(i)}var o={conditionParams:a};return m.a.getFromPortal(E.q.ELEMENTS.LocalProductList,o).then(function(e){return e.json()})}function p(e,t,n,r){return{type:E.b.SPECIALTY.LIST.GET_LIST_REQUEST,orderFiled:e,orderType:t,pageIndex:n,keyword:r}}function d(e,t,n,r,a){return{type:E.b.SPECIALTY.LIST.GET_LIST_SUCCESS,orderFiled:e,orderType:t,pageIndex:n,keyword:r,result:a}}function h(e,t,n){return{type:E.b.SPECIALTY.LIST.GET_LIST_FAILURE,orderFiled:e,orderType:t,message:n}}t.f=r,t.b=a,t.c=i,t.a=o,t.d=c,t.e=l;var E=n(1),m=n(8);n(21)},function(e,t,n){"use strict";function r(){return function(e,t){return e(l()),c().then(function(t){var n=t&&t.results?t.results:[];e(u(n))}).catch(function(t){e(p(t))})}}function a(){return{type:d.b.SPECIALTY.RECOMMEND_LIST.GO_BACK}}function i(){return function(e,t){return e(o()),new Promise(function(e){e()})}}function o(){return{type:d.b.SPECIALTY.RECOMMEND_LIST.DELETE}}function s(e){return{type:d.b.SPECIALTY.RECOMMEND_LIST.SET_LISTVIEW_OFFSET,listViewOffset:e}}function c(e,t,n,r){var a={ModuleEnName:"tuijiantechan",CatalogIdentifier:"mobile/wanzhuan/mai"};return h.a.getFromPortal(d.q.ELEMENTS.LocalProductRecommendList,a).then(function(e){return e.json()})}function l(){return{type:d.b.SPECIALTY.RECOMMEND_LIST.GET_LIST_REQUEST}}function u(e){return{type:d.b.SPECIALTY.RECOMMEND_LIST.GET_LIST_SUCCESS,dataList:e}}function p(e){return{type:d.b.SPECIALTY.RECOMMEND_LIST.GET_LIST_FAILURE,message:e}}t.b=r,t.c=a,t.a=i,t.d=s;var d=n(1),h=n(8)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e){return e.centerLat&&e.centerLat?N[e.tabIndex]+"_"+e.centerLat+"_"+e.centerLng:N[e.tabIndex]}var s=n(24),c=(n.n(s),n(25)),l=n.n(c),u=n(16),p=(n.n(u),n(17)),d=n.n(p),h=n(26),E=(n.n(h),n(27)),m=n.n(E),f=n(0),T=n.n(f),I=n(2),g=n(9),S=n.n(g),_=n(14),b=n.n(_),O=n(161),L=n(20),y=n(15),C=n(32),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),N=["TopPX,PX1,PX,Sort","likeCount","expense","distance"],R=["desc","desc","asc","asc"],w=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.renderRow=n.renderRow.bind(n),n.onRefresh=n.onRefresh.bind(n),n.loadNextPage=n.loadNextPage.bind(n),n.renderFooter=n.renderFooter.bind(n);var i=new m.a.DataSource({rowHasChanged:function(e,t){return e!==t},sectionHeaderHasChanged:function(e,t){return e!==t}});return n.state={dataSource:i.cloneWithRows(n.props.dataList?n.props.dataList:[])},n}return i(t,e),v(t,[{key:"componentDidMount",value:function(){this.props.dataList||this.loadData(this.props.inputKeyword),this.listView&&!isNaN(this.props.listViewOffset)&&this.listView.scrollTo(0,this.props.listViewOffset)}},{key:"componentDidUpdate",value:function(e,t,n){this.props.dataList!==e.dataList&&this.setState({dataSource:this.state.dataSource.cloneWithRows(this.props.dataList?this.props.dataList:[])})}},{key:"render",value:function(){var e=this;return T.a.createElement("div",{className:"scenicListBox",style:{height:this.props.height}},this.renderListView(),this.props.isFetching||this.props.dataList&&0!==this.props.dataList.length?null:T.a.createElement(C.a,{style:{height:this.props.height},onClick:function(){return e.onRefresh(e.props.inputKeyword)}}),this.props.isFetching&&1===this.props.pageIndex?T.a.createElement(d.a,{toast:!0,text:"Loading..."}):null)}},{key:"renderListView",value:function(){var e=this;if(this.props.dataList&&this.props.dataList.length>0){var t=function(e,t){return T.a.createElement("div",{key:e+"-"+t,style:{height:1,borderBottom:"0.5px solid #dddddd"}})};return T.a.createElement(m.a,{ref:function(t){e.listView=t,L.a.fixListViewHeightIssue(t,e.props.height)},dataSource:this.state.dataSource,renderRow:this.renderRow,renderSeparator:t,style:{height:this.props.height,overflow:"auto"},pullToRefresh:T.a.createElement(l.a,{refreshing:this.props.isFetching,onRefresh:function(){return e.onRefresh(e.props.inputKeyword)}}),onEndReached:this.loadNextPage,renderFooter:this.renderFooter,initialListSize:this.props.dataList.length,pageSize:20,scrollRenderAheadDistance:500,scrollEventThrottle:50,onEndReachedThreshold:20})}}},{key:"searchByKeyword",value:function(e){e===this.props.keyword||this.isEmptyString(e)&&this.isEmptyString(this.props.keyword)||this.onRefresh(e)}},{key:"isEmptyString",value:function(e){return!e||0===e.length}},{key:"onRefresh",value:function(e){var t=this;this.props.dispatch(Object(O.b)(N[this.props.tabIndex],R[this.props.tabIndex],this.getExtraParams())).then(function(){t.loadData(e)})}},{key:"loadNextPage",value:function(){this.loadData()}},{key:"renderFooter",value:function(){return this.props.isFetching&&!0===this.props.hasMore?T.a.createElement("div",{className:"loadingMore"},T.a.createElement(d.a,{text:"Loading..."})):null}},{key:"renderRow",value:function(e,t,n){var r=this,a=e.GetImage?e.GetImage.MiddleImageFrontUrl:"";return T.a.createElement("div",{key:n,className:"scenicListItem",onClick:function(){r.props.onItemClick&&r.props.onItemClick(e)}},T.a.createElement("div",{style:{backgroundImage:"url("+a+")"},className:"scenicListItemImg"},this.renderExpenseView(e)),T.a.createElement("div",{className:"funListItemTextBox"},T.a.createElement("div",{className:"scenicListItemName"},e.CnName),T.a.createElement("div",{className:"funListItemOthers"},"\u8ddd\u79bb",null!=e.distance?e.distance.toFixed(1):"","\u5343\u7c73"),T.a.createElement("div",{className:"funListItemOthers"},e.Address)))}},{key:"renderExpenseView",value:function(e){return isNaN(e.Expense)||!e.Expense?null:T.a.createElement("div",{className:"restaurantListItemPrice"},"\u4eba\u5747\uff1a\xa5",e.Expense)}},{key:"loadData",value:function(e){if(!this.props.isFetching&&!1!==this.props.hasMore){var t=this.props.pageIndex?this.props.pageIndex+1:1;this.props.dispatch(Object(O.c)(N[this.props.tabIndex],R[this.props.tabIndex],t,e||this.props.keyword,this.getExtraParams()))}}},{key:"cacheScrollOffset",value:function(){var e=b.a.findDOMNode(this.listView).scrollTop;this.props.dispatch(Object(O.f)(N[this.props.tabIndex],R[this.props.tabIndex],e,this.getExtraParams()))}},{key:"getExtraParams",value:function(){return{storeKey:this.props.storeKey,lat:this.props.centerLat,lng:this.props.centerLng}}}]),t}(f.PureComponent);w.propTypes={onItemClick:S.a.func};var D=function(e,t){var n=t.storeKey&&t.storeKey.length>0?y.a.getStoreItemByDotConnector(e,t.storeKey):e.fun.listScreen,r=n.groups[o(t)];return Object.assign({selectedTabIndex:n.selectedTabIndex},r,{inputKeyword:n.keyword})};w=Object(I.b)(D,null,null,{withRef:!0})(w),t.a=w},function(e,t,n){"use strict";function r(){return function(e,t){return e(l()),c().then(function(t){var n=t&&t.results&&t.results.length>0?t.results:[];e(u(n))}).catch(function(t){e(p(t))})}}function a(){return{type:d.b.FUN.RECOMMEND_LIST.GO_BACK}}function i(){return function(e,t){return e(o()),new Promise(function(e){e()})}}function o(){return{type:d.b.FUN.RECOMMEND_LIST.DELETE}}function s(e){return{type:d.b.FUN.RECOMMEND_LIST.SET_LISTVIEW_OFFSET,listViewOffset:e}}function c(e,t,n,r){var a={ModuleEnName:"tuijianyule",CatalogIdentifier:"mobile/wanzhuan/wan"};return h.a.getFromPortal(d.q.ELEMENTS.EntertainmentRecommendList,a).then(function(e){return e.json()})}function l(){return{type:d.b.FUN.RECOMMEND_LIST.GET_LIST_REQUEST}}function u(e){return{type:d.b.FUN.RECOMMEND_LIST.GET_LIST_SUCCESS,dataList:e}}function p(e){return{type:d.b.FUN.RECOMMEND_LIST.GET_LIST_FAILURE,message:e}}t.b=r,t.c=a,t.a=i,t.d=s;var d=n(1),h=n(8)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e){return e.centerLat&&e.centerLat?N[e.tabIndex]+"_"+e.centerLat+"_"+e.centerLng:N[e.tabIndex]}var s=n(24),c=(n.n(s),n(25)),l=n.n(c),u=n(16),p=(n.n(u),n(17)),d=n.n(p),h=n(26),E=(n.n(h),n(27)),m=n.n(E),f=n(0),T=n.n(f),I=n(2),g=n(9),S=n.n(g),_=n(14),b=n.n(_),O=n(162),L=n(20),y=n(15),C=n(32),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),N=["TopPX,BusinessType,Sort","likeCount","distance","ModifyTime"],R=["desc","desc","asc","asc"],w=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.renderRow=n.renderRow.bind(n),n.onRefresh=n.onRefresh.bind(n),n.loadNextPage=n.loadNextPage.bind(n),n.renderFooter=n.renderFooter.bind(n);var i=new m.a.DataSource({rowHasChanged:function(e,t){return e!==t},sectionHeaderHasChanged:function(e,t){return e!==t}});return n.state={dataSource:i.cloneWithRows(n.props.dataList?n.props.dataList:[])},n}return i(t,e),v(t,[{key:"componentDidMount",value:function(){this.props.dataList||this.loadData(this.props.inputKeyword),this.listView&&!isNaN(this.props.listViewOffset)&&this.listView.scrollTo(0,this.props.listViewOffset)}},{key:"componentDidUpdate",value:function(e,t,n){this.props.dataList!==e.dataList&&this.setState({dataSource:this.state.dataSource.cloneWithRows(this.props.dataList?this.props.dataList:[])})}},{key:"render",value:function(){var e=this;return T.a.createElement("div",{className:"scenicListBox",style:{height:this.props.height}},this.renderListView(),this.props.isFetching||this.props.dataList&&0!==this.props.dataList.length?null:T.a.createElement(C.a,{style:{height:this.props.height},onClick:function(){return e.onRefresh(e.props.inputKeyword)}}),this.props.isFetching&&1===this.props.pageIndex?T.a.createElement(d.a,{toast:!0,text:"Loading..."}):null)}},{key:"renderListView",value:function(){var e=this;if(this.props.dataList&&this.props.dataList.length>0){var t=function(e,t){return T.a.createElement("div",{key:e+"-"+t,style:{height:1,borderBottom:"0.5px solid #dddddd"}})};return T.a.createElement(m.a,{ref:function(t){e.listView=t,L.a.fixListViewHeightIssue(t,e.props.height)},dataSource:this.state.dataSource,renderRow:this.renderRow,renderSeparator:t,style:{height:this.props.height,overflow:"auto"},pullToRefresh:T.a.createElement(l.a,{refreshing:this.props.isFetching,onRefresh:function(){return e.onRefresh(e.props.inputKeyword)}}),onEndReached:this.loadNextPage,renderFooter:this.renderFooter,initialListSize:this.props.dataList.length,pageSize:20,scrollRenderAheadDistance:500,scrollEventThrottle:50,onEndReachedThreshold:20})}}},{key:"searchByKeyword",value:function(e){e===this.props.keyword||this.isEmptyString(e)&&this.isEmptyString(this.props.keyword)||this.onRefresh(e)}},{key:"isEmptyString",value:function(e){return!e||0===e.length}},{key:"onRefresh",value:function(e){var t=this;this.props.dispatch(Object(O.b)(N[this.props.tabIndex],R[this.props.tabIndex],this.getExtraParams())).then(function(){t.loadData(e)})}},{key:"loadNextPage",value:function(){this.loadData()}},{key:"renderFooter",value:function(){return this.props.isFetching&&!0===this.props.hasMore?T.a.createElement("div",{className:"loadingMore"},T.a.createElement(d.a,{text:"Loading..."})):null}},{key:"renderRow",value:function(e,t,n){var r=this,a=e.GetImage?e.GetImage.MiddleImageFrontUrl:"";return T.a.createElement("div",{key:n,className:"scenicListItem",onClick:function(){r.props.onItemClick&&r.props.onItemClick(e)}},T.a.createElement("div",{style:{backgroundImage:"url("+a+")"},className:"scenicListItemImg"}),T.a.createElement("div",{className:"funListItemTextBox"},T.a.createElement("div",{className:"scenicListItemName"},e.CnName),T.a.createElement("div",{className:"funListItemOthers"},"\u8ddd\u79bb",null!=e.distance?e.distance.toFixed(1):"","\u5343\u7c73"),T.a.createElement("div",{className:"funListItemOthers"},e.Address)))}},{key:"loadData",value:function(e){if(!this.props.isFetching&&!1!==this.props.hasMore){var t=this.props.pageIndex?this.props.pageIndex+1:1;this.props.dispatch(Object(O.c)(N[this.props.tabIndex],R[this.props.tabIndex],t,e||this.props.keyword,this.getExtraParams()))}}},{key:"cacheScrollOffset",value:function(){var e=b.a.findDOMNode(this.listView).scrollTop;this.props.dispatch(Object(O.f)(N[this.props.tabIndex],R[this.props.tabIndex],e,this.getExtraParams()))}},{key:"getExtraParams",value:function(){return{storeKey:this.props.storeKey,lat:this.props.centerLat,lng:this.props.centerLng}}}]),t}(f.PureComponent);w.propTypes={onItemClick:S.a.func};var D=function(e,t){var n=t.storeKey&&t.storeKey.length>0?y.a.getStoreItemByDotConnector(e,t.storeKey):e.shopping.listScreen,r=n.groups[o(t)];return Object.assign({selectedTabIndex:n.selectedTabIndex},r,{inputKeyword:n.keyword})};w=Object(I.b)(D,null,null,{withRef:!0})(w),t.a=w},,,function(e,t){},,function(e,t,n){"use strict";function r(){return function(e,t){return e(l()),c().then(function(t){var n=t&&t.results&&t.results.length>0?t.results:[];e(u(n))}).catch(function(t){e(p(t))})}}function a(){return{type:d.b.SHOPPING.RECOMMEND_LIST.GO_BACK}}function i(){return function(e,t){return e(o()),new Promise(function(e){e()})}}function o(){return{type:d.b.SHOPPING.RECOMMEND_LIST.DELETE}}function s(e){return{type:d.b.SHOPPING.RECOMMEND_LIST.SET_LISTVIEW_OFFSET,listViewOffset:e}}function c(e,t,n,r){var a={ModuleEnName:"tuijiangouwu",CatalogIdentifier:"mobile/wanzhuan/gou"};return h.a.getFromPortal(d.q.ELEMENTS.EntertainmentRecommendList,a).then(function(e){return e.json()})}function l(){return{type:d.b.SHOPPING.RECOMMEND_LIST.GET_LIST_REQUEST}}function u(e){return{type:d.b.SHOPPING.RECOMMEND_LIST.GET_LIST_SUCCESS,dataList:e}}function p(e){return{type:d.b.SHOPPING.RECOMMEND_LIST.GET_LIST_FAILURE,message:e}}t.b=r,t.c=a,t.a=i,t.d=s;var d=n(1),h=n(8)},function(e,t,n){"use strict";function r(e){return{type:E.b.FARM_HOUSE.LIST.SET_SELECTED_TAB_INDEX,index:e}}function a(e,t,n,r,a){return function(i,o){return i(p(e,t,n,r,a)),u(e,t,n,r,a).then(function(o){i(d(e,t,n,r,a,o))}).catch(function(n){i(h(e,t,a,n))})}}function i(){return{type:E.b.FARM_HOUSE.LIST.GO_BACK}}function o(e,t,n){return function(r,a){return r(s(e,t,n)),new Promise(function(e){e()})}}function s(e,t,n){return{type:E.b.FARM_HOUSE.LIST.DELETE,orderFiled:e,orderType:t,extraParams:n}}function c(e){return{type:E.b.FARM_HOUSE.LIST.SET_KEYWORD,keyword:e}}function l(e,t,n,r){return{type:E.b.FARM_HOUSE.LIST.SET_LISTVIEW_OFFSET,orderFiled:e,orderType:t,listViewOffset:n,extraParams:r}}function u(e,t,n,r,a){var i={Order:e.split(",").map(function(e,n){return{OrderField:e,OrderType:t}}),Page:{PageIndex:n,PageSize:E.o},Search:[]};if(r&&r.length>0){var o={AndOR:"and",SearchField:"cnName",ConditionType:"1",ListSearchValue:[{ItemValue:r}]};i.Search.push(o)}var s=f.a.getLocation(),c={conditionParams:i,lat:s.lat,lng:s.lng};return a&&a.lat&&a.lng&&(c.lat=a.lat,c.lng=a.lng),m.a.getFromPortal(E.q.ELEMENTS.FarmHouseList,c).then(function(e){return e.json()})}function p(e,t,n,r,a){return{type:E.b.FARM_HOUSE.LIST.GET_LIST_REQUEST,orderFiled:e,orderType:t,pageIndex:n,keyword:r,extraParams:a}}function d(e,t,n,r,a,i){return{type:E.b.FARM_HOUSE.LIST.GET_LIST_SUCCESS,orderFiled:e,orderType:t,pageIndex:n,keyword:r,extraParams:a,result:i}}function h(e,t,n,r){return{type:E.b.FARM_HOUSE.LIST.GET_LIST_FAILURE,orderFiled:e,orderType:t,extraParams:n,message:r}}t.f=r,t.b=a,t.c=i,t.a=o,t.d=c,t.e=l;var E=n(1),m=n(8),f=(n(21),n(15))},function(e,t){},function(e,t,n){"use strict";function r(e){return{type:E.b.TRAVEL_AGENT.LIST.SET_SELECTED_TAB_INDEX,index:e}}function a(e,t,n,r,a){return function(i,o){return i(p(e,t,n,r,a)),u(e,t,n,r,a).then(function(o){i(d(e,t,n,r,a,o))}).catch(function(n){i(h(e,t,a,n))})}}function i(){return{type:E.b.TRAVEL_AGENT.LIST.GO_BACK}}function o(e,t,n){return function(r,a){return r(s(e,t,n)),new Promise(function(e){e()})}}function s(e,t,n){return{type:E.b.TRAVEL_AGENT.LIST.DELETE,orderFiled:e,orderType:t,extraParams:n}}function c(e){return{type:E.b.TRAVEL_AGENT.LIST.SET_KEYWORD,keyword:e}}function l(e,t,n,r){return{type:E.b.TRAVEL_AGENT.LIST.SET_LISTVIEW_OFFSET,orderFiled:e,orderType:t,listViewOffset:n,extraParams:r}}function u(e,t,n,r,a){var i={Order:e.split(",").map(function(e,n){return{OrderField:e,OrderType:t}}),Page:{PageIndex:n,PageSize:E.o},Search:[]};if(r&&r.length>0){var o={AndOR:"and",SearchField:"cnName",ConditionType:"1",ListSearchValue:[{ItemValue:r}]};i.Search.push(o)}var s=f.a.getLocation(),c={type:"app",conditionParams:i,lat:s.lat,lng:s.lng};return m.a.getFromPortal(E.q.ELEMENTS.TravelAgentList,c).then(function(e){return e.json()})}function p(e,t,n,r,a){return{type:E.b.TRAVEL_AGENT.LIST.GET_LIST_REQUEST,orderFiled:e,orderType:t,pageIndex:n,keyword:r,extraParams:a}}function d(e,t,n,r,a,i){return{type:E.b.TRAVEL_AGENT.LIST.GET_LIST_SUCCESS,orderFiled:e,orderType:t,pageIndex:n,keyword:r,extraParams:a,result:i}}function h(e,t,n,r){return{type:E.b.TRAVEL_AGENT.LIST.GET_LIST_FAILURE,orderFiled:e,orderType:t,extraParams:n,message:r}}t.f=r,t.b=a,t.c=i,t.a=o,t.d=c,t.e=l;var E=n(1),m=n(8),f=(n(21),n(15))},function(e,t){},,,,,function(e,t,n){"use strict";function r(){return{type:u.b.FOOTMARK.CREATE.GO_BACK}}function a(e,t){return function(n,r){return n(i(e,t)),new Promise(function(e){e()})}}function i(e,t){for(var n=e&&e.GetShowList?e.GetShowList:[],r=[],a=0;a<n.length;a++)r.push({title:o(a)});return{type:u.b.FOOTMARK.CREATE.UPDATE_FOOTMARK_ITEM,footmarkItem:e,tabs:r,siteIndex:t}}function o(e){return p&&p.length>e?p[e]:""}function s(e){return{type:u.b.FOOTMARK.CREATE.UPDATE_SITE_INDEX,siteIndex:e}}function c(e,t){return{type:u.b.FOOTMARK.CREATE.UPDATE_SITE_ITEM,siteIndex:e,siteItem:t}}function l(e){return{type:u.b.FOOTMARK.CREATE.IS_FETCHING_CHANGE,isFetching:e}}t.b=r,t.a=a,t.d=i,t.e=s,t.f=c,t.c=l;var u=n(1),p=(n(21),["\u7b2c\u4e00\u7ad9","\u7b2c\u4e8c\u7ad9","\u7b2c\u4e09\u7ad9","\u7b2c\u56db\u7ad9","\u7b2c\u4e94\u7ad9"])},function(e,t,n){e.exports=n.p+"static/media/footmark_ico-delete@2x.42e6fea2.png"},function(e,t,n){e.exports=n.p+"static/media/dateChange@2x.888534b6.png"},,function(e,t,n){"use strict";function r(e){return{type:h.b.ME.COLLECT.LIST.SET_SELECTED_TAB_INDEX,index:e}}function a(e,t,n){return function(r,a){return r(u(t,n)),l(e,t,n).then(function(e){r(p(t,n,e))}).catch(function(e){r(d(t,e))})}}function i(){return{type:h.b.ME.COLLECT.LIST.GO_BACK}}function o(e){return function(t,n){return t(s(e)),new Promise(function(e){e()})}}function s(e){return{type:h.b.ME.COLLECT.LIST.DELETE,entityType:e}}function c(e,t){return{type:h.b.ORDER.LIST.SET_LISTVIEW_OFFSET,entityType:e,listViewOffset:t}}function l(e,t,n){var r={UserID:e,Type:t,PageIndex:n,PageSize:h.o};return E.a.postToPortal(h.q.ME.CollectList,r,null,!0).then(function(e){return e.json()})}function u(e,t){return{type:h.b.ME.COLLECT.LIST.GET_LIST_REQUEST,entityType:e,pageIndex:t}}function p(e,t,n){return{type:h.b.ME.COLLECT.LIST.GET_LIST_SUCCESS,entityType:e,pageIndex:t,result:n}}function d(e,t){return{type:h.b.ME.COLLECT.LIST.GET_LIST_FAILURE,entityType:e,message:t}}t.e=r,t.b=a,t.c=i,t.a=o,t.d=c;var h=n(1),E=n(8);n(21)},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(28),s=(n.n(o),n(29)),c=n.n(s),l=n(24),u=(n.n(l),n(25)),p=n.n(u),d=n(16),h=(n.n(d),n(17)),E=n.n(h),m=n(26),f=(n.n(m),n(27)),T=n.n(f),I=n(0),g=n.n(I),S=n(2),_=n(9),b=n.n(_),O=n(14),L=n.n(O),y=n(84),C=n(32),v=n(15),N=n(20),R=n(283),w=(n.n(R),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),D=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.renderRow=n.renderRow.bind(n),n.onRefresh=n.onRefresh.bind(n),n.loadNextPage=n.loadNextPage.bind(n),n.renderFooter=n.renderFooter.bind(n);var i=new T.a.DataSource({rowHasChanged:function(e,t){return e!==t},sectionHeaderHasChanged:function(e,t){return e!==t}});return n.state={dataSource:i.cloneWithRows(n.props.dataList?n.props.dataList:[])},n}return i(t,e),w(t,[{key:"componentDidMount",value:function(){this.props.dataList||this.loadData(),this.listView&&!isNaN(this.props.listViewOffset)&&this.listView.scrollTo(0,this.props.listViewOffset)}},{key:"componentDidUpdate",value:function(e,t,n){e.targetUserId===this.props.targetUserId&&!this.props.isRefresh||!this.props.targetUserId||this.props.dataList||this.loadData(),this.props.dataList!==e.dataList&&this.setState({dataSource:this.state.dataSource.cloneWithRows(this.props.dataList?this.props.dataList:[])})}},{key:"render",value:function(){var e=this;return g.a.createElement("div",{className:"friendListBox",style:{height:this.props.height}},this.renderListView(),this.props.isFetching||this.props.dataList&&0!==this.props.dataList.length?null:g.a.createElement(C.a,{style:{height:this.props.height},onClick:function(){return e.onRefresh(e.props.inputKeyword)}}),this.props.isFetching&&1===this.props.pageIndex?g.a.createElement(E.a,{className:"indicatorLoading",toast:!0,text:"Loading..."}):null)}},{key:"renderListView",value:function(){var e=this;if(this.props.dataList&&this.props.dataList.length>0){var t=function(e,t){return g.a.createElement("div",{key:e+"-"+t,style:{height:1,borderBottom:"0.5px solid #dddddd"}})};return g.a.createElement(T.a,{ref:function(t){e.listView=t,N.a.fixListViewHeightIssue(t,e.props.height)},dataSource:this.state.dataSource,renderRow:this.renderRow,renderSeparator:t,style:{height:this.props.height,overflow:"auto"},pullToRefresh:g.a.createElement(p.a,{refreshing:this.props.isFetching,onRefresh:this.onRefresh}),onEndReached:this.loadNextPage,renderFooter:this.renderFooter,initialListSize:this.props.dataList.length,pageSize:20,scrollRenderAheadDistance:500,scrollEventThrottle:50,onEndReachedThreshold:20})}}},{key:"onRefresh",value:function(){var e=this;this.props.dispatch(Object(y.a)(this.props.targetUserId,this.props.userId,this.props.friendsType)).then(function(){e.loadData()})}},{key:"loadNextPage",value:function(){this.loadData()}},{key:"renderFooter",value:function(){return this.props.isFetching&&!0===this.props.hasMore?g.a.createElement("div",{className:"loadingMore"},g.a.createElement(E.a,{text:"Loading..."})):null}},{key:"renderRow",value:function(e,t,r){var a=this,i=e.GetUserAvatar?e.GetUserAvatar:"",o=n(e.IsAttention?745:746);return g.a.createElement("div",{key:r,className:"friendsListItem",onClick:function(){a.props.onItemClick&&a.props.onItemClick(e)}},g.a.createElement("div",{className:"friendsListLeftBox"},g.a.createElement("div",{style:{backgroundImage:"url("+i+")"},className:"friendsListItemImg"}),g.a.createElement("div",{className:"friendsListItemName"},e.NickName)),e.UserID!==this.props.userId?g.a.createElement("div",{className:"friendsListItemOperationBox",onClick:function(t){return a.operatinButtonTapped(t,e)}},g.a.createElement("img",{className:"friendsListOperationIcon",src:o,alt:""})):null)}},{key:"loadData",value:function(){if(!this.props.isFetching&&!1!==this.props.hasMore){var e=this.props.pageIndex>=1?this.props.pageIndex+1:1;this.props.dispatch(Object(y.d)(this.props.userId,this.props.targetUserId,this.props.friendsType,e))}}},{key:"cacheScrollOffset",value:function(){var e=L.a.findDOMNode(this.listView).scrollTop;this.props.dispatch(Object(y.p)(this.props.targetUserId,this.props.userId,this.props.friendsType,e))}},{key:"operatinButtonTapped",value:function(e,t){var n=this;if(e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),isNaN(this.props.userId))return void this.props.toLoginPage();this.props.dispatch(Object(y.g)(this.props.targetUserId,t.UserID,this.props.userId,this.props.friendsType,t.IsAttention)).then(function(){c.a.success(t.IsAttention?"\u53d6\u6d88\u5173\u6ce8\u6210\u529f!":"\u5173\u6ce8\u6210\u529f!",void 0,void 0,!1),n.onRefresh()})}}]),t}(I.PureComponent);D.propTypes={onItemClick:b.a.func,toLoginPage:b.a.func};var A=function(e,t){var n=v.a.getUserId(e),r=t.targetUserId+"_"+n,a=e.userProfile[r]?e.userProfile[r][t.friendsType]:null;return Object.assign({},a,{userId:n,targetUserId:t.targetUserId})};D=Object(S.b)(A,null,null,{withRef:!0})(D),t.a=D},function(e,t){},function(e,t,n){e.exports=n.p+"static/media/common_poi@2x.41ca866f.png"},function(e,t){},function(e,t,n){"use strict";function r(e){return{type:m.b.SCENIC.LIST.SET_SELECTED_TAB_INDEX,index:e}}function a(e,t,n,r,a){return function(i,o){return i(d(e,t,n,r,a)),u(e,t,n,r,a).then(function(o){i(h(e,t,n,r,a,o))}).catch(function(n){i(E(e,t,a,n))})}}function i(){return{type:m.b.SCENIC.LIST.GO_BACK}}function o(e,t,n){return function(r,a){return r(s(e,t,n)),new Promise(function(e){e()})}}function s(e,t,n){return{type:m.b.SCENIC.LIST.DELETE,orderFiled:e,orderType:t,extraParams:n}}function c(e){return{type:m.b.SCENIC.LIST.SET_KEYWORD,keyword:e}}function l(e,t,n,r){return{type:m.b.SCENIC.LIST.SET_LISTVIEW_OFFSET,orderFiled:e,orderType:t,listViewOffset:n,extraParams:r}}function u(e,t,n,r,a){var i={Order:{OrderField:e,OrderType:t},Page:{PageIndex:n,PageSize:m.o}};if(r&&r.length>0){var o=[{SearchField:"Keyword",ConditionType:"2",ListSearchValue:[{ItemValue:r}]}];i.Search=o}var s=T.a.getLocation();i.Params={LatItude:s.lat,LongItude:s.lng},a&&a.lat&&a.lng&&(i.Params.lat=a.lat,i.Params.lng=a.lng);var c={ConditionParams:i};return f.a.postToPortalWithUrl(f.a.HOST_E_BUSINESS,m.q.ELEMENTS.AttractionsList,c).then(function(e){return e.json()})}function p(e,t,n){var r={Order:{OrderField:"Sort",OrderType:"desc"},Page:{PageIndex:0,PageSize:m.a}};if(e&&e.length>0){var a=[{SearchField:"Keyword",ConditionType:"2",ListSearchValue:[{ItemValue:e}]}];r.Search=a}r.Params={LatItude:t,LongItude:t};var i={ConditionParams:r};return f.a.postToPortalWithUrl(f.a.HOST_E_BUSINESS,m.q.ELEMENTS.AttractionsList,i).then(function(e){return e.json()})}function d(e,t,n,r,a){return{type:m.b.SCENIC.LIST.GET_LIST_REQUEST,orderFiled:e,orderType:t,pageIndex:n,extraParams:a,keyword:r}}function h(e,t,n,r,a,i){return{type:m.b.SCENIC.LIST.GET_LIST_SUCCESS,orderFiled:e,orderType:t,pageIndex:n,keyword:r,extraParams:a,result:i}}function E(e,t,n,r){return{type:m.b.SCENIC.LIST.GET_LIST_FAILURE,orderFiled:e,orderType:t,extraParams:n,message:r}}t.g=r,t.c=a,t.d=i,t.b=o,t.e=c,t.f=l,t.a=p;var m=n(1),f=n(8),T=n(15)},function(e,t,n){e.exports=n.p+"static/media/add_public_account@2x.cf47ddf6.png"},function(e,t){},function(e,t,n){"use strict";function r(){return{type:i.b.NATIVE.WINDOW_SIZE_CHANGED,windowSize:{width:window.innerWidth,height:window.innerHeight}}}function a(e){return{type:i.b.NATIVE.SET_CONFIG_ITEM,configItem:e}}t.b=r,t.a=a;var i=n(1)},,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(39),s=(n.n(o),n(40)),c=n.n(s),l=n(28),u=(n.n(l),n(29)),p=n.n(u),d=n(24),h=(n.n(d),n(25)),E=n.n(h),m=n(16),f=(n.n(m),n(17)),T=n.n(f),I=n(26),g=(n.n(I),n(27)),S=n.n(g),_=n(0),b=n.n(_),O=n(2),L=n(9),y=n.n(L),C=n(14),v=n.n(C),N=n(748),R=n(303),w=n(15),D=n(20),A=n(116),k=(n.n(A),n(32)),P=n(1),F=n(8),U=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),G=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.renderRow=n.renderRow.bind(n),n.onRefresh=n.onRefresh.bind(n),n.loadNextPage=n.loadNextPage.bind(n),n.renderFooter=n.renderFooter.bind(n);var i=new S.a.DataSource({rowHasChanged:function(e,t){return e!==t},sectionHeaderHasChanged:function(e,t){return e!==t}});return n.state={dataSource:i.cloneWithRows(n.props.dataList?n.props.dataList:[])},n}return i(t,e),U(t,[{key:"componentDidMount",value:function(){this.props.dataList||this.loadData(this.props.footmarkType),this.listView&&!isNaN(this.props.listViewOffset)&&this.listView.scrollTo(0,this.props.listViewOffset)}},{key:"componentDidUpdate",value:function(e,t,n){e.targetUserId===this.props.targetUserId&&this.props.dataList||this.onRefresh(),this.props.dataList!==e.dataList&&this.setState({dataSource:this.state.dataSource.cloneWithRows(this.props.dataList?this.props.dataList:[])})}},{key:"render",value:function(){var e=this;return b.a.createElement("div",{className:"scenicListBox",style:{height:this.props.height}},this.renderListView(),this.props.isFetching||this.props.dataList&&0!==this.props.dataList.length?null:b.a.createElement(k.a,{style:{height:this.props.height},onClick:function(){return e.onRefresh(e.props.inputKeyword)}}),this.props.isFetching&&1===this.props.pageIndex?b.a.createElement(T.a,{toast:!0,text:"Loading..."}):null)}},{key:"renderListView",value:function(){var e=this;if(this.props.dataList&&this.props.dataList.length>0){var t=function(e,t){return b.a.createElement("div",{key:e+"-"+t,style:{height:"8px",backgroundColor:"#eeeef6"}})};return b.a.createElement(S.a,{ref:function(t){e.listView=t,D.a.fixListViewHeightIssue(t,e.props.height)},dataSource:this.state.dataSource,renderRow:this.renderRow,renderSeparator:t,style:{height:this.props.height,overflow:"auto"},pullToRefresh:b.a.createElement(E.a,{refreshing:this.props.isFetching,onRefresh:this.onRefresh}),onEndReached:this.loadNextPage,renderFooter:this.renderFooter,initialListSize:this.props.dataList.length,pageSize:20,scrollRenderAheadDistance:500,scrollEventThrottle:50,onEndReachedThreshold:20})}}},{key:"isEmptyString",value:function(e){return!e||0===e.length}},{key:"onRefresh",value:function(){var e=this,t=4===this.props.footmarkType?this.props.targetUserId:this.props.userId;this.props.dispatch(Object(R.b)(this.props.footmarkType,t,this.props.userId)).then(function(){e.loadData()})}},{key:"loadNextPage",value:function(){this.loadData()}},{key:"renderFooter",value:function(){return this.props.isFetching&&!0===this.props.hasMore?b.a.createElement("div",{className:"loadingMore"},b.a.createElement(T.a,{text:"Loading..."})):null}},{key:"renderRow",value:function(e,t,n){var r=this,a=parseInt(n,10),i=0===a,o=3===this.props.footmarkType||4===this.props.footmarkType&&this.props.userId===this.props.targetUserId;return b.a.createElement(N.a,{key:n,item:e,style:i?{marginTop:"6px"}:null,isMine:o,toggleExpand:function(){return r.toggleExpand(a)},onPraiseButtonTapped:function(){return r.onPraiseButtonTapped(e,a)},onCollectButtonTapped:function(){return r.onCollectButtonTapped(e,a)},onDeleteButtonTapped:function(){return r.onDeleteButtonTapped(e,a)},onItemClick:this.props.onItemClick,onLineClick:this.props.onLineClick,onSiteImageItemClick:this.props.onSiteImageItemClick,myFootmarkEditClicking:this.props.myFootmarkEditClicking,friendProfileClicking:this.props.friendProfileClicking})}},{key:"onPraiseButtonTapped",value:function(e,t){if(isNaN(this.props.userId))return void this.props.toLoginPage();this.props.dispatch(Object(R.d)(this.props.footmarkType,this.props.targetUserId,this.props.userId,e.Code,1===e.IsLike?0:1,t)).then(function(){p.a.success(1===e.IsLike?"\u53d6\u6d88\u70b9\u8d5e\u6210\u529f":"\u70b9\u8d5e\u6210\u529f",void 0,void 0,!1)})}},{key:"onCollectButtonTapped",value:function(e,t){if(isNaN(this.props.userId))return void this.props.toLoginPage();this.props.dispatch(Object(R.a)(this.props.footmarkType,this.props.targetUserId,this.props.userId,e.Code,1===e.IsCollection?0:1,t)).then(function(){p.a.success(1===e.IsCollection?"\u53d6\u6d88\u6536\u85cf\u6210\u529f":"\u6536\u85cf\u6210\u529f",void 0,void 0,!1)})}},{key:"onDeleteButtonTapped",value:function(e,t){var n=this;if(isNaN(this.props.userId))return void this.props.toLoginPage();c.a.alert("\u63d0\u793a","\u786e\u5b9a\u5220\u9664\u8fd9\u6761\u8db3\u8ff9\u5417\uff1f",[{text:"\u53d6\u6d88",style:"default"},{text:"\u786e\u5b9a",onPress:function(){var t={Code:e.Code,UserID:n.props.userId};n.setState({isLoading:!0}),F.a.postToPortal(P.q.FOOTMARK.DELETE,t,null,!0).then(function(e){return e.json()}).then(function(e){if("0"===e.status){p.a.success("\u5220\u9664\u6210\u529f");var t=4===n.props.footmarkType?n.props.targetUserId:n.props.userId;n.props.dispatch(Object(R.c)(1,n.props.footmarkType,t,n.props.userId))}else p.a.fail("\u5220\u9664\u5931\u8d25")}).catch(function(e){console.error(e),p.a.fail("\u64cd\u4f5c\u5931\u8d25")})}}])}},{key:"toggleExpand",value:function(e){var t=4===this.props.footmarkType?this.props.targetUserId:this.props.userId;this.props.dispatch(Object(R.h)(this.props.footmarkType,t,this.props.userId,e))}},{key:"loadData",value:function(){if(!this.props.isFetching&&!1!==this.props.hasMore){var e=this.props.pageIndex?this.props.pageIndex+1:1,t=4===this.props.footmarkType?this.props.targetUserId:this.props.userId;this.props.dispatch(Object(R.c)(e,this.props.footmarkType,t,this.props.userId))}}},{key:"cacheScrollOffset",value:function(){if(this.listView){var e=v.a.findDOMNode(this.listView).scrollTop,t=4===this.props.footmarkType?this.props.targetUserId:this.props.userId;this.props.dispatch(Object(R.f)(this.props.footmarkType,t,this.props.userId,e))}}}]),t}(_.PureComponent);G.propTypes={onItemClick:y.a.func,footmarkType:y.a.number,toLoginPage:y.a.func,myFootmarkEditClicking:y.a.func,friendProfileClicking:y.a.func};var j=function(e,t){var n=w.a.getUserId(e),r=e.footmark.listScreen.groups[t.footmarkType+"_"+n];if(4===t.footmarkType){var a=t.targetUserId+"_"+n;r=(e.userProfile[a]?e.userProfile[a]:{})[P.g.FOOTMARK]}return Object.assign({},r,{userId:n,targetUserId:t.targetUserId})};G=Object(O.b)(j,null,null,{withRef:!0})(G),t.a=G},function(e,t){},,function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"a",function(){return i}),n.d(t,"d",function(){return o}),n.d(t,"b",function(){return s});var r=n(210),a=Object(r.a)(function(){return n.e(4).then(n.bind(null,873))},"\u4ea4\u901a\u6307\u5357"),i=Object(r.a)(function(){return n.e(16).then(n.bind(null,874))},"\u822a\u7a7a"),o=Object(r.a)(function(){return n.e(15).then(n.bind(null,875))},"\u706b\u8f66"),s=Object(r.a)(function(){return n.e(18).then(n.bind(null,876))},"\u5ba2\u8fd0")},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e){return e.centerLat&&e.centerLat?N[e.tabIndex]+"_"+e.centerLat+"_"+e.centerLng:N[e.tabIndex]}var s=n(24),c=(n.n(s),n(25)),l=n.n(c),u=n(16),p=(n.n(u),n(17)),d=n.n(p),h=n(26),E=(n.n(h),n(27)),m=n.n(E),f=n(0),T=n.n(f),I=n(2),g=n(9),S=n.n(g),_=n(14),b=n.n(_),O=n(286),L=n(20),y=n(15),C=n(32),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),N=["Sort","scoreOrder","priceOrder","distanceOrder","ModifyTime"],R=["desc","desc","asc","asc","desc"],w=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.renderRow=n.renderRow.bind(n),n.onRefresh=n.onRefresh.bind(n),n.loadNextPage=n.loadNextPage.bind(n),n.renderFooter=n.renderFooter.bind(n);var i=new m.a.DataSource({rowHasChanged:function(e,t){return e!==t},sectionHeaderHasChanged:function(e,t){return e!==t}});return n.state={dataSource:i.cloneWithRows(n.props.dataList?n.props.dataList:[])},n}return i(t,e),v(t,[{key:"componentDidMount",value:function(){this.props.dataList||this.loadData(this.props.inputKeyword),this.listView&&!isNaN(this.props.listViewOffset)&&this.listView.scrollTo(0,this.props.listViewOffset)}},{key:"componentDidUpdate",value:function(e,t,n){this.props.dataList!==e.dataList&&this.setState({dataSource:this.state.dataSource.cloneWithRows(this.props.dataList?this.props.dataList:[])})}},{key:"render",value:function(){var e=this;return T.a.createElement("div",{className:"scenicListBox",style:{height:this.props.height}},this.renderListView(),this.props.isFetching||this.props.dataList&&0!==this.props.dataList.length?null:T.a.createElement(C.a,{style:{height:this.props.height},onClick:function(){return e.onRefresh(e.props.inputKeyword)}}),this.props.isFetching&&0===this.props.pageIndex?T.a.createElement(d.a,{toast:!0,text:"Loading..."}):null)}},{key:"renderListView",value:function(){var e=this;if(this.props.dataList&&this.props.dataList.length>0){var t=function(e,t){return T.a.createElement("div",{key:e+"-"+t,style:{height:1,borderBottom:"0.5px solid #dddddd"}})};return T.a.createElement(m.a,{ref:function(t){e.listView=t,L.a.fixListViewHeightIssue(t,e.props.height)},dataSource:this.state.dataSource,renderRow:this.renderRow,renderSeparator:t,style:{height:this.props.height,overflow:"auto"},pullToRefresh:T.a.createElement(l.a,{refreshing:this.props.isFetching,onRefresh:function(){return e.onRefresh(e.props.inputKeyword)}}),onEndReached:this.loadNextPage,renderFooter:this.renderFooter,initialListSize:this.props.dataList.length,pageSize:20,scrollRenderAheadDistance:500,scrollEventThrottle:50,onEndReachedThreshold:20})}}},{key:"searchByKeyword",value:function(e){e===this.props.keyword||this.isEmptyString(e)&&this.isEmptyString(this.props.keyword)||this.onRefresh(e)}},{key:"isEmptyString",value:function(e){return!e||0===e.length}},{key:"onRefresh",value:function(e){var t=this;this.props.dispatch(Object(O.b)(N[this.props.tabIndex],R[this.props.tabIndex],this.getExtraParams())).then(function(){t.loadData(e)})}},{key:"loadNextPage",value:function(){this.loadData()}},{key:"renderFooter",value:function(){return this.props.isFetching&&!0===this.props.hasMore?T.a.createElement("div",{className:"loadingMore"},T.a.createElement(d.a,{text:"Loading..."})):null}},{key:"renderRow",value:function(e,t,n){var r=this,a=e.GetImage?e.GetImage.ImageFrontUrl:"";return T.a.createElement("div",{key:n,className:"scenicListItem",onClick:function(){r.props.onItemClick&&r.props.onItemClick(e)}},T.a.createElement("div",{style:{backgroundImage:"url("+a+")"},className:"scenicListItemImg"}),T.a.createElement("div",{className:"scenicListItemTextBox"},T.a.createElement("div",{className:"scenicListItemName"},e.CnName),T.a.createElement("div",{className:"scenicListItemStar"},e.AttractionsStar),T.a.createElement("div",{className:"scenicListItemOthers"},"\u8ddd\u79bb",e.Distance?parseFloat(e.Distance).toFixed(1):0,"km"),T.a.createElement("div",{className:"scenicListItemLastLine"},T.a.createElement("div",{className:"scenicListItemOthers"},e.Score,"\u5206"),T.a.createElement("div",{style:{flex:1}}),T.a.createElement("div",{className:"scenicListItemOthers price"},0===e.Price?"\u514d\u8d39":"\xa5"+e.Price+"\u8d77"))))}},{key:"loadData",value:function(e){if(!this.props.isFetching&&!1!==this.props.hasMore){var t=this.props.pageIndex>=0?this.props.pageIndex+1:0;this.props.dispatch(Object(O.c)(N[this.props.tabIndex],R[this.props.tabIndex],t,e||this.props.keyword,this.getExtraParams()))}}},{key:"cacheScrollOffset",value:function(){if(this.listView){var e=b.a.findDOMNode(this.listView).scrollTop;this.props.dispatch(Object(O.f)(N[this.props.tabIndex],R[this.props.tabIndex],e,this.getExtraParams()))}}},{key:"getExtraParams",value:function(){return{storeKey:this.props.storeKey,lat:this.props.centerLat,lng:this.props.centerLng}}}]),t}(f.PureComponent);w.propTypes={onItemClick:S.a.func};var D=function(e,t){var n=t.storeKey&&t.storeKey.length>0?y.a.getStoreItemByDotConnector(e,t.storeKey):e.scenic.listScreen,r=n.groups[o(t)];return Object.assign({selectedTabIndex:n.selectedTabIndex},r,{inputKeyword:n.keyword})};w=Object(I.b)(D,null,null,{withRef:!0})(w),t.a=w},function(e,t,n){"use strict";function r(e){return function(t,n){return t(h(e)),d(e).then(function(n){var r={journeyId:e};if(n&&n.results&&n.results.length>=0){var a=n.results[0];r.headerInfo=a;for(var i=[],o=0;o<a.PlanProList.length;o++){var s=a.PlanProList[o],c=parseInt(s.dayname,10)-1,l=i[c];l=l||[],l.push(s),i[c]=l}r.groupList=i;for(var u={},p=0;p<i.length;p++)for(var d=i[p],h=0;h<d.length-1;h++)u[p+"_"+h]="\u6b63\u5728\u89c4\u5212\u9a7e\u8f66\u8def\u7ebf...";r.trafficInfos=u}T(r.headerInfo.UserID).then(function(n){n&&n.results&&n.results.length>0&&(r.headerInfo.headImg=n.results[0].GetUserAvatar),t(E(e,r))}).catch(function(n){t(E(e,r))})}).catch(function(n){t(m(e))})}}function a(e){return{type:I.b.JOURNEY.DETAIL.GO_BACK,journeyId:e}}function i(e,t){return{type:I.b.JOURNEY.DETAIL.SET_SCROLL_OFFSET,scrollViewOffset:t,journeyId:e}}function o(e,t){return{type:I.b.JOURNEY.DETAIL.SET_TRAFFIC_INFOS,journeyId:e,trafficInfos:t}}function s(e){return function(t,n){var r=n(),a=S.a.getUserId(r);return t(u(e)),c(e,a).then(function(n){t(l(e,n))}).catch(function(n){t(p(e))})}}function c(e,t){var n={userID:t,planMainID:e,favoriteType:1};return g.a.postToPortal(I.q.JOURNEY.CopyTravelPlan,n,null,!0).then(function(e){return e.json()})}function l(e,t){return t&&0===parseInt(t.status,10)&&t.results&&t.results.length>0?{type:I.b.JOURNEY.DETAIL.COPY_TO_MINE_SUCCESS,journeyId:e,targetJourneyId:t.results}:p(e,new Error("\u884c\u7a0b\u62f7\u8d1d\u5931\u8d25..."))}function u(e){return{type:I.b.JOURNEY.DETAIL.COPY_TO_MINE_REQUEST,journeyId:e}}function p(e){return{type:I.b.JOURNEY.DETAIL.COPY_TO_MINE_FAILURE,message:e}}function d(e){var t={jsonParm:e};return g.a.postToPortal(I.q.JOURNEY.GetTourPlanByID,t,null,!0).then(function(e){return e.json()})}function h(e){return{type:I.b.JOURNEY.DETAIL.GET_DETAIL_REQUEST,journeyId:e}}function E(e,t){return t.type=I.b.JOURNEY.DETAIL.GET_DETAIL_SUCCESS,t}function m(e){return{type:I.b.JOURNEY.DETAIL.GET_DETAIL_FAILURE,message:e}}function f(e){return{type:I.b.JOURNEY.DETAIL.GO_BACK,journeyId:e}}function T(e){var t={id:e};return g.a.postToPortal(I.q.ME.GetUserInfo,t,null,!0).then(function(e){return e.json()})}t.b=r,t.d=a,t.e=i,t.f=o,t.a=s,t.c=f;var I=n(1),g=n(8),S=n(15)},function(e,t,n){e.exports=n.p+"static/media/icon_plan_since.2cc4082c.png"},function(e,t,n){e.exports=n.p+"static/media/icon_plan_hotel.379e03aa.png"},function(e,t,n){e.exports=n.p+"static/media/icon_plan_food.a6f52d52.png"},function(e,t,n){e.exports=n.p+"static/media/icon_plan_business.85571213.png"},function(e,t,n){e.exports=n.p+"static/media/icon_plan_amusement.1a4c3e28.png"},function(e,t,n){"use strict";function r(){return{type:o.b.MAP.CHOOSEADDRESS.CLEAR_SELECT_ADDRESS}}function a(e){return function(t,n){return t(i(e)),new Promise(function(e){e()})}}function i(e){return{type:o.b.MAP.CHOOSEADDRESS.UPDATE_SELECT_ADDRESS,selectPoint:e}}t.a=r,t.b=a;var o=n(1)},function(e,t,n){"use strict";function r(e){return{type:C.b.FOOTMARK.LIST.SET_SELECTED_TAB_INDEX,index:e}}function a(e,t,n,r){return function(a,i){return a(T(e,t,n,r)),f(e,t,n,r).then(function(i){a(g(e,t,n,r,i))}).catch(function(e){a(_(t,n,r,e))})}}function i(){return{type:C.b.FOOTMARK.LIST.GO_BACK}}function o(e,t,n){return function(r,a){return y(e)?Object(N.h)(t,n):r(s(e,t)),new Promise(function(e){e()})}}function s(e,t){return{type:C.b.FOOTMARK.LIST.DELETE,userId:t,footmarkType:e}}function c(e,t,n,r){return function(a,i){return a(y(e)?Object(N.p)(t,n,C.g.FOOTMARK,r):l(e,t,r)),new Promise(function(e){e()})}}function l(e,t,n){return{type:C.b.FOOTMARK.LIST.SET_LISTVIEW_OFFSET,footmarkType:e,userId:t,listViewOffset:n}}function u(e,t,n,r){return function(a,i){return a(y(e)?Object(N.i)(t,n,r):p(e,t,r)),new Promise(function(e){e()})}}function p(e,t,n){return{type:C.b.FOOTMARK.LIST.TOGGLE_EXPAND,footmarkType:e,userId:t,index:n}}function d(e,t,n,r,a,i){return function(o,s){return m(r,n,a).then(function(r){o(y(e)?Object(N.k)(t,n,i):O(e,n,i))}).catch(function(e){})}}function h(e,t,n,r,a,i){return function(o,s){return E(r,n,a).then(function(r){o(y(e)?Object(N.j)(t,n,i):L(e,n,i))}).catch(function(e){})}}function E(e,t,n){var r={jsonParams:{ThemeCode:e,UserID:t,IsCollection:n}};return v.a.postToPortal(C.q.FOOTMARK.COLLECT,r,void 0,!0).then(function(e){return e.json()})}function m(e,t,n){var r={jsonParams:{ThemeCode:e,UserID:t,IsLike:n}};return v.a.postToPortal(C.q.FOOTMARK.LIKE,r,void 0,!0).then(function(e){return e.json()})}function f(e,t,n,r){var a={Page:{PageIndex:e,PageSize:C.o}},i={conditionParams:a,type:t,UserID:n};return y(t)&&(i.MyUserID=r),v.a.getFromPortal(C.q.FOOTMARK.LIST,i).then(function(e){return e.json()})}function T(e,t,n,r){return function(a,i){return a(y(t)?Object(N.m)(n,r,e):I(t,n,e)),new Promise(function(e){e()})}}function I(e,t,n){return{type:C.b.FOOTMARK.LIST.GET_LIST_REQUEST,footmarkType:e,userId:t,pageIndex:n}}function g(e,t,n,r,a){return function(i,o){return i(y(t)?Object(N.n)(n,r,e,a):S(t,n,e,a)),new Promise(function(e){e()})}}function S(e,t,n,r){return{type:C.b.FOOTMARK.LIST.GET_LIST_SUCCESS,footmarkType:e,userId:t,pageIndex:n,result:r}}function _(e,t,n,r){return function(a,i){return a(y(e)?Object(N.l)(t,n,r):b(e,t,r)),new Promise(function(e){e()})}}function b(e,t,n){return{type:C.b.FOOTMARK.LIST.GET_LIST_FAILURE,footmarkType:e,userId:t,message:n}}function O(e,t,n){return{type:C.b.FOOTMARK.LIST.PRAISE_SUCCESS,footmarkType:e,userId:t,index:n}}function L(e,t,n){return{type:C.b.FOOTMARK.LIST.COLLECT_SUCCESS,footmarkType:e,userId:t,index:n}}function y(e){return 4===e}t.g=r,t.c=a,t.e=i,t.b=o,t.f=c,t.h=u,t.d=d,t.a=h;var C=n(1),v=n(8),N=(n(21),n(84))},function(e,t,n){n(305),e.exports=n(310)},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n.n(r),i=n(14),o=n.n(i),s=n(319),c=(n.n(s),n(320)),l=n(771),u=n(2),p=n(13),d=n(772),h=(n.n(d),n(775)),E=n.n(h),m=n(776),f=Object(p.createStore)(m.a,Object(d.composeWithDevTools)(Object(p.applyMiddleware)(E.a)));window.reduxDispatch=f.dispatch,o.a.render(a.a.createElement(u.a,{store:f},a.a.createElement(c.a,null)),document.getElementById("root")),Object(l.a)()},,,,,,,,,function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(0),s=n.n(o),c=n(2),l=n(15),u=n(47),p=(n(54),n(194)),d=n.n(p),h=n(165),E=n(78),m=n(289),f=n(200),T=n(402),I=n(1),g=n(403),S=n(405),_=n(198),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),O=d()({basename:"/mobile/yuzhou"}),L=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.onNativeMessage=n.onNativeMessage.bind(n),n.onIframeMessage=n.onIframeMessage.bind(n),n.sendReadyMessage=n.sendReadyMessage.bind(n),window.addEventListener("resize",n.onResize.bind(n)),window.document.addEventListener("message",n.onNativeMessage),window.addEventListener("message",n.onIframeMessage,!1),n.props.baiduMapInited&&n.getUserLocationInfo(),n.props.dispatch(Object(T.a)());var i=l.a.getUrlParameter("Account"),o=l.a.getUrlParameter("code"),s=l.a.getUrlParameter("isFromNativeApp");if(console.log("process: production"),i&&i.length>0&&o&&o.length>0?Object(E.h)(i,o,n.props.dispatch):Object(E.d)(n.props.dispatch),s&&s.length>0){try{var c=l.a.getUrlParameter("userInfo");c&&(c=JSON.parse(decodeURIComponent(c)),n.props.dispatch(Object(E.i)(c)))}catch(e){}n.props.dispatch(Object(m.a)({isFromNativeApp:s})),n.sendReadyMessage()}return n}return i(t,e),b(t,[{key:"componentWillUnmount",value:function(){this.timerInterval&&clearTimeout(this.timerInterval)}},{key:"onResize",value:function(){this.props.dispatch(Object(m.b)())}},{key:"onNativeMessage",value:function(e){var t=void 0;e&&e.data&&e.data.length>0&&(t=JSON.parse(e.data)),t&&(t.type===I.i.READY?(this.timerInterval&&clearTimeout(this.timerInterval),this.props.baiduMapInited&&this.getUserLocationInfo(),this.props.dispatch(Object(m.a)({isNativeAppReady:!0}))):t.type===I.i.GET_URL&&window.postMessage?window.postMessage(JSON.stringify({type:I.i.GET_URL,data:{url:window.location.href}}),"*"):t.type===I.i.ELEMANT_MAP_SEARCH?this.props.dispatch(Object(m.a)({elemantMapSearchKeywords:t.data.keywords})):t.type===I.i.ELEMENT_MAP_DATALIST?this.props.dispatch(Object(m.a)({getElementMapDataList:0})):t.type===I.i.GET_LOCATION?_.a.save(this.props.dispatch,t.data):t.type===I.i.SHARE_NATIVE_USER_INFO&&t.data&&(this.props.dispatch(Object(E.i)(t.data)),u.a.setItem(I.r.USER_INFO,t.data)))}},{key:"onIframeMessage",value:function(e){var t=void 0;e&&e.data&&e.data.length>0&&(t=JSON.parse(e.data)),t&&(t.type!==I.p.PHOTO_BROWSER_LOADING&&t.type!==I.p.PHOTO_BROWSER_CLOSED&&t.type!==I.p.PHOTO_BROWSER_OPENED||this.props.dispatch(Object(f.a)({photoBrowserStatus:t.type})))}},{key:"componentDidUpdate",value:function(e,t,n){this.props.baiduMapInited&&!e.baiduMapInited&&this.getUserLocationInfo()}},{key:"render",value:function(){return s.a.createElement(g.a,{history:O},s.a.createElement(S.a,{history:O}))}},{key:"getUserLocationInfo",value:function(){this.props.dispatch(Object(h.c)(!0))}},{key:"sendReadyMessage",value:function(){window.postMessage&&(window.postMessage(JSON.stringify({type:I.i.READY}),"*"),this.timerInterval=setTimeout(this.sendReadyMessage,I.t))}}]),t}(o.PureComponent),y=function(e,t){return{baiduMapInited:e.system.baiduMapInited,native:{elementMapDataList:e.map.elementMap.dataList}}};L=Object(c.b)(y)(L),t.a=L},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e)}return i(e,null,[{key:"setMetaInfo",value:function(e){if(e&&"object"===("undefined"===typeof e?"undefined":a(e))&&window.fundebug){var t=window.fundebug.metaData;t=Object.assign({},t,e),window.fundebug.metaData=t}}}]),e}();t.a=o},function(e,t,n){"use strict";function r(){return function(e,t){return e(i()),a().then(function(t){e(o(t&&"0"===t.status?t.results:[]))}).catch(function(t){e(s(t))})}}function a(){return c.a.postToPortal(l.q.JOURNEY.GetSettings).then(function(e){return e.json()})}function i(){return{type:l.b.SYSTEM.GET_JOURNEY_MAX_DAYCOUNT_REQUEST}}function o(e){return{type:l.b.SYSTEM.GET_JOURNEY_MAX_DAYCOUNT_SUCCESS,dayCount:e}}function s(e){return{type:l.b.SYSTEM.GET_JOURNEY_MAX_DAYCOUNT_FAILURE,message:e}}t.a=r;var c=n(8),l=n(1)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(0),s=n.n(o),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={error:null},n.refreshPage=n.refreshPage.bind(n),n.goToHome=n.goToHome.bind(n),n}return i(t,e),c(t,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e}),window.fundebug.notifyError(e,t)}},{key:"render",value:function(){return this.state.error?s.a.createElement("div",{className:"appCrash"},s.a.createElement("img",{src:n(404),alt:""}),s.a.createElement("div",{className:"appCrashButtons"},s.a.createElement("div",{className:"appCrashButton",onClick:this.refreshPage},"\u5237\u65b0\u9875\u9762"),s.a.createElement("div",{className:"appCrashButton",onClick:this.goToHome},"\u8fd4\u56de\u9996\u9875"))):this.props.children}},{key:"refreshPage",value:function(){window.location.reload()}},{key:"goToHome",value:function(){this.props.history.push("/"),window.location.reload()}}]),t}(o.PureComponent);t.a=l},function(e,t,n){e.exports=n.p+"static/media/error.8ca899a8.jpg"},function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(406),o=n(210),s=n(294),c=n(432),l=n(467),u=n(497),p=n(543),d=n(545),h=n(546),E=n(547),m=n(549),f=n(551),T=n(554),I=n(556),g=n(558),S=n(566),_=n(567),b=n(570),O=n(574),L=n(576),y=n(578),C=n(579),v=n(581),N=n(583),R=n(585),w=n(587),D=n(588),A=n(590),k=n(592),P=n(594),F=n(610),U=n(611),G=n(619),j=n(630),M=n(632),x=n(633),B=n(635),V=n(637),H=n(639),K=n(641),Y=n(643),W=n(644),Q=n(654),X=n(687),J=n(701),z=n(703),q=n(705),Z=n(714),$=n(718),ee=n(728),te=n(729),ne=n(733),re=n(735),ae=n(738),ie=n(740),oe=n(742),se=n(744),ce=n(747),le=n(761),ue=n(762),pe=n(285),de=(n.n(pe),n(292)),he=(n.n(de),n(288)),Ee=(n.n(he),n(158)),me=(n.n(Ee),n(116)),fe=(n.n(me),n(115)),Te=(n.n(fe),Object(o.a)(function(){return n.e(17).then(n.bind(null,877))},"\u79b9\u5dde\u6982\u89c8")),Ie=Object(o.a)(function(){return n.e(20).then(n.bind(null,878))}),ge=Object(o.a)(function(){return n.e(19).then(n.bind(null,879))},"\u666f\u533a\u5217\u8868"),Se=Object(o.a)(function(){return n.e(9).then(n.bind(null,880))},"\u666f\u533a\u8be6\u60c5"),_e=Object(o.a)(function(){return n.e(11).then(n.bind(null,881))},"\u666f\u70b9\u5217\u8868"),be=Object(o.a)(function(){return n.e(12).then(n.bind(null,882))},"\u666f\u70b9\u8be6\u60c5"),Oe=Object(o.a)(function(){return n.e(8).then(n.bind(null,883))},"\u975e\u6e38\u4e0d\u53ef"),Le=Object(o.a)(function(){return n.e(7).then(n.bind(null,884))}),ye=Object(o.a)(function(){return n.e(6).then(n.bind(null,885))}),Ce=Object(o.a)(function(){return n.e(13).then(n.bind(null,886))}),ve=Object(o.a)(function(){return n.e(21).then(n.bind(null,887))}),Ne=Object(o.a)(function(){return n.e(23).then(n.bind(null,888))},"\u8db3\u8ff9"),Re=Object(o.a)(function(){return n.e(1).then(n.bind(null,889))},"\u8db3\u8ff9"),we=Object(o.a)(function(){return n.e(22).then(n.bind(null,890))},"\u6211\u7684\u8db3\u8ff9"),De=Object(o.a)(function(){return n.e(3).then(n.bind(null,891))},"\u6211\u7684\u884c\u7a0b"),Ae=Object(o.a)(function(){return n.e(5).then(n.bind(null,892))},"\u884c\u7a0b\u8be6\u60c5"),ke=Object(o.a)(function(){return n.e(0).then(n.bind(null,893))},"\u521b\u5efa\u884c\u7a0b"),Pe=Object(o.a)(function(){return n.e(10).then(n.bind(null,894))},"\u884c\u7a0b\u5730\u56fe"),Fe=Object(o.a)(function(){return n.e(2).then(n.bind(null,895))},"\u6211\u7684\u884c\u7a0b"),Ue=Object(o.a)(function(){return n.e(14).then(n.bind(null,896))},"\u65b0\u589e\u5174\u8da3\u70b9"),Ge=function(e){return a.a.createElement(i.c,{history:e.history},a.a.createElement(i.d,null,a.a.createElement(i.b,{exact:!0,path:"/",component:c.a}),a.a.createElement(i.b,{exact:!0,path:"/scenic/list",component:ge}),a.a.createElement(i.b,{exact:!0,path:"/scenic/recommend-list",component:Oe}),a.a.createElement(i.b,{exact:!0,path:"/scenic/detail/:code",component:Se}),a.a.createElement(i.b,{exact:!0,path:"/scenic/scenery-list/:code",component:_e}),a.a.createElement(i.b,{exact:!0,path:"/scenic/scenery-detail/:scenicCode/:sceneryCode",component:be}),a.a.createElement(i.b,{exact:!0,path:"/hotel/list",component:l.a}),a.a.createElement(i.b,{exact:!0,path:"/hotel/detail/:code",component:u.a}),a.a.createElement(i.b,{exact:!0,path:"/hotel/recommend-list",component:p.a}),a.a.createElement(i.b,{exact:!0,path:"/news",component:d.a}),a.a.createElement(i.b,{exact:!0,path:"/common-news",component:h.a}),a.a.createElement(i.b,{exact:!0,path:"/news/detail/:code",component:E.a}),a.a.createElement(i.b,{exact:!0,path:"/festival-news",component:m.a}),a.a.createElement(i.b,{exact:!0,path:"/festival-news/detail/:code",component:f.a}),a.a.createElement(i.b,{exact:!0,path:"/line",component:T.a}),a.a.createElement(i.b,{exact:!0,path:"/line/detail/:code",component:I.a}),a.a.createElement(i.b,{exact:!0,path:"/ticketPurchase",component:g.a}),a.a.createElement(i.b,{exact:!0,path:"/ticketPurchase/result",component:S.a}),a.a.createElement(i.b,{exact:!0,path:"/travel-notes",component:_.a}),a.a.createElement(i.b,{exact:!0,path:"/travel-notes/detail/:id",component:b.a}),a.a.createElement(i.b,{exact:!0,path:"/food/recommend-list",component:O.a}),a.a.createElement(i.b,{exact:!0,path:"/food/detail/:code",component:L.a}),a.a.createElement(i.b,{exact:!0,path:"/restaurant/list",component:y.a}),a.a.createElement(i.b,{exact:!0,path:"/restaurant/detail/:code",component:C.a}),a.a.createElement(i.b,{exact:!0,path:"/specialty/list",component:v.a}),a.a.createElement(i.b,{exact:!0,path:"/specialty/recommend-list",component:N.a}),a.a.createElement(i.b,{exact:!0,path:"/specialty/detail/:code",component:R.a}),a.a.createElement(i.b,{exact:!0,path:"/fun/list",component:w.a}),a.a.createElement(i.b,{exact:!0,path:"/fun/recommend-list",component:D.a}),a.a.createElement(i.b,{exact:!0,path:"/fun/detail/:code",component:A.a}),a.a.createElement(i.b,{exact:!0,path:"/me/near-by",component:k.a}),a.a.createElement(i.b,{exact:!0,path:"/map/elementMarker/:code/:name/:address/:lat/:lng",component:Ce}),a.a.createElement(i.b,{exact:!0,path:"/me/login",component:F.a}),a.a.createElement(i.b,{exact:!0,path:"/map/mapNav/:code/:toLat/:toLng",component:P.a}),a.a.createElement(i.b,{exact:!0,path:"/map/elementMap",component:Le}),a.a.createElement(i.b,{exact:!0,path:"/map/snjelementMap",component:ye}),a.a.createElement(i.b,{exact:!0,path:"/map/chooseAddress/:address/:lat/:lng",component:ve}),a.a.createElement(i.b,{exact:!0,path:"/me/mine",component:U.a}),a.a.createElement(i.b,{exact:!0,path:"/me/updateUserInfo",component:G.a}),a.a.createElement(i.b,{exact:!0,path:"/me/updateUserInfoItem",component:$.a}),a.a.createElement(i.b,{exact:!0,path:"/me/findPasswordAndRegist/:type",component:Y.a}),a.a.createElement(i.b,{exact:!0,path:"/me/collectList",component:ae.a}),a.a.createElement(i.b,{exact:!0,path:"/shopping/list",component:M.a}),a.a.createElement(i.b,{exact:!0,path:"/shopping/recommend-list",component:j.a}),a.a.createElement(i.b,{exact:!0,path:"/shopping/detail/:code",component:x.a}),a.a.createElement(i.b,{exact:!0,path:"/farm-house/list",component:B.a}),a.a.createElement(i.b,{exact:!0,path:"/farm-house/detail/:code",component:V.a}),a.a.createElement(i.b,{exact:!0,path:"/travel-agent/list",component:H.a}),a.a.createElement(i.b,{exact:!0,path:"/travel-agent/detail/:code",component:K.a}),a.a.createElement(i.b,{exact:!0,path:"/overview",component:Te}),a.a.createElement(i.b,{exact:!0,path:"/overview/detail/:index",component:Ie}),a.a.createElement(i.b,{exact:!0,path:"/traffic",component:s.c}),a.a.createElement(i.b,{exact:!0,path:"/traffic/air",component:s.a}),a.a.createElement(i.b,{exact:!0,path:"/traffic/train",component:s.d}),a.a.createElement(i.b,{exact:!0,path:"/traffic/bus",component:s.b}),a.a.createElement(i.b,{exact:!0,path:"/sign",component:W.a}),a.a.createElement(i.b,{exact:!0,path:"/journey",component:De}),a.a.createElement(i.b,{exact:!0,path:"/journey/detail/:journeyId",component:Ae}),a.a.createElement(i.b,{exact:!0,path:"/journey/create",component:ke}),a.a.createElement(i.b,{exact:!0,path:"/journey/mapLine",component:Pe}),a.a.createElement(i.b,{exact:!0,path:"/journey/edit",component:Q.a}),a.a.createElement(i.b,{exact:!0,path:"/journey/list",component:Fe}),a.a.createElement(i.b,{exact:!0,path:"/journey/addPoint",component:Ue}),a.a.createElement(i.b,{exact:!0,path:"/footmark/list",component:Ne}),a.a.createElement(i.b,{exact:!0,path:"/footmark/detail",component:Re}),a.a.createElement(i.b,{exact:!0,path:"/footmark/create",component:X.a}),a.a.createElement(i.b,{exact:!0,path:"/footmark/myList",component:we}),a.a.createElement(i.b,{exact:!0,path:"/order/list",component:J.a}),a.a.createElement(i.b,{exact:!0,path:"/order/detail",component:z.a}),a.a.createElement(i.b,{exact:!0,path:"/order/booking/:shopCode/:productCode/:orderType",component:q.a}),a.a.createElement(i.b,{exact:!0,path:"/order/comments/:shopCode/:orderNo/:orderType",component:ne.a}),a.a.createElement(i.b,{exact:!0,path:"/order/booking/visitor",component:Z.a}),a.a.createElement(i.b,{exact:!0,path:"/order/booking/visitor/add",component:ee.a}),a.a.createElement(i.b,{exact:!0,path:"/weather",component:te.a}),a.a.createElement(i.b,{exact:!0,path:"/comments/:code",component:re.a}),a.a.createElement(i.b,{exact:!0,path:"/forum/list",component:ie.a}),a.a.createElement(i.b,{exact:!0,path:"/forum/detail/:code",component:oe.a}),a.a.createElement(i.b,{exact:!0,path:"/forum/post",component:ue.a}),a.a.createElement(i.b,{exact:!0,path:"/userProfile/friendList",component:se.a}),a.a.createElement(i.b,{exact:!0,path:"/userProfile/friendProfile",component:ce.a}),a.a.createElement(i.b,{exact:!0,path:"/userProfile/friendInfo",component:le.a}),a.a.createElement(i.a,{to:"/"})))};t.a=Ge},,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(16),s=(n.n(o),n(17)),c=n.n(s),l=n(11),u=(n.n(l),n(12)),p=n.n(u),d=n(18),h=(n.n(d),n(19)),E=n.n(h),m=n(0),f=n.n(m),T=n(10),I=n(166),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),S=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),g(t,[{key:"render",value:function(){var e=this;return f.a.createElement("div",null,f.a.createElement(p.a,{mode:"dark",className:"navBar",icon:f.a.createElement(E.a,{type:"left"}),onLeftClick:function(){e.props.history.goBack()}},this.props.title?this.props.title:""),f.a.createElement(T.a,null,f.a.createElement("div",{style:{height:window.innerHeight-45+"px",transform:"translateZ(0)"}},f.a.createElement(c.a,{toast:!0,text:"Loading..."}))))}}]),t}(m.PureComponent);S=Object(I.a)(S),t.a=S},,,,,function(e,t,n){e.exports=n.p+"static/media/home.2f40536b.png"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(42),s=(n.n(o),n(43)),c=n.n(s),l=n(11),u=(n.n(l),n(12)),p=n.n(u),d=n(0),h=n.n(d),E=n(2),m=n(14),f=n.n(m),T=n(10),I=n(441),g=n(15),S=(n(21),n(442)),_=(n.n(S),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),b=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.showScenicList=n.showScenicList.bind(n),n.showHotelList=n.showHotelList.bind(n),n.showNewsList=n.showNewsList.bind(n),n.showNewsDetail=n.showNewsDetail.bind(n),n.showFestivalNewsList=n.showFestivalNewsList.bind(n),n.showLineList=n.showLineList.bind(n),n.showMyProfile=n.showMyProfile.bind(n),n.showTicketPurchase=n.showTicketPurchase.bind(n),n.showTravelNotesList=n.showTravelNotesList.bind(n),n.showPlayPage=n.showPlayPage.bind(n),n.showNearByList=n.showNearByList.bind(n),n.showVirtual720View=n.showVirtual720View.bind(n),n.showWarningView=n.showWarningView.bind(n),n.showOverview=n.showOverview.bind(n),n.showElementMapScreen=n.showElementMapScreen.bind(n),n.showSignPage=n.showSignPage.bind(n),n.showFootmarkList=n.showFootmarkList.bind(n),n.showJourneyIndex=n.showJourneyIndex.bind(n),n.bannerImageTapped=n.bannerImageTapped.bind(n),n}return i(t,e),_(t,[{key:"componentWillUnmount",value:function(){this.cacheScrollViewPosition()}},{key:"componentDidMount",value:function(){var e=this;this.hasNews()||this.props.dispatch(Object(I.a)()).then(function(){e.props.dispatch(Object(I.b)())}),this.restoreScrollViewPosition()}},{key:"componentDidUpdate",value:function(e,t,n){this.props.isUserLogined&&this.props.isUserLogined!==e.isUserLogined&&console.log("\u767b\u5f55\u6210\u529f!")}},{key:"render",value:function(){var e=this;return h.a.createElement("div",null,h.a.createElement(p.a,{mode:"dark",className:"navBar",leftContent:h.a.createElement("img",{className:"homeMine",src:n(443),alt:""}),rightContent:h.a.createElement("div",{className:"homeSign",onClick:this.showSignPage},"\u7b7e\u5230"),onLeftClick:this.showMyProfile},h.a.createElement("img",{className:"homeLogo",src:n(444),alt:""})),h.a.createElement(T.a,{ref:function(t){e.scrollView=t?t.getWrappedInstance():e.scrollView}},this.renderHeaderBannerView(),this.renderWeather(),this.renderStartLeave(),h.a.createElement("div",{className:"homeSplitSpace"}),this.renderNewsView(),this.renderPlay(),this.renderBottomViews(),this.renderMapViews()))}},{key:"renderHeaderBannerView",value:function(){var e=this,t=[{image:n(445),path:"/scenic/list"},{image:n(446),path:"/traffic"},{image:n(447),path:"/overview"}];return h.a.createElement(c.a,{className:"homeBanner",autoplay:!0,dots:!0,swiping:!0,infinite:!0,selectedIndex:0,swipeSpeed:35},t.map(function(t,n){return h.a.createElement("div",{onClick:function(){return e.bannerImageTapped(t)},key:n,className:"homeBannerItem",style:{backgroundImage:"url("+t.image+")"}})}))}},{key:"hasNews",value:function(){return!(!this.props.news||!this.props.news.dataList||0===this.props.news.dataList.length)}},{key:"renderNewsView",value:function(){var e=this;return this.hasNews()?h.a.createElement("div",{className:"homeNewsBox"},h.a.createElement("div",{className:"homeNewsHeader",onClick:function(){return e.showNewsList()}},h.a.createElement("div",{className:"homeNewsIcon"}),h.a.createElement("div",{className:"homeNewsTitle"},"\u65c5\u6e38\u52a8\u6001"),h.a.createElement("div",{style:{flex:1}}),h.a.createElement("div",{className:"homeNewsMore"},"\u66f4\u591a")),this.props.news.dataList.map(function(t,n){return e.renderNewsItemView(t,n,n===e.props.news.dataList.length-1)})):null}},{key:"renderNewsItemView",value:function(e,t,r){var a=this,i=e.F_MiddleImage,o=e.CreateDate;return o=o?o.split(" ")[0]:o,h.a.createElement("div",{className:r?"newsListItem":"newsListItem newsListItemSplit",key:t,onClick:function(){return a.showNewsDetail(e.ContentCode)}},h.a.createElement("div",{style:{backgroundImage:"url("+i+")"},className:"scenicListItemImg"}),h.a.createElement("div",{className:"newsListItemTextBox"},h.a.createElement("div",{className:"scenicListItemName"},e.Head),h.a.createElement("div",{className:"newsListSecondRow"},h.a.createElement("img",{className:"newsListIcon",src:n(99),alt:""}),h.a.createElement("div",{className:"newsListItemOthers"},o),h.a.createElement("div",{style:{flex:1}}),h.a.createElement("img",{className:"newsListIcon",src:n(80),alt:""}),h.a.createElement("div",{className:"newsListItemOthers"},e.ClickCount))))}},{key:"render720WarningView",value:function(){return h.a.createElement("div",{className:"homeFootmarkTravelNoteRow"},h.a.createElement("div",{className:"homeFootmarkTravelNoteItem",onClick:this.showVirtual720View},h.a.createElement("div",{className:"homeFootmarkTravelNoteTextRow"},h.a.createElement("div",{className:"homeFootmarkTitle"},"720\xb0\u865a\u62df\u6e38"),h.a.createElement("div",{className:"homeFootmarkTravelNoteSubTitle"},"\u5404\u666f\u533a\u5168\u666f\u4f53\u9a8c")),h.a.createElement("img",{className:"homeFootmarkTravelNoteImg",src:n(211),alt:""})),h.a.createElement("div",{className:"homeFootmarkTravelNoteItem",onClick:this.showElementMapScreen},h.a.createElement("div",{className:"homeFootmarkTravelNoteTextRow"},h.a.createElement("div",{className:"homeTravelNoteTitle"},"\u5982\u4f55\u5230\u8fbe"),h.a.createElement("div",{className:"homeFootmarkTravelNoteSubTitle"},"\u627e\u505c\u8f66\u573a\u3001\u627e\u5395\u6240\u3001\u627e\u9152\u5e97")),h.a.createElement("img",{className:"homeFootmarkTravelNoteImg",src:n(212),alt:""})))}},{key:"renderFootmarkJourneyView",value:function(){return h.a.createElement("div",{className:"homeFootmarkTravelNoteRow"},h.a.createElement("div",{className:"homeFootmarkTravelNoteItem",onClick:this.showFootmarkList},h.a.createElement("div",{className:"homeFootmarkTravelNoteTextRow"},h.a.createElement("div",{className:"homeFootmarkTitle"},"\u8db3\u8ff9"),h.a.createElement("div",{className:"homeFootmarkTravelNoteSubTitle"},"\u53d1\u5e03\u7f8e\u56fe\u7f8e\u7167")),h.a.createElement("img",{className:"homeFootmarkTravelNoteImg",src:n(211),alt:""})),h.a.createElement("div",{className:"homeFootmarkTravelNoteItem",onClick:this.showJourneyIndex},h.a.createElement("div",{className:"homeFootmarkTravelNoteTextRow"},h.a.createElement("div",{className:"homeTravelNoteTitle"},"\u884c\u7a0b"),h.a.createElement("div",{className:"homeFootmarkTravelNoteSubTitle"},"\u667a\u80fd\u5b89\u6392\u51fa\u884c")),h.a.createElement("img",{className:"homeFootmarkTravelNoteImg",src:n(212),alt:""})))}},{key:"renderTitle",value:function(e,t){return h.a.createElement("div",{className:"startLeaveTitleRow",style:t},h.a.createElement("div",{style:{flex:1}}),h.a.createElement("img",{src:n(213),alt:""}),h.a.createElement("span",{className:"startLeaveTitle"},e),h.a.createElement("img",{src:n(213),alt:""}),h.a.createElement("div",{style:{flex:1}}))}},{key:"renderWeather",value:function(){var e=this;if(this.props.weather){var t="\u4f18",n=this.props.weather.pm25;return t=n>=0&&n<=50?"\u4f18":n>=51&&n<=100?"\u826f":n>=101&&n<=150?"\u8f7b\u5ea6\u6c61\u67d3":n>=151&&n<=200?"\u4e2d\u5ea6\u6c61\u67d3":n>=201&&n<=300?"\u91cd\u5ea6\u6c61\u67d3":"\u4e25\u91cd\u6c61\u67d3",h.a.createElement("div",{className:"homeWeatherBox",onClick:function(){return e.showWeather()}},h.a.createElement("div",{className:"homeWeatherIcon",style:{backgroundImage:"url("+this.getWeatherIcon(this.props.weather.weather_data[0].dayPictureUrl)+")"}}),h.a.createElement("div",{className:"homeWeatherTempText"},this.props.weather.weather_data[0].weather),h.a.createElement("div",{className:"homeWeatherDateText"},(new Date).formatDate("YYYY-MM-DD")),h.a.createElement("div",{className:"homeWeatherAqiText"},"\u7a7a\u6c14\u8d28\u91cf:",t))}}},{key:"getWeatherIcon",value:function(e){var t=[{key:"qing",value:n(214)},{key:"yin",value:n(215)},{key:"duoyun",value:n(216)},{key:"wu",value:n(217)},{key:"mai",value:n(218)},{key:"fuchen",value:n(219)},{key:"yangsha",value:n(220)},{key:"shachenbao",value:n(221)},{key:"qiangshachenbao",value:n(222)},{key:"zhenyu",value:n(223)},{key:"leizhenyu",value:n(224)},{key:"leizhenyubanyoubingbao",value:n(225)},{key:"xiaoyu",value:n(226)},{key:"xiaoyuzhuanzhongyu",value:n(100)},{key:"zhongyu",value:n(100)},{key:"zhongyuzhuandayu",value:n(101)},{key:"dayu",value:n(101)},{key:"dayuzhuanbaoyu",value:n(102)},{key:"baoyu",value:n(102)},{key:"baoyuzhuandabaoyu",value:n(103)},{key:"dabaoyu",value:n(103)},{key:"dabaoyuzhuantedabaoyu",value:n(104)},{key:"tedabaoyu",value:n(104)},{key:"dongyu",value:n(227)},{key:"yujiaxue",value:n(228)},{key:"zhenxue",value:n(229)},{key:"xiaoxue",value:n(230)},{key:"xiaoxuezhuanzhongxue",value:n(105)},{key:"zhongxue",value:n(105)},{key:"zhongxuezhuandaxue",value:n(106)},{key:"daxue",value:n(106)},{key:"daxuezhuanbaoxue",value:n(107)},{key:"baoxue",value:n(107)}],r=e;if(r&&null!==r&&""!==r)for(var a=0;a<t.length;a++)if(r.indexOf(t[a].key)>-1){r=t[a].value;break}return r}},{key:"showWeather",value:function(){this.props.history.push("/weather")}},{key:"renderStartLeave",value:function(){var e=this,t=window.innerWidth-20,r=(t-24)/4,a=(t-16-r)/2,i=101*r/175,o=111*a/264,s=i+o+8;return h.a.createElement("div",null,this.renderTitle("\u4e86\u89e3\u79b9\u5dde",{marginTop:"25px"}),h.a.createElement("div",{className:"startLeaveMenuBox"},h.a.createElement("div",{className:"startLeaveMenuLeftRow"},h.a.createElement("div",{className:"startLeaveMenuRow"},h.a.createElement("div",{className:"startLeaveMenuItem",style:{width:r+"px",height:i+"px"},onClick:this.showScenicList},h.a.createElement("img",{src:n(448),alt:""})),h.a.createElement("div",{style:{width:"8px"}}),h.a.createElement("div",{className:"startLeaveMenuItem",style:{width:r+"px",height:i+"px"},onClick:this.showHotelList},h.a.createElement("img",{src:n(449),alt:""})),h.a.createElement("div",{style:{width:"8px"}}),h.a.createElement("div",{className:"startLeaveMenuItem",style:{width:r+"px",height:i+"px"},onClick:this.showLineList},h.a.createElement("img",{src:n(450),alt:""}))),h.a.createElement("div",{className:"startLeaveMenuRow"},h.a.createElement("div",{className:"startLeaveMenuItem",style:{width:a+"px",height:o+"px"},onClick:function(){return e.showJourneyIndex()}},h.a.createElement("img",{src:n(451),alt:""})),h.a.createElement("div",{style:{width:"8px"}}),h.a.createElement("div",{className:"startLeaveMenuItem",style:{width:a+"px",height:o+"px"},onClick:function(){return e.showFootmarkList()}},h.a.createElement("img",{src:n(452),alt:""})))),h.a.createElement("div",{className:"startLeaveMenuRightRow"},h.a.createElement("div",{style:{width:"8px"}}),h.a.createElement("div",{className:"startLeaveMenuItem",style:{width:r+"px",height:s+"px"},onClick:this.showFestivalNewsList},h.a.createElement("img",{src:n(453),alt:""})))))}},{key:"renderPlay",value:function(){var e=this,t=[{icon:n(454),title:"\u666f\u70b9",pathname:"/scenic/recommend-list"},{icon:n(455),title:"\u7f8e\u98df",pathname:"/food/recommend-list"},{icon:n(456),title:"\u4f4f\u5bbf",pathname:"/hotel/recommend-list"},{icon:n(457),title:"\u4ea4\u901a",pathname:"/traffic"},{icon:n(458),title:"\u7279\u4ea7",pathname:"/specialty/recommend-list"},{icon:n(459),title:"\u5a31\u4e50",pathname:"/fun/recommend-list"},{icon:n(460),title:"\u8d2d\u7269",pathname:"/shopping/recommend-list"},{icon:n(461),title:"\u65c5\u884c\u793e",pathname:"/travel-agent/list"},{icon:n(462),title:"\u8bba\u575b",pathname:"/forum/list"}];return h.a.createElement("div",null,this.renderTitle("\u73a9\u8f6c\u79b9\u5dde"),h.a.createElement("div",{className:"homePlayMenuRow",ref:function(t){e.playDiv=t}},t.map(function(t,n){return h.a.createElement("div",{key:n,className:"homePlayMenuItem",onClick:function(){return e.showPlayPage(t)}},h.a.createElement("img",{src:t.icon,alt:""}),h.a.createElement("span",null,t.title))})),h.a.createElement("div",{className:"homePlaySplit"}))}},{key:"renderBottomViews",value:function(){return h.a.createElement("div",{className:"homeBottomBox"},h.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},h.a.createElement("div",{style:{flex:1},onClick:this.showOverview},h.a.createElement("img",{style:{width:"100%"},src:n(463),alt:""})),h.a.createElement("div",{style:{width:5}}),h.a.createElement("div",{style:{flex:1},onClick:this.showTravelNotesList},h.a.createElement("img",{style:{width:"100%"},src:n(464),alt:""})),h.a.createElement("div",{style:{width:5}}),h.a.createElement("div",{style:{flex:1},onClick:this.showNearByList},h.a.createElement("img",{style:{width:"100%"},src:n(465),alt:""}))))}},{key:"renderMapViews",value:function(){return h.a.createElement("div",{style:{padding:10,paddingTop:0},onClick:this.showElementMapScreen},h.a.createElement("img",{style:{width:"100%"},src:n(466),alt:""}))}},{key:"showOverview",value:function(){this.props.history.push("/overview")}},{key:"showScenicList",value:function(){this.props.history.push("/scenic/list")}},{key:"showHotelList",value:function(){this.props.history.push("/hotel/list")}},{key:"showNewsDetail",value:function(e){var t=this.props.dispatch;this.props.history.push("/news/detail/"+e),t(Object(I.c)(e))}},{key:"showNewsList",value:function(){this.props.history.push("/news")}},{key:"showFestivalNewsList",value:function(){this.props.history.push("/festival-news")}},{key:"showLineList",value:function(){this.props.history.push("/line")}},{key:"showTravelNotesList",value:function(){this.props.history.push("/travel-notes")}},{key:"cacheScrollViewPosition",value:function(){var e=this.scrollView.getOffsetY(),t=f.a.findDOMNode(this.playDiv).scrollLeft;this.props.dispatch(Object(I.d)(e,t))}},{key:"restoreScrollViewPosition",value:function(){this.scrollView&&(isNaN(this.props.scrollViewOffset)?this.scrollView.scrollToY(0):this.scrollView.scrollToY(this.props.scrollViewOffset)),this.playDiv&&(isNaN(this.props.playScrollViewOffset)?f.a.findDOMNode(this.playDiv).scrollLeft=0:f.a.findDOMNode(this.playDiv).scrollLeft=this.props.playScrollViewOffset)}},{key:"showPlayPage",value:function(e){e&&e.pathname&&e.pathname.length>0&&this.props.history.push(e.pathname)}},{key:"showTicketPurchase",value:function(){this.props.history.push("/ticketPurchase")}},{key:"showNearByList",value:function(){this.props.history.push("/me/near-by")}},{key:"showMyProfile",value:function(){this.props.isUserLogined?this.props.history.push("/me/mine"):this.props.history.push("/me/login")}},{key:"showCommonNews",value:function(e){this.props.history.push("/common-news?key="+e)}},{key:"showVirtual720View",value:function(){window.open("http://720.xinxiantour.com/xinxian/")}},{key:"showWarningView",value:function(){window.open("http://peakapi.xinxiantour.com/XinXianPeak/heatmap.html")}},{key:"showElementMapScreen",value:function(){this.props.history.push("/map/elementMap")}},{key:"showFootmarkList",value:function(){this.props.history.push("/footmark/list")}},{key:"showJourneyIndex",value:function(){this.props.isUserLogined?this.props.history.push("/journey"):this.props.history.push("/me/login")}},{key:"showSignPage",value:function(){this.props.history.push("/sign")}},{key:"bannerImageTapped",value:function(e){var t=e&&e.path?e.path:"";t&&t.length>0&&this.props.history.push(t)}}]),t}(d.PureComponent),O=function(e){return Object.assign({},e.home,{isUserLogined:g.a.isUserLogined(e)})};b=Object(E.b)(O)(b),t.a=b},,,,,,,,,function(e,t,n){"use strict";function r(e,t){return{type:h.b.HOME.SET_SCROLL_OFFSET,scrollViewOffset:e,playScrollViewOffset:t}}function a(){return function(e,t){return e(s()),o().then(function(t){e(c(t?t.results:[]))}).catch(function(t){e(l(t))})}}function i(e){return{type:h.b.HOME.NEWS_INCREASE_CLICK_COUNT,code:e}}function o(){var e={Identifier:"know/dynamic/news",pageIndex:1,pageSize:2};return m.a.getFromPortal(h.q.NEWS.LIST,e).then(function(e){return e.json()})}function s(){return{type:h.b.HOME.GET_NEWS_REQUEST}}function c(e){return{type:h.b.HOME.GET_NEWS_SUCCESS,dataList:e}}function l(e){return{type:h.b.HOME.GET_NEWS_FAILURE,message:e}}function u(){return function(e,t){var n=function(t){var n=t.results&&t.results.length>0?t.results[0]:void 0;n&&f.a.setItem("HOME_WEATHER",t),e(d(n))};return p(n).then(n)}}function p(e){var t=(new Date).getTime(),n=f.a.getItem("HOME_WEATHER_TIME");n=n?parseInt(n,10):0;var r=f.a.getItem("HOME_WEATHER");if(t-n<=288e5&&r&&r.length>0){var a=JSON.parse(r);return new Promise(function(e){e(a)})}var i=m.a.HOST_WEATHER,o={location:E.a.instance.weatherCityName,output:"json",ak:"wzkXpn7CyH8zOpOfFzUYaXnr96M6pq3e"};return f.a.setItem("HOME_WEATHER_TIME",(new Date).getTime()),m.a.getDataWithJsonp(i,o,e)}function d(e){return{type:h.b.HOME.GET_WEATHER_SUCCESS,resp:e}}t.d=r,t.a=a,t.c=i,t.b=u;var h=n(1),E=n(54),m=n(8),f=n(47)},function(e,t){},function(e,t,n){e.exports=n.p+"static/media/mine.47563c0c.png"},function(e,t,n){e.exports=n.p+"static/media/logo.4a182fa8.png"},function(e,t,n){e.exports=n.p+"static/media/banner-1.d1240d70.jpg"},function(e,t,n){e.exports=n.p+"static/media/banner-2.8f126beb.jpg"},function(e,t,n){e.exports=n.p+"static/media/banner-3.5dc72d9e.jpg"},function(e,t,n){e.exports=n.p+"static/media/index-hot-scenic.69de4a98.png"},function(e,t,n){e.exports=n.p+"static/media/index-rec-hotel.e5d0da29.png"},function(e,t,n){e.exports=n.p+"static/media/index-line.48a74517.png"},function(e,t,n){e.exports=n.p+"static/media/index-happy-amusement.fd9fd4aa.png"},function(e,t,n){e.exports=n.p+"static/media/index-life-service.ff911a83.png"},function(e,t,n){e.exports=n.p+"static/media/index-activity.f795fd73.png"},function(e,t,n){e.exports=n.p+"static/media/scenic.1016eb31.png"},function(e,t,n){e.exports=n.p+"static/media/food.7a830564.png"},function(e,t,n){e.exports=n.p+"static/media/stay.983d935c.png"},function(e,t,n){e.exports=n.p+"static/media/photo-4.283fd548.png"},function(e,t,n){e.exports=n.p+"static/media/photo-5.12cd2797.png"},function(e,t,n){e.exports=n.p+"static/media/photo-6.48cffdc5.png"},function(e,t,n){e.exports=n.p+"static/media/index-shopping.f7f0ec83.png"},function(e,t,n){e.exports=n.p+"static/media/index-travelagent.6b478954.png"},function(e,t,n){e.exports=n.p+"static/media/photo-7.92f4b80b.png"},function(e,t,n){e.exports=n.p+"static/media/photo-11.eb5fe22d.jpg"},function(e,t,n){e.exports=n.p+"static/media/photo-12.3134efa0.jpg"},function(e,t,n){e.exports=n.p+"static/media/photo-13.5a448da2.jpg"},function(e,t,n){e.exports=n.p+"static/media/map.26a32cdb.jpg"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(34),s=(n.n(o),n(35)),c=n.n(s),l=n(49),u=(n.n(l),n(50)),p=n.n(u),d=n(11),h=(n.n(d),n(12)),E=n.n(h),m=n(44),f=(n.n(m),n(45)),T=n.n(f),I=n(0),g=n.n(I),S=n(2),_=n(10),b=n(236),O=n(20),L=n(36),y=n.n(L),C=n(159),v=n(144),N=(n.n(v),n(23)),R=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),w=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.tabs=[{title:"\u7efc\u5408",tabIndex:0},{title:"\u8bc4\u5206",tabIndex:1},{title:"\u4ef7\u683c",tabIndex:2},{title:"\u8ddd\u79bb",tabIndex:3},{title:"\u6700\u65b0",tabIndex:4}],n.onItemClick=n.onItemClick.bind(n),n.goBack=n.goBack.bind(n),n}return i(t,e),R(t,[{key:"render",value:function(){var e=this,t=window.innerHeight-89,n=window.innerHeight-133,r=y.a.parse(this.props.location.search);return g.a.createElement("div",null,g.a.createElement(E.a,{mode:"dark",className:"navBar",leftContent:g.a.createElement(N.a,{ref:function(t){e.LeftContentView=t?t.getWrappedInstance():e.scrollView},goBackAction:C.d,history:this.props.history}),onLeftClick:function(){e.LeftContentView.goHome()}},r&&r.segment?g.a.createElement(T.a,{values:["\u975e\u4f4f\u4e0d\u53ef","\u5168\u90e8\u9152\u5e97"],tintColor:"white",selectedIndex:1,onValueChange:this.goBack}):"\u9152\u5e97\u5217\u8868"),g.a.createElement(_.a,null,g.a.createElement(p.a,{placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57",maxLength:20,value:this.props.keyword,onChange:function(t){e.updateKeyword(t)},onSubmit:function(t){e.updateKeyword(t),e.searchByKeyword(t)}}),g.a.createElement(c.a,{tabs:this.tabs,ref:function(e){return O.a.updateComponentHeight(e,t)},initialPage:this.props.selectedTabIndex,prerenderingSiblingsNumber:0,onChange:function(t,n){e.props.dispatch(Object(C.g)(n)),e.searchByKeyword(e.props.keyword,n)},onTabClick:function(e,t){console.log("onTabClick",t,e)}},this.tabs.map(function(t,r){return g.a.createElement(b.a,{key:r,ref:function(t){t&&(e.tabs[r].listView=t.getWrappedInstance())},onItemClick:e.onItemClick,tabIndex:t.tabIndex,height:n})}))))}},{key:"updateKeyword",value:function(e){this.props.dispatch(Object(C.e)(e))}},{key:"searchByKeyword",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;t=void 0===t?this.props.selectedTabIndex:t;var n=this.tabs[t].listView;n&&n.searchByKeyword(e)}},{key:"onItemClick",value:function(e){if(e){for(var t=0;t<this.tabs.length;t++){var n=this.tabs[t].listView;n&&n.cacheScrollOffset()}this.props.history.push("/hotel/detail/"+e.Code)}}},{key:"goBack",value:function(){var e=this.props.dispatch;this.props.history.goBack(),e(Object(C.d)())}}]),t}(I.PureComponent),D=function(e){return{selectedTabIndex:e.hotel.listScreen.selectedTabIndex,keyword:e.hotel.listScreen.keyword}};w=Object(S.b)(D)(w),t.a=w},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/icon_Sad@2x.0f1bdf63.png"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(42),s=(n.n(o),n(43)),c=n.n(s),l=n(110),u=(n.n(l),n(111)),p=n.n(u),d=n(16),h=(n.n(d),n(17)),E=n.n(h),m=n(11),f=(n.n(m),n(12)),T=n.n(f),I=n(0),g=n.n(I),S=n(2),_=n(56),b=n(14),O=n.n(b),L=n(10),y=n(531),C=(n(21),n(15)),v=n(1),N=n(83),R=n.n(N),w=n(41),D=n(61),A=n(144),k=(n.n(A),n(23)),P=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),F=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.showElementMarkerMap=n.showElementMarkerMap.bind(n),n.onDateChooserCancel=n.onDateChooserCancel.bind(n),n.onDateChooserConfirm=n.onDateChooserConfirm.bind(n),n.showDateChooser=n.showDateChooser.bind(n),n.showImageBrowser=n.showImageBrowser.bind(n),n.state={Score:0,HealthScore:0,InstallationScore:0,ServiceScore:0,EnvironmentScore:0,index:1,showDatePicker:!1,imageList:[]},n}return i(t,e),P(t,[{key:"componentDidMount",value:function(){this.props.detailItem?this.startScoreAnimation(this.props.detailItem):this.loadData(),this.restoreScrollViewPosition()}},{key:"componentDidUpdate",value:function(e,t,n){e.detailItem!==this.props.detailItem&&this.props.detailItem&&this.startScoreAnimation(this.props.detailItem)}},{key:"render",value:function(){var e=this;return g.a.createElement("div",null,g.a.createElement(T.a,{mode:"dark",className:"navBar",leftContent:g.a.createElement(k.a,{ref:function(t){e.LeftContentView=t?t.getWrappedInstance():e.scrollView},goBackAction:function(){return Object(y.c)(e.props.match.params.code)},history:this.props.history}),onLeftClick:function(){e.LeftContentView.goHome()}},"\u9152\u5e97\u8be6\u60c5"),g.a.createElement(L.a,{ref:function(t){e.scrollView=t?t.getWrappedInstance():e.scrollView}},this.renderHeaderView(),this.renderElementOperationView(),this.renderScoreView(),this.renderDateChooseRow(),this.renderRoomListView(),this.renderMapView(),this.renderBasicViews(),this.props.isFetching?g.a.createElement(E.a,{toast:!0,text:"Loading..."}):null,g.a.createElement(w.a,{ref:function(t){e.photoBrowserView=t?t.getWrappedInstance():e.scrollView}})),g.a.createElement(p.a,{type:"range",title:"\u8bf7\u9009\u62e9\u5165\u79bb\u65e5\u671f",locale:R.a,visible:this.state.showDatePicker,onCancel:this.onDateChooserCancel,onConfirm:this.onDateChooserConfirm,minDate:new Date,maxDate:(new Date).addDays(365)}))}},{key:"renderHeaderView",value:function(){if(!this.props.detailItem)return null;var e=C.a.getHotelStarCount(this.props.detailItem.HotelStarNo?this.props.detailItem.HotelStarNo:"0"),t=n(142),r=n(143);return"False"!==this.props.detailItem.IsCountryRate&&(t=n(108),r=n(109)),g.a.createElement("div",{className:"scenicDetailHeader",onClick:this.showImageBrowser},this.renderHeaderImages(),g.a.createElement("div",{className:"scenicDetailHeaderBottom"},g.a.createElement("div",{className:"scenicDetailHeaderBottomText"},this.props.detailItem.CnName),g.a.createElement("div",{className:"scenicDetailHeaderBottomView"},g.a.createElement("div",{className:"scenicDetailHeaderBottomStars"},Array(5).fill(0).map(function(n,a){return g.a.createElement("img",{key:a,className:"scenicDetailHeaderBottomStar",src:a<e?t:r,alt:""})})),g.a.createElement("div",{className:"scenicDetailHeaderBottomText"},this.state.index,"/",this.props.detailItem.GetImage&&this.props.detailItem.GetImage.ImageList?this.props.detailItem.GetImage.ImageList.length:1))))}},{key:"renderDateChooseRow",value:function(){if(!this.props.detailItem)return null;var e=(new Date).formatDate("YYYY-MM-DD"),t=(new Date).addDays(1).formatDate("YYYY-MM-DD");return this.props.startDate&&this.props.endDate&&(e=this.props.startDate,t=this.props.endDate),g.a.createElement("div",{className:"hotelDetailDateRow",onClick:this.showDateChooser},g.a.createElement("div",{className:"hotelDetailDateItem"},g.a.createElement("div",{className:"hotelDetailDateItemLabel"},"\u5165\u4f4f\u65f6\u95f4"),g.a.createElement("div",{className:"hotelDetailDateItemValue"},e)),g.a.createElement("div",{className:"hotelDetailDateSplit"}),g.a.createElement("div",{className:"hotelDetailDateItem"},g.a.createElement("div",{className:"hotelDetailDateItemLabel"},"\u9000\u623f\u65f6\u95f4"),g.a.createElement("div",{className:"hotelDetailDateItemValue"},t)))}},{key:"renderRoomListView",value:function(){var e=this;return this.props.roomList&&0!==this.props.roomList.length?this.props.roomList.map(function(t,n){return e.renderRoomItemView(t,n)}):null}},{key:"renderRoomItemView",value:function(e,t){var n=this;return g.a.createElement("div",{className:"hotelDetailRoomItemRow",key:t},g.a.createElement("div",{className:"hotelDetailRoomItemName"},e.CnName),g.a.createElement("div",{style:{flex:1}}),g.a.createElement("div",{className:"hotelDetailRoomItemPrice"},"\xa5",e.DefaultPrice),e.IsReserve?g.a.createElement("div",{className:"hotelDetailRoomItemBookingButton",onClick:function(){return n.bookingRoom(e)}},"\u9884\u8ba2"):null)}},{key:"bookingRoom",value:function(e){if(!this.props.isUserLogined)return void this.props.history.push("/me/login");var t=this.props.match.params.code;this.props.history.push({pathname:"/order/booking/"+t+"/"+e.Code+"/"+v.n.HOTEL,state:{startDate:this.props.startDate,endDate:this.props.endDate,hotelName:e.HotelName}})}},{key:"renderScoreView",value:function(){return this.props.detailItem?g.a.createElement("div",{className:"scenicScoreView"},g.a.createElement("div",{className:"scenicScoreCircle"},g.a.createElement(_.a,{percent:20*this.state.Score,strokeWidth:"6",trailWidth:"6",strokeColor:"#42a6dc",trailColor:"#f0f0f0"}),g.a.createElement("div",{className:"scenicScoreCircleTextBox"},g.a.createElement("div",{style:{flex:1}}),g.a.createElement("div",{className:"scenicScoreCircleTextSubBox"},g.a.createElement("div",{className:"scenicScoreCircleText"},this.state.Score.toFixed(1)),g.a.createElement("div",{className:"scenicScoreCircleUnit"},"\u5206")),g.a.createElement("div",{style:{flex:1}}))),g.a.createElement("div",{className:"scenicScoreLines"},g.a.createElement("div",{className:"scenicScoreLine"},g.a.createElement("div",{className:"scenicScoreLineLabel"},"\u536b\u751f"),g.a.createElement(_.b,{className:"scenicScoreLineProgress",percent:20*this.state.HealthScore,strokeWidth:"4",trailWidth:"4",strokeColor:"#42a6dc",trailColor:"#f0f0f0"})),g.a.createElement("div",{className:"scenicScoreLine"},g.a.createElement("div",{className:"scenicScoreLineLabel"},"\u8bbe\u65bd"),g.a.createElement(_.b,{className:"scenicScoreLineProgress",percent:20*this.state.InstallationScore,strokeWidth:"4",trailWidth:"4",strokeColor:"#42a6dc",trailColor:"#f0f0f0"})),g.a.createElement("div",{className:"scenicScoreLine"},g.a.createElement("div",{className:"scenicScoreLineLabel"},"\u670d\u52a1"),g.a.createElement(_.b,{className:"scenicScoreLineProgress",percent:20*this.state.ServiceScore,strokeWidth:"4",trailWidth:"4",strokeColor:"#42a6dc",trailColor:"#f0f0f0"})),g.a.createElement("div",{className:"scenicScoreLine"},g.a.createElement("div",{className:"scenicScoreLineLabel"},"\u73af\u5883"),g.a.createElement(_.b,{className:"scenicScoreLineProgress",percent:20*this.state.EnvironmentScore,strokeWidth:"4",trailWidth:"4",strokeColor:"#42a6dc",trailColor:"#f0f0f0"})))):null}},{key:"renderHeaderImages",value:function(){var e=this;return this.props.detailItem&&this.props.detailItem.GetImage&&this.props.detailItem.GetImage.ImageList&&0!==this.props.detailItem.GetImage.ImageList.length?g.a.createElement(c.a,{className:"scenicDetailHeaderImgSlider",afterChange:function(){return e.imageChage()},autoplay:!0,dots:!1,swiping:!0,infinite:!0,selectedIndex:0,swipeSpeed:35},this.props.detailItem.GetImage.ImageList.map(function(e,t){return g.a.createElement("div",{key:t,className:"scenicDetailHeaderImg",style:{backgroundImage:"url("+e.ImgSrc+")"}})})):null}},{key:"imageChage",value:function(){this.state.index===this.props.detailItem.GetImage.ImageList.length?this.setState({index:1}):this.setState({index:this.state.index+1})}},{key:"renderMapView",value:function(){var e=this;if(!this.props.detailItem||!this.props.detailItem.Longitude||!this.props.detailItem.Latitude)return null;var t=2*window.innerWidth,n="http://api.map.baidu.com/staticimage?width="+t+"&height=250&markers="+this.props.detailItem.Longitude+","+this.props.detailItem.Latitude+"&markerStyles=-1,http://oe72hu540.bkt.clouddn.com/ico_pin_blu.png";return g.a.createElement("img",{className:"scenicDetailMapImg",src:n,onClick:function(){return e.showElementMarkerMap()},alt:""})}},{key:"renderBasicViews",value:function(){var e=this;return this.props.detailItem?g.a.createElement("div",{className:"scenicDetailInfoRows"},g.a.createElement("div",{className:"scenicDetailInfoRow"},g.a.createElement("div",{className:"scenicDetailInfoLabel"},"\u5730\u5740"),g.a.createElement("div",{className:"scenicDetailInfoValue"},this.props.detailItem.Address)),this.props.detailItem.Telephone&&this.props.detailItem.Telephone.length>0?g.a.createElement("div",{className:"scenicDetailInfoRow"},g.a.createElement("div",{className:"scenicDetailInfoLabel"},"\u7535\u8bdd"),g.a.createElement("div",{className:"scenicDetailInfoPhoneRow",onClick:function(){return C.a.openTel(e.props.detailItem.Telephone)}},g.a.createElement("div",{className:"scenicDetailInfoValue"},this.props.detailItem.Telephone),g.a.createElement("div",{style:{flex:1}}),g.a.createElement("img",{className:"scenicDetailInfoPhone",src:n(62),alt:""}))):null,g.a.createElement("div",{className:"scenicDetailInfoRow"},g.a.createElement("div",{className:"scenicDetailInfoLabel"},"\u9152\u5e97\u7b80\u4ecb"),g.a.createElement("div",{className:"scenicDetailInfoValue scenicDetailMultDesc"},this.props.detailItem.Summary))):null}},{key:"loadData",value:function(){var e=this;this.props.dispatch(Object(y.a)(this.props.match.params.code)).then(function(){var t=(new Date).formatDate("YYYY-MM-DD"),n=(new Date).addDays(1).formatDate("YYYY-MM-DD");e.props.dispatch(Object(y.b)(e.props.match.params.code,t,n))})}},{key:"cacheScrollOffset",value:function(){var e=O.a.findDOMNode(this.scrollView).scrollTop;this.props.dispatch(Object(y.d)(this.props.match.params.code,e))}},{key:"restoreScrollViewPosition",value:function(){this.scrollView&&(isNaN(this.props.scrollViewOffset)?this.scrollView.scrollToY(0):this.scrollView.scrollToY(this.props.scrollViewOffset))}},{key:"startScoreAnimation",value:function(e){var t=this;setTimeout(function(){t.setState({Score:e.Score?e.Score:3,HealthScore:e.HealthScore?e.HealthScore:3,InstallationScore:e.InstallationScore?e.InstallationScore:3,ServiceScore:e.ServiceScore?e.ServiceScore:3,EnvironmentScore:e.EnvironmentScore?e.EnvironmentScore:3})},700)}},{key:"showElementMarkerMap",value:function(){this.cacheScrollOffset();var e=this.props.detailItem;this.props.history.push("/map/elementMarker/"+this.props.match.params.code+"/"+e.CnName+"/"+e.Address+"/"+e.Latitude+"/"+e.Longitude)}},{key:"onDateChooserCancel",value:function(){this.setState({showDatePicker:!1})}},{key:"onDateChooserConfirm",value:function(e,t){this.setState({showDatePicker:!1}),e&&t&&this.props.dispatch(Object(y.b)(this.props.match.params.code,e.formatDate("YYYY-MM-DD"),t.formatDate("YYYY-MM-DD")))}},{key:"showDateChooser",value:function(){this.setState({showDatePicker:!0})}},{key:"showImageBrowser",value:function(){if(!this.props.detailItem||!this.props.detailItem.GetImage||!this.props.detailItem.GetImage.ImageList||0===this.props.detailItem.GetImage.ImageList.length)return null;for(var e=[],t=0;t<this.props.detailItem.GetImage.ImageList.length;t++){var n=this.props.detailItem.GetImage.ImageList[t];e.push(n.ImgSrc.replace("Small","Large"))}this.photoBrowserView.open(e)}},{key:"renderElementOperationView",value:function(){var e=this;return this.props.detailItem?g.a.createElement(D.a,{code:this.props.match.params.code,onNearByTapped:function(){e.props.history.push({pathname:"/me/near-by",state:{centerLat:e.props.detailItem.Latitude,centerLng:e.props.detailItem.Longitude}})}}):null}}]),t}(I.PureComponent),U=function(e,t){var n=e.hotel.detailScreen[t.match.params.code];return Object.assign({},n,{isUserLogined:C.a.isUserLogined(e)})};F=Object(S.b)(U)(F),t.a=F},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return{type:m.b.HOTEL.DETAIL.GO_BACK,code:e}}function a(e){return function(t,n){return t(l(e)),s(e).then(function(n){n=n&&n.results&&n.results.length>0?n.results[0]:void 0,t(u(e,n))}).catch(function(n){t(p(e,n))})}}function i(e,t,n){return function(r,a){return r(d(e)),c(e,t,n).then(function(a){r(h(e,t,n,a?a.results:null))}).catch(function(t){r(E(e,t))})}}function o(e,t){return{type:m.b.HOTEL.DETAIL.SET_DETAIL_SCROLL_OFFSET,code:e,scrollViewOffset:t}}function s(e){var t={ConditionParams:{Params:{Code:e}}};return f.a.postToPortalWithUrl(f.a.HOST_E_BUSINESS,m.q.ELEMENTS.HotelDetail,t).then(function(e){return e.json()})}function c(e,t,n){var r={ConditionParams:{Params:{code:e,StartDate:t,EndDate:n}}};return f.a.postToPortalWithUrl(f.a.HOST_E_BUSINESS,m.q.ELEMENTS.HotelRoom,r).then(function(e){return e.json()})}function l(e){return{type:m.b.HOTEL.DETAIL.GET_DETAIL_REQUEST,code:e}}function u(e,t){return{type:m.b.HOTEL.DETAIL.GET_DETAIL_SUCCESS,code:e,detailItem:t}}function p(e,t){return{type:m.b.HOTEL.DETAIL.GET_DETAIL_FAILURE,code:e,message:t}}function d(e,t,n){return{type:m.b.HOTEL.DETAIL.GET_ROOM_LIST_REQUEST,code:e,data:{roomList:[],startDate:t,endDate:n}}}function h(e,t,n,r){return{type:m.b.HOTEL.DETAIL.GET_ROOM_LIST_SUCCESS,code:e,data:{roomList:r,startDate:t,endDate:n}}}function E(e,t){return{type:m.b.HOTEL.DETAIL.GET_ROOM_LIST_FAILURE,code:e,message:t}}t.c=r,t.a=a,t.b=i,t.d=o;var m=n(1),f=n(8)},function(e,t){},,,,,,function(e,t){},function(e,t,n){e.exports=n.p+"static/media/ico_surrond@2x.57bf1ffb.png"},function(e,t,n){e.exports=n.p+"static/media/ico_notice@2x.4de8bd98.png"},function(e,t,n){e.exports=n.p+"static/media/ico_collect_active@2x.2b9d2aaa.png"},function(e,t,n){e.exports=n.p+"static/media/ico_collect@2x.025ae291.png"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(11),s=(n.n(o),n(12)),c=n.n(s),l=n(44),u=(n.n(l),n(45)),p=n.n(u),d=n(0),h=n.n(d),E=n(2),m=n(10),f=n(544),T=n(246),I=n(144),g=(n.n(I),n(23)),S=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onItemClick=n.onItemClick.bind(n),n.showCommonList=n.showCommonList.bind(n),n}return i(t,e),S(t,[{key:"render",value:function(){var e=this,t=window.innerHeight-45;return h.a.createElement("div",null,h.a.createElement(c.a,{mode:"dark",className:"navBar",leftContent:h.a.createElement(g.a,{ref:function(t){e.LeftContentView=t?t.getWrappedInstance():e.scrollView},goBackAction:T.c,history:this.props.history}),onLeftClick:function(){e.LeftContentView.goHome()}},h.a.createElement(p.a,{values:["\u975e\u4f4f\u4e0d\u53ef","\u5168\u90e8\u9152\u5e97"],tintColor:"white",selectedIndex:0,onValueChange:this.showCommonList})),h.a.createElement(m.a,null,h.a.createElement(f.a,{ref:function(t){t&&(e.listView=t.getWrappedInstance())},onItemClick:this.onItemClick,height:t})))}},{key:"onItemClick",value:function(e){e&&e.GetRelation&&e.GetRelation.Code&&(this.listView&&this.listView.cacheScrollOffset(),this.props.history.push("/hotel/detail/"+e.GetRelation.Code))}},{key:"showCommonList",value:function(){this.listView&&this.listView.cacheScrollOffset(),this.props.history.push("/hotel/list?segment=true")}}]),t}(d.PureComponent);_=Object(E.b)()(_),t.a=_},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(24),s=(n.n(o),n(25)),c=n.n(s),l=n(16),u=(n.n(l),n(17)),p=n.n(u),d=n(26),h=(n.n(d),n(27)),E=n.n(h),m=n(0),f=n.n(m),T=n(2),I=n(9),g=n.n(I),S=n(14),_=n.n(S),b=n(246),O=n(20),L=n(15),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),C=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.renderRow=n.renderRow.bind(n),n.onRefresh=n.onRefresh.bind(n);var i=new E.a.DataSource({rowHasChanged:function(e,t){return e!==t},sectionHeaderHasChanged:function(e,t){return e!==t}});return n.state={dataSource:i.cloneWithRows(n.props.dataList?n.props.dataList:[])},n}return i(t,e),y(t,[{key:"componentDidMount",value:function(){this.props.dataList||this.loadData(),this.listView&&!isNaN(this.props.listViewOffset)&&this.listView.scrollTo(0,this.props.listViewOffset)}},{key:"componentDidUpdate",value:function(e,t,n){this.props.dataList!==e.dataList&&this.setState({dataSource:this.state.dataSource.cloneWithRows(this.props.dataList?this.props.dataList:[])})}},{key:"render",value:function(){return f.a.createElement("div",{className:"scenicListBox",style:{height:this.props.height}},this.renderListView(),this.props.isFetching?f.a.createElement(p.a,{toast:!0,text:"Loading..."}):null)}},{key:"renderListView",value:function(){var e=this;if(this.props.dataList&&this.props.dataList.length>=0){var t=function(e,t){return f.a.createElement("div",{key:e+"-"+t,style:{height:"5px",backgroundColor:"#2d2327"}})};return f.a.createElement(E.a,{ref:function(t){e.listView=t,O.a.fixListViewHeightIssue(t,e.props.height)},dataSource:this.state.dataSource,renderRow:this.renderRow,renderSeparator:t,style:{height:this.props.height,overflow:"auto"},pullToRefresh:f.a.createElement(c.a,{refreshing:this.props.isFetching,onRefresh:this.onRefresh}),initialListSize:this.props.dataList.length,pageSize:20,scrollRenderAheadDistance:500,scrollEventThrottle:50,onEndReachedThreshold:20})}}},{key:"isEmptyString",value:function(e){return!e||0===e.length}},{key:"onRefresh",value:function(){var e=this;this.props.dispatch(Object(b.a)()).then(function(){e.loadData()})}},{key:"renderRow",value:function(e,t,r){var a=this,i=L.a.getHotelStarCount(e.GetRelation&&e.GetRelation.HotelStart?e.GetRelation.HotelStart:"0"),o=n(142),s=n(143);"0"!==(e.GetRelation&&e.GetRelation.IsCountryRate?e.GetRelation.IsCountryRate:"0")&&(o=n(108),s=n(109));var c=e.GetImage&&e.GetImage.MiddleImageFrontUrl?e.GetImage.MiddleImageFrontUrl:"";return c=c&&c.length>0&&c.indexOf("noPicture")<0?c:e.GetRelation&&e.GetRelation.GetImage&&e.GetRelation.GetImage.MiddleImageFrontUrl?e.GetRelation.GetImage.MiddleImageFrontUrl:"",f.a.createElement("div",{key:r,className:"scenicRecommendListItemBox",onClick:function(){a.props.onItemClick&&a.props.onItemClick(e)}},f.a.createElement("div",{className:"scenicRecommendListItemBg",style:{backgroundImage:"url("+c+")"}},f.a.createElement("div",{className:"scenicRecommendListBottom"},f.a.createElement("div",{className:"hotelRecommendListBottomText"},e.Head),f.a.createElement("div",{className:"hotelRecommendListBottomStars"},Array(5).fill(0).map(function(e,t){return f.a.createElement("img",{key:t,className:"scenicDetailHeaderBottomStar",src:t<i?o:s,alt:""})})))))}},{key:"loadData",value:function(){this.props.isFetching||this.props.dispatch(Object(b.b)())}},{key:"cacheScrollOffset",value:function(){if(this.listView){var e=_.a.findDOMNode(this.listView).scrollTop;this.props.dispatch(Object(b.d)(e))}}}]),t}(m.PureComponent);C.propTypes={onItemClick:g.a.func};var v=function(e){return Object.assign({},e.hotel.recommendListScreen)};C=Object(T.b)(v,null,null,{withRef:!0})(C),t.a=C},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(34),s=(n.n(o),n(35)),c=n.n(s),l=n(11),u=(n.n(l),n(12)),p=n.n(u),d=n(0),h=n.n(d),E=n(2),m=n(10),f=n(247),T=n(149),I=n(113),g=(n.n(I),n(23)),S=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.tabs=[{title:"\u65c5\u6e38\u65b0\u95fb",idKey:"know/dynamic/news"},{title:"\u8282\u5e86\u65b0\u95fb",idKey:"know/dynamic/FestivalNews"}],n.onItemClick=n.onItemClick.bind(n),n}return i(t,e),S(t,[{key:"render",value:function(){var e=this,t=window.innerHeight-89;return h.a.createElement("div",null,h.a.createElement(p.a,{mode:"dark",className:"navBar",leftContent:h.a.createElement(g.a,{ref:function(t){e.LeftContentView=t?t.getWrappedInstance():e.scrollView},goBackAction:T.c,history:this.props.history}),onLeftClick:function(){e.LeftContentView.goHome()}},"\u65c5\u6e38\u52a8\u6001"),h.a.createElement(m.a,null,h.a.createElement(c.a,{tabs:this.tabs,initialPage:this.props.selectedTabIndex,prerenderingSiblingsNumber:0,onChange:function(t,n){e.props.dispatch(Object(T.f)(n))},onTabClick:function(e,t){console.log("onTabClick",t,e)}},this.tabs.map(function(n,r){return h.a.createElement(f.a,{key:r,idKey:n.idKey,ref:function(t){t&&(e.tabs[r].listView=t.getWrappedInstance())},onItemClick:function(t){e.onItemClick(t,n.idKey)},height:t})}))))}},{key:"onItemClick",value:function(e,t){if(e){for(var n=0;n<this.tabs.length;n++){var r=this.tabs[n].listView;r&&r.cacheScrollOffset()}var a=this.props.dispatch;this.props.history.push(this.props.match.url+"/detail/"+e.ContentCode),a(Object(T.d)(t,e.ContentCode))}}}]),t}(d.PureComponent),b=function(e){return{selectedTabIndex:e.news.listScreen.selectedTabIndex}};_=Object(E.b)(b)(_),t.a=_},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(11),s=(n.n(o),n(12)),c=n.n(s),l=n(0),u=n.n(l),p=n(2),d=n(36),h=n.n(d),E=n(10),m=n(247),f=n(149),T=n(113),I=(n.n(T),n(23)),g=n(70),S=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.newsKeys={"know/union":"\u5feb\u4e50\u8054\u76df","know/ConvenientTourist":"\u4fbf\u5ba2\u7a7a\u95f4"},n.onItemClick=n.onItemClick.bind(n);var i=h.a.parse(n.props.location.search);return n.key=i.key,n}return i(t,e),S(t,[{key:"componentDidMount",value:function(){this.updateNativeTitle(this.newsKeys[this.key])}},{key:"render",value:function(){var e=this,t=window.innerHeight-(this.props.isFromNativeApp?0:45);return u.a.createElement("div",{className:this.props.isFromNativeApp?"isFromNativeApp":null},this.props.isFromNativeApp?null:u.a.createElement(c.a,{mode:"dark",className:"navBar",leftContent:u.a.createElement(I.a,{ref:function(t){e.LeftContentView=t?t.getWrappedInstance():e.scrollView},goBackAction:f.c,history:this.props.history}),onLeftClick:function(){e.LeftContentView.goHome()}},this.newsKeys[this.key]),u.a.createElement(E.a,null,u.a.createElement(m.a,{idKey:this.key,ref:function(t){t&&(e.listView=t.getWrappedInstance())},onItemClick:this.onItemClick,height:t})))}},{key:"onItemClick",value:function(e){if(e){this.listView&&this.listView.cacheScrollOffset();var t=this.props.dispatch;this.props.history.push("/news/detail/"+e.ContentCode),t(Object(f.d)(this.key,e.ContentCode))}}}]),t}(g.a),b=function(e,t){return{isFromNativeApp:e.native.isFromNativeApp}};_=Object(p.b)(b)(_),t.a=_},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(16),s=(n.n(o),n(17)),c=n.n(s),l=n(11),u=(n.n(l),n(12)),p=n.n(u),d=n(0),h=n.n(d),E=n(2),m=n(10),f=n(70),T=n(548),I=n(113),g=(n.n(I),n(1)),S=n(23),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),_(t,[{key:"componentDidMount",value:function(){this.updateNativeTitle("\u8be6\u60c5"),this.loadData()}},{key:"componentDidUpdate",value:function(e,t,n){this.props.isFromNativeApp&&!e.isNativeAppReady&&this.props.isNativeAppReady&&this.sendMessageToNative(g.i.SHOW_SHARE,{isShowShare:!0,url:window.location.href})}},{key:"render",value:function(){var e=this;return h.a.createElement("div",{className:this.props.isFromNativeApp?"isFromNativeApp":null},this.props.isFromNativeApp?null:h.a.createElement(p.a,{mode:"dark",className:"navBar",leftContent:h.a.createElement(S.a,{ref:function(t){e.LeftContentView=t?t.getWrappedInstance():e.scrollView},goBackAction:function(){return Object(T.b)(e.props.match.params.code)},history:this.props.history}),onLeftClick:function(){e.LeftContentView.goHome()}},"\u8be6\u60c5"),h.a.createElement(m.a,{ref:function(t){e.scrollView=t?t.getWrappedInstance():e.scrollView}},this.renderHeaderView(),this.renderContentView(),this.props.isFetching?h.a.createElement(c.a,{toast:!0,text:"Loading..."}):null))}},{key:"renderHeaderView",value:function(){return this.props.detailItem?h.a.createElement("div",null,h.a.createElement("div",{className:"newsDetailHeaderRow"},h.a.createElement("div",{className:"newsDetailHeaderName"},this.props.detailItem.Head),h.a.createElement("div",{className:"newsListSecondRow"},h.a.createElement("img",{className:"newsListIcon",src:n(99),alt:""}),h.a.createElement("div",{className:"newsListItemOthers"},this.props.detailItem.CreateDate),h.a.createElement("div",{style:{flex:1}}),h.a.createElement("img",{className:"newsListIcon",src:n(80),alt:""}),h.a.createElement("div",{className:"newsListItemOthers"},this.props.detailItem.ClickCount))),h.a.createElement("div",{className:"newsDetailSplitLine"})):null}},{key:"renderContentView",value:function(){return this.props.detailItem?h.a.createElement("div",{className:"newsDetailHtml",dangerouslySetInnerHTML:{__html:this.props.detailItem.content}}):null}},{key:"loadData",value:function(){this.props.dispatch(Object(T.a)(this.props.match.params.code))}}]),t}(f.a),O=function(e,t){var n=e.news.detailScreen[t.match.params.code];return Object.assign({},n,{isFromNativeApp:e.native.isFromNativeApp,isNativeAppReady:e.native.isNativeAppReady})};b=Object(E.b)(O)(b),t.a=b},function(e,t,n){"use strict";function r(e){return{type:l.b.NEWS.DETAIL.GO_BACK,code:e}}function a(e){return function(t,n){return t(o(e)),i(e).then(function(n){n=n&&n.results&&n.results.length>0?n.results[0]:n,t(s(e,n))}).catch(function(n){t(c(e,n))})}}function i(e){var t={ContentCode:e};return u.a.getFromPortal(l.q.NEWS.DETAIL,t).then(function(e){return e.json()})}function o(e){return{type:l.b.NEWS.DETAIL.GET_DETAIL_REQUEST,code:e}}function s(e,t){return{type:l.b.NEWS.DETAIL.GET_DETAIL_SUCCESS,code:e,detailItem:t}}function c(e,t){return{type:l.b.NEWS.DETAIL.GET_DETAIL_FAILURE,code:e,message:t}}t.b=r,t.a=a;var l=n(1),u=n(8)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(34),s=(n.n(o),n(35)),c=n.n(s),l=n(11),u=(n.n(l),n(12)),p=n.n(u),d=n(18),h=(n.n(d),n(19)),E=n.n(h),m=n(0),f=n.n(m),T=n(2),I=n(10),g=n(550),S=n(248),_=n(113),b=(n.n(_),n(1)),O=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),L=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.tabs=[{title:"\u8282\u5e86\u6d3b\u52a8",idKey:b.f.FESTIVAL_JIEQINGHUOD},{title:"\u8d5b\u4e8b",idKey:b.f.FESTIVAL_SAISHI},{title:"\u4f1a\u5c55",idKey:b.f.FESTIVAL_HUIZHAN},{title:"\u6f14\u51fa",idKey:b.f.FESTIVAL_YANCHU}],n.onItemClick=n.onItemClick.bind(n),n}return i(t,e),O(t,[{key:"render",value:function(){var e=this,t=this.props.isFromNativeApp?0:45,n=this.props.isFromNativeApp?window.innerHeight-44:window.innerHeight-(44+t);return f.a.createElement("div",{className:this.props.isFromNativeApp?"isFromNativeApp":null},this.props.isFromNativeApp?null:f.a.createElement(p.a,{mode:"dark",className:"navBar",icon:f.a.createElement(E.a,{type:"left"}),onLeftClick:function(){var t=e.props.dispatch;e.props.history.goBack(),t(Object(S.c)())}},"\u8282\u5e86\u6d3b\u52a8"),f.a.createElement(I.a,null,f.a.createElement(c.a,{tabs:this.tabs,initialPage:this.props.selectedTabIndex,prerenderingSiblingsNumber:0,onChange:function(t,n){e.props.dispatch(Object(S.e)(n))},onTabClick:function(e,t){console.log("onTabClick",t,e)}},this.tabs.map(function(t,r){return f.a.createElement(g.a,{key:r,idKey:t.idKey,ref:function(t){t&&(e.tabs[r].listView=t.getWrappedInstance())},onItemClick:e.onItemClick,height:n})}))))}},{key:"onItemClick",value:function(e){if(e){for(var t=0;t<this.tabs.length;t++){var n=this.tabs[t].listView;n&&n.cacheScrollOffset()}this.props.history.push(this.props.match.url+"/detail/"+e.Code)}}}]),t}(m.PureComponent),y=function(e){return{selectedTabIndex:e.festivalNews.listScreen.selectedTabIndex,isFromNativeApp:e.native.isFromNativeApp}};L=Object(T.b)(y)(L),t.a=L},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(24),s=(n.n(o),n(25)),c=n.n(s),l=n(16),u=(n.n(l),n(17)),p=n.n(u),d=n(26),h=(n.n(d),n(27)),E=n.n(h),m=n(0),f=n.n(m),T=n(2),I=n(9),g=n.n(I),S=n(14),_=n.n(S),b=n(248),O=n(20),L=n(32),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),C=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.renderRow=n.renderRow.bind(n),n.onRefresh=n.onRefresh.bind(n),n.loadNextPage=n.loadNextPage.bind(n),n.renderFooter=n.renderFooter.bind(n);var i=new E.a.DataSource({rowHasChanged:function(e,t){return e!==t},sectionHeaderHasChanged:function(e,t){return e!==t}});return n.state={dataSource:i.cloneWithRows(n.props.dataList?n.props.dataList:[])},n}return i(t,e),y(t,[{key:"componentDidMount",value:function(){this.props.dataList||this.loadData(this.props.idKey),this.listView&&!isNaN(this.props.listViewOffset)&&this.listView.scrollTo(0,this.props.listViewOffset)}},{key:"componentDidUpdate",value:function(e,t,n){this.props.dataList!==e.dataList&&this.setState({dataSource:this.state.dataSource.cloneWithRows(this.props.dataList?this.props.dataList:[])})}},{key:"render",value:function(){return f.a.createElement("div",{className:"scenicListBox",style:{height:this.props.height}},this.renderListView(),this.props.isFetching||this.props.dataList&&0!==this.props.dataList.length?null:f.a.createElement(L.a,{style:{height:this.props.height},onClick:this.onRefresh}),this.props.isFetching&&1===this.props.pageIndex?f.a.createElement(p.a,{toast:!0,text:"Loading..."}):null)}},{key:"renderListView",value:function(){var e=this;if(this.props.dataList&&this.props.dataList.length>0){var t=function(e,t){return f.a.createElement("div",{key:e+"-"+t,style:{height:1,borderBottom:"0.5px solid #dddddd"}})};return f.a.createElement(E.a,{ref:function(t){e.listView=t,O.a.fixListViewHeightIssue(t,e.props.height)},dataSource:this.state.dataSource,renderRow:this.renderRow,renderSeparator:t,style:{height:this.props.height,overflow:"auto"},pullToRefresh:f.a.createElement(c.a,{refreshing:this.props.isFetching,onRefresh:this.onRefresh}),onEndReached:this.loadNextPage,renderFooter:this.renderFooter,initialListSize:this.props.dataList.length,pageSize:20,scrollRenderAheadDistance:500,scrollEventThrottle:50,onEndReachedThreshold:20})}}},{key:"isEmptyString",value:function(e){return!e||0===e.length}},{key:"onRefresh",value:function(){var e=this;this.props.dispatch(Object(b.a)(this.props.idKey)).then(function(){e.loadData()})}},{key:"loadNextPage",value:function(){this.loadData()}},{key:"renderFooter",value:function(){return this.props.isFetching&&!0===this.props.hasMore?f.a.createElement("div",{className:"loadingMore"},f.a.createElement(p.a,{text:"Loading..."})):null}},{key:"renderRow",value:function(e,t,r){var a=this,i=e.GetImage&&e.GetImage.SmallImageFrontUrl?e.GetImage.SmallImageFrontUrl:"",o=e.HOLDTIME;return f.a.createElement("div",{key:r,className:"newsListItem",onClick:function(){a.props.onItemClick&&a.props.onItemClick(e)}},f.a.createElement("div",{style:{backgroundImage:"url("+i+")"},className:"scenicListItemImg"}),f.a.createElement("div",{className:"newsListItemTextBox"},f.a.createElement("div",{className:"scenicListItemName"},e.CNNAME),f.a.createElement("div",{className:"newsListItemOthers newsListItemLongText",style:{WebkitBoxOrient:"vertical"}},e.SUMMARY),f.a.createElement("div",{className:"festivalNewsListSecondRow"},f.a.createElement("img",{className:"newsListIcon",src:n(99),alt:""}),f.a.createElement("div",{className:"newsListItemOthers"},o))))}},{key:"loadData",value:function(){if(!this.props.isFetching&&!1!==this.props.hasMore){var e=this.props.pageIndex?this.props.pageIndex+1:1;this.props.dispatch(Object(b.b)(this.props.idKey,e))}}},{key:"cacheScrollOffset",value:function(){if(this.listView){var e=_.a.findDOMNode(this.listView).scrollTop;this.props.dispatch(Object(b.d)(this.props.idKey,e))}}}]),t}(m.PureComponent);C.propTypes={onItemClick:g.a.func};var v=function(e,t){var n=e.festivalNews.listScreen.groups[t.idKey];return Object.assign({},n)};C=Object(T.b)(v,null,null,{withRef:!0})(C),t.a=C},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(42),s=(n.n(o),n(43)),c=n.n(s),l=n(16),u=(n.n(l),n(17)),p=n.n(u),d=n(11),h=(n.n(d),n(12)),E=n.n(h),m=n(0),f=n.n(m),T=n(2),I=n(10),g=n(552),S=n(70),_=n(553),b=(n.n(_),n(1)),O=n(23),L=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),L(t,[{key:"componentDidMount",value:function(){this.loadData(),this.props.isNativeAppReady&&this.sendMessageToNative(b.i.SHOW_SHARE,{isShowShare:!0,url:window.location.href})}},{key:"componentDidUpdate",value:function(e,t,n){!e.isNativeAppReady&&this.props.isNativeAppReady&&this.sendMessageToNative(b.i.SHOW_SHARE,{isShowShare:!0,url:window.location.href})}},{key:"render",value:function(){var e=this;return f.a.createElement("div",{className:this.props.isFromNativeApp?"isFromNativeApp":null},this.props.isFromNativeApp?null:f.a.createElement(E.a,{mode:"dark",className:"navBar",leftContent:f.a.createElement(O.a,{ref:function(t){e.LeftContentView=t?t.getWrappedInstance():e.scrollView},goBackAction:function(){return Object(g.b)(e.props.match.params.code)},history:this.props.history}),onLeftClick:function(){e.LeftContentView.goHome()}},"\u8be6\u60c5"),f.a.createElement(I.a,{ref:function(t){e.scrollView=t?t.getWrappedInstance():e.scrollView}},this.renderHeaderImages(),this.renderHeaderView(),this.renderContentView(),this.props.isFetching?f.a.createElement(p.a,{toast:!0,text:"Loading..."}):null))}},{key:"renderHeaderImages",value:function(){return this.props.detailItem&&this.props.detailItem.GetImage&&this.props.detailItem.GetImage.ImageList&&0!==this.props.detailItem.GetImage.ImageList.length?f.a.createElement(c.a,{className:"scenicDetailHeaderImgSlider",autoplay:!0,dots:!0,swiping:!0,infinite:!0,selectedIndex:0,swipeSpeed:35},this.props.detailItem.GetImage.ImageList.map(function(e,t){return f.a.createElement("div",{key:t,className:"scenicDetailHeaderImg",style:{backgroundImage:"url("+e.MiddleImgSrc+")"}})})):null}},{key:"renderHeaderView",value:function(){return this.props.detailItem?f.a.createElement("div",null,f.a.createElement("div",{className:"newsDetailHeaderRow"},f.a.createElement("div",{className:"festivalNewsDetailHeaderName"},this.props.detailItem.CNNAME),f.a.createElement("div",{className:"festivalNewsOthers"},"\u6d3b\u52a8\u65f6\u95f4\uff1a",this.props.detailItem.HOLDTIME),f.a.createElement("div",{className:"festivalNewsOthers"},"\u6d3b\u52a8\u5730\u70b9\uff1a",this.props.detailItem.ADDRESS),f.a.createElement("div",{className:"festivalNewsOthers"},"\u6d3b\u52a8\u4e3b\u9898\uff1a",this.props.detailItem.SUBJECT),f.a.createElement("div",{className:"festivalNewsOthers"},"\u4e3e\u529e\u5355\u4f4d\uff1a",this.props.detailItem.ORGANIZER)),f.a.createElement("div",{className:"newsDetailSplitLine"})):null}},{key:"renderContentView",value:function(){return this.props.detailItem?f.a.createElement("div",{className:"newsDetailHtml"},this.props.detailItem.SUMMARY):null}},{key:"loadData",value:function(){this.props.dispatch(Object(g.a)(this.props.match.params.code))}}]),t}(S.a),C=function(e,t){var n=e.festivalNews.detailScreen[t.match.params.code];return Object.assign({},n,{isFromNativeApp:e.native.isFromNativeApp,isNativeAppReady:e.native.isNativeAppReady})};y=Object(T.b)(C)(y),t.a=y},function(e,t,n){"use strict";function r(e){return{type:l.b.FESTIVAL_NEWS.DETAIL.GO_BACK,code:e}}function a(e){return function(t,n){return t(o(e)),i(e).then(function(n){n=n&&n.results&&n.results.length>0?n.results[0]:n,t(s(e,n))}).catch(function(n){t(c(e,n))})}}function i(e){var t={Code:e};return u.a.postToPortal(l.q.ELEMENTS.FestivalDetail,t,null,!0).then(function(e){return e.json()})}function o(e){return{type:l.b.FESTIVAL_NEWS.DETAIL.GET_DETAIL_REQUEST,code:e}}function s(e,t){return{type:l.b.FESTIVAL_NEWS.DETAIL.GET_DETAIL_SUCCESS,code:e,detailItem:t}}function c(e,t){return{type:l.b.FESTIVAL_NEWS.DETAIL.GET_DETAIL_FAILURE,code:e,message:t}}t.b=r,t.a=a;var l=n(1),u=n(8)},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(34),s=(n.n(o),n(35)),c=n.n(s),l=n(49),u=(n.n(l),n(50)),p=n.n(u),d=n(11),h=(n.n(d),n(12)),E=n.n(h),m=n(0),f=n.n(m),T=n(2),I=n(10),g=n(555),S=n(20),_=n(249),b=n(250),O=(n.n(b),n(23)),L=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.tabs=[{title:"\u7efc\u5408",tabIndex:0},{title:"\u8bc4\u5206",tabIndex:1},{title:"\u4ef7\u683c",tabIndex:2},{title:"\u6700\u65b0",tabIndex:3}],n.onItemClick=n.onItemClick.bind(n),n}return i(t,e),L(t,[{key:"render",value:function(){var e=this,t=window.innerHeight-89,n=window.innerHeight-133;return f.a.createElement("div",null,f.a.createElement(E.a,{mode:"dark",className:"navBar",leftContent:f.a.createElement(O.a,{ref:function(t){e.LeftContentView=t?t.getWrappedInstance():e.scrollView},goBackAction:_.c,history:this.props.history}),onLeftClick:function(){e.LeftContentView.goHome()}},"\u7ebf\u8def\u5217\u8868"),f.a.createElement(I.a,null,f.a.createElement(p.a,{placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57",maxLength:20,value:this.props.keyword,onChange:function(t){e.updateKeyword(t)},onSubmit:function(t){e.updateKeyword(t),e.searchByKeyword(t)}}),f.a.createElement(c.a,{tabs:this.tabs,ref:function(e){return S.a.updateComponentHeight(e,t)},initialPage:this.props.selectedTabIndex,prerenderingSiblingsNumber:0,onChange:function(t,n){e.props.dispatch(Object(_.f)(n)),e.searchByKeyword(e.props.keyword,n)},onTabClick:function(e,t){console.log("onTabClick",t,e)}},this.tabs.map(function(t,r){return f.a.createElement(g.a,{key:r,ref:function(t){t&&(e.tabs[r].listView=t.getWrappedInstance())},onItemClick:e.onItemClick,tabIndex:t.tabIndex,height:n})}))))}},{key:"updateKeyword",value:function(e){this.props.dispatch(Object(_.d)(e))}},{key:"searchByKeyword",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;t=void 0===t?this.props.selectedTabIndex:t;var n=this.tabs[t].listView;n&&n.searchByKeyword(e)}},{key:"onItemClick",value:function(e){if(e){for(var t=0;t<this.tabs.length;t++){var n=this.tabs[t].listView;n&&n.cacheScrollOffset()}this.props.history.push(this.props.match.url+"/detail/"+e.Code)}}}]),t}(m.PureComponent),C=function(e){return{selectedTabIndex:e.line.listScreen.selectedTabIndex,keyword:e.line.listScreen.keyword}};y=Object(T.b)(C)(y),t.a=y},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(24),s=(n.n(o),n(25)),c=n.n(s),l=n(16),u=(n.n(l),n(17)),p=n.n(u),d=n(26),h=(n.n(d),n(27)),E=n.n(h),m=n(0),f=n.n(m),T=n(2),I=n(9),g=n.n(I),S=n(14),_=n.n(S),b=n(249),O=n(32),L=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=["Sort","ScoreSort","PriceOrder","ModifyTime"],C=["desc","desc","asc","desc"],v=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.renderRow=n.renderRow.bind(n),n.onRefresh=n.onRefresh.bind(n),n.loadNextPage=n.loadNextPage.bind(n),n.renderFooter=n.renderFooter.bind(n);var i=new E.a.DataSource({rowHasChanged:function(e,t){return e!==t},sectionHeaderHasChanged:function(e,t){return e!==t}});return n.state={dataSource:i.cloneWithRows(n.props.dataList?n.props.dataList:[])},n}return i(t,e),L(t,[{key:"componentDidMount",value:function(){this.props.dataList||this.loadData(this.props.inputKeyword),this.listView&&!isNaN(this.props.listViewOffset)&&this.listView.scrollTo(0,this.props.listViewOffset)}},{key:"componentDidUpdate",value:function(e,t,n){this.props.dataList!==e.dataList&&this.setState({dataSource:this.state.dataSource.cloneWithRows(this.props.dataList?this.props.dataList:[])})}},{key:"render",value:function(){var e=this;return f.a.createElement("div",{className:"scenicListBox",style:{height:this.props.height}},this.renderListView(),this.props.isFetching||this.props.dataList&&0!==this.props.dataList.length?null:f.a.createElement(O.a,{style:{height:this.props.height},onClick:function(){return e.onRefresh(e.props.inputKeyword)}}),this.props.isFetching&&0===this.props.pageIndex?f.a.createElement(p.a,{toast:!0,text:"Loading..."}):null)}},{key:"renderListView",value:function(){var e=this;if(this.props.dataList&&this.props.dataList.length>0){var t=function(e,t){return f.a.createElement("div",{key:e+"-"+t,style:{height:1,borderBottom:"0.5px solid #dddddd"}})};return f.a.createElement(E.a,{ref:function(t){return e.listView=t},dataSource:this.state.dataSource,renderRow:this.renderRow,renderSeparator:t,style:{height:this.props.height,overflow:"auto"},pullToRefresh:f.a.createElement(c.a,{refreshing:this.props.isFetching,onRefresh:this.onRefresh}),onEndReached:this.loadNextPage,renderFooter:this.renderFooter,initialListSize:this.props.dataList.length,pageSize:20,scrollRenderAheadDistance:500,scrollEventThrottle:50,onEndReachedThreshold:20})}}},{key:"searchByKeyword",value:function(e){e===this.props.keyword||this.isEmptyString(e)&&this.isEmptyString(this.props.keyword)||this.onRefresh(e)}},{key:"isEmptyString",value:function(e){return!e||0===e.length}},{key:"onRefresh",value:function(e){var t=this;this.props.dispatch(Object(b.a)(y[this.props.tabIndex],C[this.props.tabIndex])).then(function(){t.loadData(e)})}},{key:"loadNextPage",value:function(){this.loadData()}},{key:"renderFooter",value:function(){return this.props.isFetching&&!0===this.props.hasMore?f.a.createElement("div",{className:"loadingMore"},f.a.createElement(p.a,{text:"Loading..."})):null}},{key:"renderRow",value:function(e,t,n){var r=this,a=e.GetImage?e.GetImage.ImageFrontUrl:"",i=e.Price<=0?"\u514d\u8d39":"\xa5"+e.Price+"\u8d77/\u4eba";return f.a.createElement("div",{key:n,className:"scenicListItem",onClick:function(){r.props.onItemClick&&r.props.onItemClick(e)}},f.a.createElement("div",{style:{backgroundImage:"url("+a+")"},className:"scenicListItemImg"}),f.a.createElement("div",{className:"scenicListItemTextBox"},f.a.createElement("div",{className:"lineListItemName"},e.CnName),f.a.createElement("div",{className:"lineListTravelName"},e.TravelName),f.a.createElement("div",{className:"lineListTrafficDayRow"},f.a.createElement("div",{className:"scenicListItemOthers"},e.Characterystic),f.a.createElement("div",{style:{flex:1}}),f.a.createElement("div",{className:"scenicListItemOthers"},e.DaysType,"\u5929")),f.a.createElement("div",{className:"lineListTrafficDayRow"},f.a.createElement("div",{className:"scenicListItemOthers"},e.Score,"\u5206"),f.a.createElement("div",{style:{flex:1}}),f.a.createElement("div",{className:"scenicListItemOthers"},i))))}},{key:"loadData",value:function(e){if(!this.props.isFetching&&!1!==this.props.hasMore){var t=this.props.pageIndex>=0?this.props.pageIndex+1:0;this.props.dispatch(Object(b.b)(y[this.props.tabIndex],C[this.props.tabIndex],t,e||this.props.keyword))}}},{key:"cacheScrollOffset",value:function(){var e=_.a.findDOMNode(this.listView).scrollTop;this.props.dispatch(Object(b.e)(y[this.props.tabIndex],C[this.props.tabIndex],e))}}]),t}(m.PureComponent);v.propTypes={onItemClick:g.a.func};var N=function(e,t){var n=e.line.listScreen.groups[y[t.tabIndex]];return Object.assign({selectedTabIndex:e.line.listScreen.selectedTabIndex},n,{inputKeyword:e.line.listScreen.keyword})};v=Object(T.b)(N,null,null,{withRef:!0})(v),t.a=v},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(42),s=(n.n(o),n(43)),c=n.n(s),l=n(16),u=(n.n(l),n(17)),p=n.n(u),d=n(11),h=(n.n(d),n(12)),E=n.n(h),m=n(0),f=n.n(m),T=n(2),I=n(56),g=n(14),S=n.n(g),_=n(10),b=n(1),O=n(15),L=n(557),y=n(250),C=(n.n(y),n(41)),v=n(61),N=n(23),R=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),w=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.showImageBrowser=n.showImageBrowser.bind(n),n.onNearByTapped=n.onNearByTapped.bind(n),n.state={Score:0,RouteScore:0,TrafficScore:0,StayScore:0,GuideScore:0,index:1,showImageBrowser:!1,imageList:[]},n}return i(t,e),R(t,[{key:"componentDidMount",value:function(){this.props.detailItem?this.startScoreAnimation(this.props.detailItem):this.loadData(),this.restoreScrollViewPosition()}},{key:"componentDidUpdate",value:function(e,t,n){e.detailItem!==this.props.detailItem&&this.props.detailItem&&this.startScoreAnimation(this.props.detailItem)}},{key:"render",value:function(){var e=this;return f.a.createElement("div",null,f.a.createElement(E.a,{mode:"dark",className:"navBar",leftContent:f.a.createElement(N.a,{ref:function(t){e.LeftContentView=t?t.getWrappedInstance():e.scrollView},goBackAction:function(){return Object(L.b)(e.props.match.params.code)},history:this.props.history}),onLeftClick:function(){e.LeftContentView.goHome()}},"\u7ebf\u8def\u8be6\u60c5"),f.a.createElement(_.a,{ref:function(t){e.scrollView=t?t.getWrappedInstance():e.scrollView}},this.renderHeaderView(),this.renderElementOperationView(),this.renderScoreView(),this.renderLineListView(),this.renderBasicViews(),this.renderLineArranges(),this.renderOtherInfoViews(),this.props.isFetching?f.a.createElement(p.a,{toast:!0,text:"Loading..."}):null,f.a.createElement(C.a,{ref:function(t){e.photoBrowserView=t?t.getWrappedInstance():e.photoBrowserView}})))}},{key:"renderLineListView",value:function(){return this.props.detailItem?this.renderLineItemView():null}},{key:"renderLineItemView",value:function(){var e=this;return f.a.createElement("div",{className:"hotelDetailRoomItemRow"},f.a.createElement("div",{className:"hotelDetailRoomItemName"},"\u53d1\u56e2\u65e5\u671f\uff1a",(new Date).addDays(1).formatDate("YYYY-MM-DD")),f.a.createElement("div",{style:{flex:1}}),f.a.createElement("div",{className:"hotelDetailRoomItemPrice"},"\xa5",this.props.detailItem.GetLinesDayPrice.DefaultPrice),this.props.detailItem.IsReserve?f.a.createElement("div",{className:"hotelDetailRoomItemBookingButton",onClick:function(){return e.showBooking()}},"\u9884\u8ba2"):null)}},{key:"showBooking",value:function(){if(!this.props.isUserLogined)return void this.props.history.push("/me/login");var e=this.props.match.params.code,t=this.props.detailItem.TravelCode;this.props.history.push({pathname:"/order/booking/"+t+"/"+e+"/"+b.n.LINE,state:{lineName:this.props.detailItem.CnName}})}},{key:"renderHeaderView",value:function(){return this.props.detailItem?f.a.createElement("div",{className:"scenicDetailHeader",onClick:this.showImageBrowser},this.renderHeaderImages(),f.a.createElement("div",{className:"scenicDetailHeaderBottom"},f.a.createElement("div",{className:"scenicDetailHeaderBottomText"},this.props.detailItem.CnName),f.a.createElement("div",{className:"lineDetailHeaderBottomText"},this.state.index,"/",this.props.detailItem.GetImage&&this.props.detailItem.GetImage.ImageList?this.props.detailItem.GetImage.ImageList.length:1))):null}},{key:"renderElementOperationView",value:function(){return this.props.detailItem?f.a.createElement(v.a,{entityType:b.e.EntityType_Route,code:this.props.match.params.code,onNearByTapped:this.onNearByTapped}):null}},{key:"renderScoreView",value:function(){return this.props.detailItem?f.a.createElement("div",{className:"scenicScoreView"},f.a.createElement("div",{className:"scenicScoreCircle"},f.a.createElement(I.a,{percent:20*this.state.Score,strokeWidth:"6",trailWidth:"6",strokeColor:"#42a6dc",trailColor:"#f0f0f0"}),f.a.createElement("div",{className:"scenicScoreCircleTextBox"},f.a.createElement("div",{style:{flex:1}}),f.a.createElement("div",{className:"scenicScoreCircleTextSubBox"},f.a.createElement("div",{className:"scenicScoreCircleText"},this.state.Score.toFixed(1)),f.a.createElement("div",{className:"scenicScoreCircleUnit"},"\u5206")),f.a.createElement("div",{style:{flex:1}}))),f.a.createElement("div",{className:"scenicScoreLines"},f.a.createElement("div",{className:"scenicScoreLine"},f.a.createElement("div",{className:"scenicScoreLineLabel"},"\u884c\u7a0b"),f.a.createElement(I.b,{className:"scenicScoreLineProgress",percent:20*this.state.RouteScore,strokeWidth:"4",trailWidth:"4",strokeColor:"#42a6dc",trailColor:"#f0f0f0"})),f.a.createElement("div",{className:"scenicScoreLine"},f.a.createElement("div",{className:"scenicScoreLineLabel"},"\u4ea4\u901a"),f.a.createElement(I.b,{className:"scenicScoreLineProgress",percent:20*this.state.TrafficScore,strokeWidth:"4",trailWidth:"4",strokeColor:"#42a6dc",trailColor:"#f0f0f0"})),f.a.createElement("div",{className:"scenicScoreLine"},f.a.createElement("div",{className:"scenicScoreLineLabel"},"\u4f4f\u5bbf"),f.a.createElement(I.b,{className:"scenicScoreLineProgress",percent:20*this.state.StayScore,strokeWidth:"4",trailWidth:"4",strokeColor:"#42a6dc",trailColor:"#f0f0f0"})),f.a.createElement("div",{className:"scenicScoreLine"},f.a.createElement("div",{className:"scenicScoreLineLabel"},"\u5bfc\u6e38"),f.a.createElement(I.b,{className:"scenicScoreLineProgress",percent:20*this.state.GuideScore,strokeWidth:"4",trailWidth:"4",strokeColor:"#42a6dc",trailColor:"#f0f0f0"})))):null}},{key:"renderHeaderImages",value:function(){var e=this;return this.props.detailItem&&this.props.detailItem.GetImage&&this.props.detailItem.GetImage.ImageList&&0!==this.props.detailItem.GetImage.ImageList.length?f.a.createElement(c.a,{className:"scenicDetailHeaderImgSlider",afterChange:function(){return e.imageChage()},autoplay:!0,dots:!1,swiping:!0,infinite:!0,selectedIndex:0,swipeSpeed:35},this.props.detailItem.GetImage.ImageList.map(function(e,t){return f.a.createElement("div",{key:t,className:"scenicDetailHeaderImg",style:{backgroundImage:"url("+e.ImgSrc+")"}})})):null}},{key:"imageChage",value:function(){this.state.index===this.props.detailItem.GetImage.ImageList.length?this.setState({index:1}):this.setState({index:this.state.index+1})}},{key:"renderBasicViews",value:function(){return this.props.detailItem?f.a.createElement("div",{className:"scenicDetailInfoRows"},f.a.createElement("div",{className:"scenicDetailInfoRow"},f.a.createElement("div",{className:"scenicDetailInfoLabel"},"\u884c\u7a0b\u7b80\u4ecb"),f.a.createElement("div",{className:"scenicDetailInfoValue scenicDetailMultDesc"},this.props.detailItem.Characterystic))):null}},{key:"renderLineArranges",value:function(){var e=this;return this.props.detailItem&&this.props.detailItem.GetRelationLineDaysList&&0!==!this.props.detailItem.GetRelationLineDaysList.length?f.a.createElement("div",null,f.a.createElement("div",{className:"lineDetailSplitLine"}),f.a.createElement("div",{className:"lineDetailArrangeListBox"},f.a.createElement("div",{className:"lineDetailInfoLabel"},"\u884c\u7a0b\u5b89\u6392"),this.props.detailItem.GetRelationLineDaysList.map(function(t,n){return e.renderLineArrangeItem(t,n)}))):null}},{key:"renderLineArrangeItem",value:function(e,t){return f.a.createElement("div",{key:t},f.a.createElement("div",{className:"lineArrangeItemDay"},"\u7b2c",e.Days,"\u5929"),f.a.createElement("div",{className:"lineArrangeItemDayBox"},this.renderLineDaysItemList(e.LineDaysList)))}},{key:"renderLineDaysItemList",value:function(e){var t=this;return e&&0!==e.length?e.map(function(e,n){return t.renderLineDaysItem(e,n)}):null}},{key:"renderLineDaysItem",value:function(e,t){return f.a.createElement("div",{key:t},f.a.createElement("div",{className:"lineArrangeItemSpace"}),f.a.createElement("div",{className:"lineArrangeItemDayTravelTimeBox"},f.a.createElement("div",{className:"lineArrangeItemDayTravelTimeIcon"}),f.a.createElement("div",{className:"lineArrangeItemDayTravelTime"},e.TravelTime,"\xa0",e.Title)),f.a.createElement("div",{className:"lineArrangeItemSpace"}),f.a.createElement("div",{className:"lineArrangeItemDayDetails lineArrangeItemDayLongDetails"},e.Itinerary),f.a.createElement("div",{className:"lineArrangeItemSpace"}))}},{key:"renderOtherInfoViews",value:function(){var e=this;return this.props.detailItem?f.a.createElement("div",{ref:function(t){e.otherInfoView=t}},f.a.createElement("div",{className:"lineDetailOtherViewsSpace"}),f.a.createElement("div",{className:"scenicDetailInfoRows"},this.props.detailItem.UpTime||this.props.detailItem.DownTime?this.renderOtherInfoItemView("\u6709\u6548\u65e5\u671f",this.props.detailItem.UpTime+"\u81f3"+this.props.detailItem.DownTime):null,this.renderOtherInfoItemView("\u9884\u8ba2\u9650\u5236",this.props.detailItem.ReserveLimit),this.renderOtherInfoItemView("\u8d39\u7528\u5305\u542b",this.props.detailItem.Feeincludes),this.renderOtherInfoItemView("\u8d39\u7528\u4e0d\u5305\u542b",this.props.detailItem.Notincluded),this.renderOtherInfoItemView("\u51fa\u884c\u987b\u77e5",this.props.detailItem.TravelNotes),this.renderOtherInfoItemView("\u5b89\u5168\u987b\u77e5",this.props.detailItem.SaftHint),this.renderOtherInfoItemView("\u6e29\u99a8\u63d0\u793a",this.props.detailItem.ReminderBZ))):null}},{key:"renderOtherInfoItemView",value:function(e,t){return t&&0!==t.length?f.a.createElement("div",{className:"scenicDetailInfoRow"},f.a.createElement("div",{className:"scenicDetailInfoLabel"},e),f.a.createElement("div",{className:"scenicDetailInfoValue scenicDetailMultDesc",dangerouslySetInnerHTML:{__html:t.replace(/\n/g,"<br/>")}})):null}},{key:"loadData",value:function(){this.props.dispatch(Object(L.a)(this.props.match.params.code))}},{key:"cacheScrollOffset",value:function(){var e=S.a.findDOMNode(this.scrollView).scrollTop;this.props.dispatch(Object(L.c)(this.props.match.params.code,e))}},{key:"restoreScrollViewPosition",value:function(){this.scrollView&&(isNaN(this.props.scrollViewOffset)?this.scrollView.scrollToY(0):this.scrollView.scrollToY(this.props.scrollViewOffset))}},{key:"startScoreAnimation",value:function(e){var t=this;setTimeout(function(){t.setState({Score:e.Score?e.Score:3,RouteScore:e.RouteScore?e.RouteScore:3,TrafficScore:e.TrafficScore?e.TrafficScore:3,StayScore:e.StayScore?e.StayScore:3,GuideScore:e.GuideScore?e.GuideScore:3})},700)}},{key:"showImageBrowser",value:function(){if(!this.props.detailItem||!this.props.detailItem.GetImage||!this.props.detailItem.GetImage.ImageList||0===this.props.detailItem.GetImage.ImageList.length)return null;for(var e=[],t=0;t<this.props.detailItem.GetImage.ImageList.length;t++){var n=this.props.detailItem.GetImage.ImageList[t];e.push(n.ImgSrc.replace("Small","Large"))}this.photoBrowserView.open(e)}},{key:"onNearByTapped",value:function(){if(this.scrollView&&this.otherInfoView){var e=this.otherInfoView.scrollHeight,t=S.a.findDOMNode(this.scrollView).scrollHeight-e;this.scrollView.scrollToY(t)}}}]),t}(m.PureComponent),D=function(e,t){var n=e.line.detailScreen[t.match.params.code];return Object.assign({},n,{isUserLogined:O.a.isUserLogined(e)})};w=Object(T.b)(D)(w),t.a=w},function(e,t,n){"use strict";function r(e){return{type:u.b.LINE.DETAIL.GO_BACK,code:e}}function a(e){return function(t,n){return t(s(e)),o(e).then(function(n){n=n&&n.results&&n.results.length>0?n.results[0]:n,t(c(e,n))}).catch(function(n){t(l(e,n))})}}function i(e,t){return{type:u.b.LINE.DETAIL.SET_DETAIL_SCROLL_OFFSET,code:e,scrollViewOffset:t}}function o(e){var t={ConditionParams:{Params:{code:e}}};return p.a.postToPortalWithUrl(p.a.HOST_E_BUSINESS,u.q.ELEMENTS.LineDetail,t).then(function(e){return e.json()})}function s(e){return{type:u.b.LINE.DETAIL.GET_DETAIL_REQUEST,code:e}}function c(e,t){return{type:u.b.LINE.DETAIL.GET_DETAIL_SUCCESS,code:e,detailItem:t}}function l(e,t){return{type:u.b.LINE.DETAIL.GET_DETAIL_FAILURE,code:e,message:t}}t.b=r,t.a=a,t.c=i;var u=n(1),p=n(8)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(16),s=(n.n(o),n(17)),c=n.n(s),l=n(11),u=(n.n(l),n(12)),p=n.n(u),d=n(18),h=(n.n(d),n(19)),E=n.n(h),m=n(0),f=n.n(m),T=n(2),I=n(10),g=n(14),S=n.n(g),_=n(559),b=n(560),O=(n(21),n(8)),L=n(561),y=(n.n(L),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),C=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={day:"0",hour:"00",min:"00",second:"00"},n.updateTime=n.updateTime.bind(n),n.ShowResult=n.ShowResult.bind(n),n.timer=setInterval(n.updateTime,1e3),n}return i(t,e),y(t,[{key:"componentDidMount",value:function(){this.props.ticketInfo.dataInfo&&this.props.purchaseList.dataList||this.loadData(),this.restoreScrollViewPosition()}},{key:"render",value:function(){var e=this;return f.a.createElement("div",null,f.a.createElement(p.a,{mode:"dark",className:"navBar",icon:f.a.createElement(E.a,{type:"left"}),onLeftClick:function(){var t=e.props.dispatch;e.props.history.goBack(),t(Object(_.b)())}},"\u95e8\u7968\u62a2\u8d2d"),f.a.createElement(I.a,{ref:function(t){e.scrollView=t?t.getWrappedInstance():e.scrollView}},this.renderPage(),this.props.ticketInfo.isFetching||this.props.purchaseList.isFetching?f.a.createElement(c.a,{toast:!0,text:"Loading..."}):null))}},{key:"renderPage",value:function(){if(this.props.ticketInfo.dataInfo&&this.props.purchaseList.dataList){var e=n(562),t=O.a.HOST_WECHAT_SERVER+this.props.ticketInfo.dataInfo.PanicBuyingActiveImgUrl,r=new Date(this.props.ticketInfo.dataInfo.PanicBuyingBeginTime).formatDate("YYYY-MM-DD"),a=new Date(this.props.ticketInfo.dataInfo.PanicBuyingBeginTime).formatDate("HH:mm"),i=new Date(this.props.ticketInfo.dataInfo.PanicBuyingBeginTime),o="",s="";return i.getTime()>(new Date).getTime()?(o="\u8ddd\u5f00\u59cb",s="\u5171\u8ba1"):(o="\u8ddd\u7ed3\u675f",s="\u5269\u4f59"),f.a.createElement("div",{className:"ticketPurchaseBox"},f.a.createElement("img",{className:"ticketPurchaseBanner",src:e,alt:""}),f.a.createElement("div",{className:"ticketPurchaseContent"},f.a.createElement("div",{className:"ticketPurchaseContentEndTime"},o,":",f.a.createElement("span",{className:"ticketPurchaseContentEndTimeSpan"},this.state.day),"\u5929",f.a.createElement("span",{className:"ticketPurchaseContentEndTimeSpan"},this.state.hour),"\u65f6",f.a.createElement("span",{className:"ticketPurchaseContentEndTimeSpan"},this.state.min),"\u5206",f.a.createElement("span",{className:"ticketPurchaseContentEndTimeSpan"},this.state.second),"\u79d2"),f.a.createElement("div",{className:"ticketPurchaseContentStartTime"},f.a.createElement("div",{className:"daytime"},r),f.a.createElement("div",{className:"hourtime"},a,"\u5f00\u62a2")),f.a.createElement("div",{className:"ticketPurchaseContentImgBox"},f.a.createElement("img",{className:"ticketimgBg",src:t,alt:""}),f.a.createElement("div",{className:"ticketContent"},f.a.createElement("div",{className:"ticketName"},this.props.ticketInfo.dataInfo.PanicBuyingActiveName),f.a.createElement("div",{className:"leftNumber"},s,this.props.ticketInfo.dataInfo.PanicBuyingProductNum,"\u5f20"))),f.a.createElement("div",{className:"ticketPurchaseContentBuy"},f.a.createElement("div",{className:"ticketPrice"},f.a.createElement("span",{className:"salePrice"},"\xa5",this.props.ticketInfo.dataInfo.PanicBuyingProductPresentPrice),f.a.createElement("span",{className:"normalPrice"},"\xa5",this.props.ticketInfo.dataInfo.PanicBuyingProductOriginalPrice,"\u5143")),f.a.createElement("div",{className:"buyBtn",onClick:this.ShowResult},f.a.createElement("span",null,"\u7acb\u5373\u5f00\u62a2")))),f.a.createElement("div",{className:"ticketPurchaseRole"},f.a.createElement("div",{className:"ticketPurchaseRoleTip"},"\u6d3b\u52a8\u89c4\u5219"),f.a.createElement("div",{className:"ticketPurchaseRoleText",dangerouslySetInnerHTML:{__html:this.props.ticketInfo.dataInfo.PanicBuyingActiveRule}})),this.renderList())}}},{key:"renderList",value:function(){var e=n(563),t=n(564),r=n(565);return f.a.createElement("div",{className:"ticketPurchaseList"},f.a.createElement("img",{src:e,alt:"",className:"ticketPurchaseListTip"}),f.a.createElement("div",{className:"ticketPurchaseListContent",style:{backgroundImage:"url("+r+")"}},f.a.createElement("ul",{className:"ticketPurchaseListUl"},this.props.purchaseList.dataList.map(function(e,t){return f.a.createElement("li",{className:"ticketPurchaseListItem",key:t},f.a.createElement("img",{src:e.HeadImgUrl,className:"ticketPurchaseItemHead",alt:""}),f.a.createElement("p",{className:"ticketPurchaseItemContent"},null===e.NickName?"\u4f5a\u540d":e.NickName,f.a.createElement("span",{className:"ticketPurchaseItemSpan"},e.Province,"\xa0",e.City)))}))),f.a.createElement("img",{src:t,alt:"",className:"ticketPurchaseListBottom"}))}},{key:"updateTime",value:function(){if(this.props.ticketInfo.dataInfo){var e=new Date(this.props.ticketInfo.dataInfo.PanicBuyingBeginTime).getTime(),t=new Date(this.props.ticketInfo.dataInfo.PanicBuyingEndTime).getTime();e>(new Date).getTime()?this.caculateTime(e):this.caculateTime(t)}}},{key:"caculateTime",value:function(e){var t=e-(new Date).getTime(),n=Math.floor(t/864e5);t-=864e5*n;var r=Math.floor(t/36e5);t-=36e5*r;var a=Math.floor(t/6e4);t-=6e4*a;var i=Math.floor(t/1e3);r<10&&(r="0"+r),a<10&&(a="0"+a),i<10&&(i="0"+i),this.setState({day:n,hour:r,min:a,second:i})}},{key:"restoreScrollViewPosition",value:function(){this.scrollView&&(isNaN(this.props.ticketInfo.scrollViewOffset)?this.scrollView.scrollToY(0):this.scrollView.scrollToY(this.props.ticketInfo.scrollViewOffset))}},{key:"cacheScrollOffset",value:function(){var e=S.a.findDOMNode(this.scrollView).scrollTop;this.props.dispatch(Object(_.c)(e))}},{key:"loadData",value:function(){var e=this;this.props.dispatch(Object(_.a)()).then(function(){e.props.dispatch(Object(b.a)(e.props.ticketInfo.dataInfo.AccountGuid,e.props.ticketInfo.dataInfo.PanicBuyingActiveGuid))})}},{key:"ShowResult",value:function(){this.props.history.push(this.props.match.url+"/result"),clearInterval(this.timer),this.cacheScrollOffset()}}]),t}(m.PureComponent),v=function(e){return{ticketInfo:e.ticketPurchase.ticketPurchaseScreen.ticketInfo,purchaseList:e.ticketPurchase.ticketPurchaseScreen.purchaseList}};C=Object(T.b)(v)(C),t.a=C},function(e,t,n){"use strict";function r(){return{type:u.b.TICKET_PURCHASE.GO_BACK}}function a(){return function(e,t){return e(i()),o().then(function(t){e(s(t))}).catch(function(t){e(c(t))})}}function i(){return{type:u.b.TICKET_PURCHASE.GET_INFO_REQUEST}}function o(){var e=p.a.WECHAT_HANDLER,t={type:"34",action:"1",conditionParm:JSON.stringify({AccountGuid:"b760689cb63a4a92834d6f14173bc293",OpenId:""})};return p.a.getData(e,t).then(function(e){return e.json()})}function s(e){return{type:u.b.TICKET_PURCHASE.GET_INFO_SUCCESS,result:e}}function c(e){return{type:u.b.TICKET_PURCHASE.GET_INFO_FAILURE,error:e}}function l(e){return{type:u.b.TICKET_PURCHASE.SET_SCROLL_OFFSET,scrollViewOffset:e}}t.b=r,t.a=a,t.c=l;var u=n(1),p=n(8);n(21)},function(e,t,n){"use strict";function r(e,t){return function(n,r){return n(a(e,t)),i(e,t).then(function(e){n(o(e))}).catch(function(e){n(s(e))})}}function a(e,t){return{type:c.b.TICKET_PURCHASE.GET_LIST_REQUEST,AccountGuid:e,PanicBuyingActiveGuid:t}}function i(e,t){var n=l.a.WECHAT_HANDLER,r={type:"34",action:"11",conditionParm:JSON.stringify({AccountGuid:e,PanicBuyingActiveGuid:t})};return l.a.getData(n,r).then(function(e){return e.json()})}function o(e){return{type:c.b.TICKET_PURCHASE.GET_LIST_SUCCESS,result:e}}function s(e){return{type:c.b.TICKET_PURCHASE.GET_LIST_FAILURE,error:e}}t.a=r;var c=n(1),l=n(8);n(21)},function(e,t){},function(e,t,n){e.exports=n.p+"static/media/banner_top.be6009cc.jpg"},function(e,t,n){e.exports=n.p+"static/media/qgcg_tit.2472cd32.png"},function(e,t,n){e.exports=n.p+"static/media/activyTickets_bottom.83e1d22f.jpg"},function(e,t,n){e.exports=n.p+"static/media/qgcg_list_bg.2a851592.png"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(11),s=(n.n(o),n(12)),c=n.n(s),l=n(18),u=(n.n(l),n(19)),p=n.n(u),d=n(0),h=n.n(d),E=n(2),m=n(10),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),T=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),f(t,[{key:"render",value:function(){var e=this;return h.a.createElement("div",null,h.a.createElement(c.a,{mode:"dark",className:"navBar",icon:h.a.createElement(p.a,{type:"left"}),onLeftClick:function(){e.props.history.goBack()}},"\u652f\u4ed8\u7ed3\u679c"),h.a.createElement(m.a,null,this.renderPage()))}},{key:"renderPage",value:function(){return h.a.createElement("div",{className:"payResultBox"},h.a.createElement("div",null))}}]),t}(d.PureComponent),I=function(e){return{}};T=Object(E.b)(I)(T),t.a=T},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(34),s=(n.n(o),n(35)),c=n.n(s),l=n(11),u=(n.n(l),n(12)),p=n.n(u),d=n(0),h=n.n(d),E=n(2),m=n(10),f=n(568),T=n(251),I=n(569),g=(n.n(I),n(23)),S=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.tabs=[{title:"\u70ed\u95e8\u6e38\u8bb0",sortBy:"1"},{title:"\u7cbe\u534e\u6e38\u8bb0",sortBy:"2"},{title:"\u5168\u90e8\u6e38\u8bb0",sortBy:"0"}],n.onItemClick=n.onItemClick.bind(n),n}return i(t,e),S(t,[{key:"render",value:function(){var e=this,t=window.innerHeight-89;return h.a.createElement("div",null,h.a.createElement(p.a,{mode:"dark",className:"navBar",leftContent:h.a.createElement(g.a,{ref:function(t){e.LeftContentView=t?t.getWrappedInstance():e.scrollView},goBackAction:T.c,history:this.props.history}),onLeftClick:function(){e.LeftContentView.goHome()}},"\u6e38\u8bb0"),h.a.createElement(m.a,null,h.a.createElement(c.a,{tabs:this.tabs,initialPage:this.props.selectedTabIndex,prerenderingSiblingsNumber:0,onChange:function(t,n){e.props.dispatch(Object(T.e)(n))},onTabClick:function(e,t){console.log("onTabClick",t,e)}},this.tabs.map(function(n,r){return h.a.createElement(f.a,{key:r,sortBy:n.sortBy,ref:function(t){t&&(e.tabs[r].listView=t.getWrappedInstance())},onItemClick:e.onItemClick,height:t})}))))}},{key:"onItemClick",value:function(e){if(e){for(var t=0;t<this.tabs.length;t++){var n=this.tabs[t].listView;n&&n.cacheScrollOffset()}this.props.history.push(this.props.match.url+"/detail/"+e.ID)}}}]),t}(d.PureComponent),b=function(e){return{selectedTabIndex:e.travelNotes.listScreen.selectedTabIndex}};_=Object(E.b)(b)(_),t.a=_},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(24),s=(n.n(o),n(25)),c=n.n(s),l=n(16),u=(n.n(l),n(17)),p=n.n(u),d=n(26),h=(n.n(d),n(27)),E=n.n(h),m=n(0),f=n.n(m),T=n(2),I=n(9),g=n.n(I),S=n(14),_=n.n(S),b=n(251),O=n(32),L=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.renderRow=n.renderRow.bind(n),n.onRefresh=n.onRefresh.bind(n),n.loadNextPage=n.loadNextPage.bind(n),n.renderFooter=n.renderFooter.bind(n);var i=new E.a.DataSource({rowHasChanged:function(e,t){return e!==t},sectionHeaderHasChanged:function(e,t){return e!==t}});return n.state={dataSource:i.cloneWithRows(n.props.dataList?n.props.dataList:[])},n}return i(t,e),L(t,[{key:"componentDidMount",value:function(){this.props.dataList||this.loadData(this.props.sortBy),this.listView&&!isNaN(this.props.listViewOffset)&&this.listView.scrollTo(0,this.props.listViewOffset)}},{key:"componentDidUpdate",value:function(e,t,n){this.props.dataList!==e.dataList&&this.setState({dataSource:this.state.dataSource.cloneWithRows(this.props.dataList?this.props.dataList:[])})}},{key:"render",value:function(){return f.a.createElement("div",{className:"scenicListBox",style:{height:this.props.height}},this.renderListView(),this.props.isFetching||this.props.dataList&&0!==this.props.dataList.length?null:f.a.createElement(O.a,{style:{height:this.props.height},onClick:this.onRefresh}),this.props.isFetching&&1===this.props.pageIndex?f.a.createElement(p.a,{toast:!0,text:"Loading..."}):null)}},{key:"renderListView",value:function(){var e=this;if(this.props.dataList&&this.props.dataList.length>0){var t=function(e,t){return f.a.createElement("div",{key:e+"-"+t,style:{height:1,borderBottom:"0.5px solid #dddddd"}})};return f.a.createElement(E.a,{ref:function(t){return e.listView=t},dataSource:this.state.dataSource,renderRow:this.renderRow,renderSeparator:t,style:{height:this.props.height,overflow:"auto"},pullToRefresh:f.a.createElement(c.a,{refreshing:this.props.isFetching,onRefresh:this.onRefresh}),onEndReached:this.loadNextPage,renderFooter:this.renderFooter,initialListSize:this.props.dataList.length,pageSize:20,scrollRenderAheadDistance:500,scrollEventThrottle:50,onEndReachedThreshold:20})}}},{key:"isEmptyString",value:function(e){return!e||0===e.length}},{key:"onRefresh",value:function(){var e=this;this.props.dispatch(Object(b.a)(this.props.sortBy)).then(function(){e.loadData()})}},{key:"loadNextPage",value:function(){this.loadData()}},{key:"renderFooter",value:function(){return this.props.isFetching&&!0===this.props.hasMore?f.a.createElement("div",{className:"loadingMore"},f.a.createElement(p.a,{text:"Loading..."})):null}},{key:"renderRow",value:function(e,t,r){var a=this,i=e.GetFIMAGE&&e.GetFIMAGE.SmallImageFrontUrl?e.GetFIMAGE.SmallImageFrontUrl:"";return i=i.length>0?i:e.GetIMS&&e.GetIMS.SmallImageFrontUrl&&e.GetIMS.SmallImageFrontUrl.length>0?e.GetIMS.SmallImageFrontUrl:e.GetIMS&&e.GetIMS.ImageList&&e.GetIMS.ImageList.length>0?e.GetIMS.ImageList[0].SmallImgSrc:"",f.a.createElement("div",{key:r,className:"scenicListItem",onClick:function(){a.props.onItemClick&&a.props.onItemClick(e)}},f.a.createElement("div",{style:{backgroundImage:"url("+i+")"},className:"scenicListItemImg"}),f.a.createElement("div",{className:"newsListItemTextBox"},f.a.createElement("div",{className:"scenicListItemName"},e.title),f.a.createElement("div",{style:{flex:1}}),f.a.createElement("div",{className:"travelNotesListItemAuthor"},"\u4f5c\u8005\uff1a",e.Nickname),f.a.createElement("div",{style:{flex:1}}),f.a.createElement("div",{className:"travelNotesListSecondRow"},f.a.createElement("img",{className:"newsListIcon",src:n(80),alt:""}),f.a.createElement("div",{className:"newsListItemOthers"},e.ClickCount),f.a.createElement("div",{style:{flex:1}}),f.a.createElement("img",{className:"newsListIcon",src:n(148),alt:""}),f.a.createElement("div",{className:"newsListItemOthers"},e.COMTOTAL))))}},{key:"loadData",value:function(){if(!this.props.isFetching&&!1!==this.props.hasMore){var e=this.props.pageIndex?this.props.pageIndex+1:1;this.props.dispatch(Object(b.b)(this.props.sortBy,e))}}},{key:"cacheScrollOffset",value:function(){if(this.listView){var e=_.a.findDOMNode(this.listView).scrollTop;this.props.dispatch(Object(b.d)(this.props.sortBy,e))}}}]),t}(m.PureComponent);y.propTypes={onItemClick:g.a.func};var C=function(e,t){var n=e.travelNotes.listScreen.groups[t.sortBy];return Object.assign({},n)};y=Object(T.b)(C,null,null,{withRef:!0})(y),t.a=y},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(28),s=(n.n(o),n(29)),c=n.n(s),l=n(39),u=(n.n(l),n(40)),p=n.n(u),d=n(86),h=(n.n(d),n(87)),E=n.n(h),m=n(71),f=(n.n(m),n(72)),T=n.n(f),I=n(16),g=(n.n(I),n(17)),S=n.n(g),_=n(11),b=(n.n(_),n(12)),O=n.n(b),L=n(0),y=n.n(L),C=n(2),v=n(10),N=n(573),R=n(23),w=n(15),D=n(1),A=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),k="\u8bf7\u8f93\u5165\u56de\u590d\u5185\u5bb9",P=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showCommentsInput:!1,placeholder:k,comments:""},n.showCommentsButtonView=n.showCommentsButtonView.bind(n),n.sendComments=n.sendComments.bind(n),n}return i(t,e),A(t,[{key:"componentDidMount",value:function(){this.loadData(),this.loadCommentList()}},{key:"render",value:function(){var e=this,t=this.props.detailItem?y.a.createElement("div",{className:"forumDetailRightMenu",onClick:function(){return e.showCommentsButtonView()}},y.a.createElement("img",{src:n(252),alt:""})):null;return y.a.createElement("div",{className:this.props.isFromNativeApp?"isFromNativeApp":null},this.props.isFromNativeApp?null:y.a.createElement(O.a,{mode:"dark",className:"navBar",leftContent:y.a.createElement(R.a,{ref:function(t){e.LeftContentView=t?t.getWrappedInstance():e.scrollView},goBackAction:function(){return Object(N.d)(e.props.match.params.id)},history:this.props.history}),rightContent:t,onLeftClick:function(){e.LeftContentView.goHome()}},"\u8be6\u60c5"),y.a.createElement(v.a,{ref:function(t){e.scrollView=t?t.getWrappedInstance():e.scrollView}},this.renderHeaderView(),this.renderContentView(),this.renderResponseView(),this.props.isFetching?y.a.createElement(S.a,{toast:!0,text:"Loading..."}):null),y.a.createElement(p.a,{popup:!0,visible:this.state.showCommentsInput,onClose:function(){return e.setState({showCommentsInput:!1})},animationType:"slide-up"},y.a.createElement(T.a,{ref:function(t){return e.commentsInputView=t},autoHeight:!0,placeholder:this.state.placeholder,onChange:function(t){return e.setState({comments:t})},rows:5,count:"500"}),y.a.createElement(E.a,{className:"forumDetailSendButton",type:"primary",onClick:this.sendComments,loading:this.props.isFetching&&this.state.comments,disabled:this.props.isFetching||!this.state.comments},"\u53d1\u9001")))}},{key:"renderHeaderView",value:function(){return this.props.detailItem?y.a.createElement("div",null,y.a.createElement("div",{className:"newsDetailHeaderRow"},y.a.createElement("div",{className:"newsDetailHeaderName"},this.props.detailItem.title),y.a.createElement("div",{className:"newsListSecondRow"},y.a.createElement("div",{className:"newsListItemOthers"},"\u4f5c\u8005\uff1a",this.props.detailItem.Nickname),y.a.createElement("div",{style:{flex:1}}),y.a.createElement("div",{className:"newsListItemOthers"},"\u65f6\u95f4\uff1a",this.props.detailItem.CreateDate))),y.a.createElement("div",{className:"newsDetailSplitLine"})):null}},{key:"renderContentView",value:function(){var e=this;return this.props.detailItems&&0!==this.props.detailItems.length?y.a.createElement("div",{className:"newsDetailHtml"},this.props.detailItems.map(function(t,n){return e.renderItemView(t,n)})):null}},{key:"renderItemView",value:function(e,t){return 0===e.ContentType?y.a.createElement("div",{key:t,className:"travelNotesDetailHeader"},e.Content):2!==e.ContentType?y.a.createElement("div",{key:t,className:"travelNotesDetailContent",dangerouslySetInnerHTML:{__html:e.Content}}):e.GetIMAGE?y.a.createElement("img",{key:t,className:"travelNotesDetailImage",src:e.GetIMAGE.MiddleImageFrontUrl,alt:""}):void 0}},{key:"renderResponseView",value:function(){var e=this;if(!this.props.detailItems)return null;var t=this.props.commentList?this.props.commentList.length:0;return y.a.createElement(y.a.Fragment,null,y.a.createElement("div",{className:"forumDetailCommentsViewHeader"},y.a.createElement("div",{className:"forumDetailCommentsViewHeaderText"},"\u8bc4\u8bba(",t,")"),y.a.createElement("div",{style:{flex:1}}),y.a.createElement("div",{className:"forumDetailCommentsViewHeaderButton",onClick:function(){return e.showCommentsButtonView()}},"\u6211\u8981\u8bc4\u8bba")),t<=0?null:this.props.commentList.map(function(t,n){return e.renderResponseItemView(t,n)}))}},{key:"renderResponseItemView",value:function(e,t){var r=this;return y.a.createElement("div",{key:e.CommentID,className:"forumDetailResponseBox"},y.a.createElement("div",{className:"footmarkCommentsViewCommentsItemIcon",style:{backgroundImage:"url("+(e.GetAvatar?e.GetAvatar.MiddleImageFrontUrl:"")+")"}}),y.a.createElement("div",{className:"footmarkCommentsViewCommentsItemRight"},y.a.createElement("div",{className:"footmarkCommentsViewCommentsItemHeaderText"},y.a.createElement("div",{className:"footmarkCommentsViewCommentsItemNameRow"},y.a.createElement("div",{className:"footmarkCommentsViewCommentsItemName"},e.Nickname),y.a.createElement("div",{style:{flex:1}}),y.a.createElement("div",{className:"footmarkCommentsViewCommentsItemNameRowCommentsButton",onClick:function(){r.showCommentsButtonView("\u56de\u590d@"+e.Nickname,e)}},y.a.createElement("img",{src:n(168),alt:""}))),y.a.createElement("div",{className:"footmarkItemHeaderDate"},e.CreateTime)),y.a.createElement("div",{className:"footmarkCommentsViewCommentsItemText"},e.HFC&&e.HFC.length>0?this.renderReplyHeader(e):null,y.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.Content}})),y.a.createElement("div",{className:"footmarkCommentsViewCommentsItemRightSplit"})))}},{key:"renderReplyHeader",value:function(e){return y.a.createElement("div",null,"\u56de\u590d ",y.a.createElement("span",{className:"forumDetailCommentsNotification"},"@",e.HFN),"\xa0\xa0\uff1a")}},{key:"loadData",value:function(){this.props.dispatch(Object(N.b)(this.props.match.params.id))}},{key:"loadCommentList",value:function(){var e={id:this.props.match.params.id,table:"web_sns_note",pagesize:D.a,pageindex:1};this.props.dispatch(Object(N.a)(this.props.match.params.id,e))}},{key:"showCommentsButtonView",value:function(e,t){var n=this;this.props.userId||this.toLoginPage(),this.selectedItem=t,e=e||k,this.setState({showCommentsInput:!0,placeholder:e},function(){n.commentsInputView&&n.commentsInputView.focus()})}},{key:"sendComments",value:function(){var e=this;if(!this.state.comments)return c.a.fail(k),void this.commentsInputView.focus();var t={id:this.props.match.params.id,table:"web_sns_note",uid:this.props.userId,content:this.state.comments,pid:this.selectedItem?this.selectedItem.CommentID:""};this.props.dispatch(Object(N.c)(this.props.match.params.id,t)).then(function(){e.props.successMessage&&c.a.success(e.props.successMessage,void 0,void 0,!1),e.setState({showCommentsInput:!1,comments:""}),e.selectedItem=void 0,e.loadCommentList()})}},{key:"toLoginPage",value:function(){this.props.history.push("/me/login")}}]),t}(L.PureComponent),F=function(e,t){var n=e.travelNotes.detailScreen[t.match.params.id];return Object.assign({},n,{userId:w.a.getUserId(e),isFromNativeApp:e.native.isFromNativeApp})};P=Object(C.b)(F)(P),t.a=P},,,function(e,t,n){"use strict";function r(e){return{type:g.b.TRAVEL_NOTES.DETAIL.GO_BACK,id:e}}function a(e){return function(t,n){var r=void 0,a=n().travelNotes.listScreen.groups;for(var l in a){var u=a[l].dataList;if(u&&u.length>0)for(var p=0;p<u.length;p++){var d=u[p];if(d.ID===parseInt(e,10)){r=d;break}}}return t(o(e)),i(e).then(function(n){t(s(e,r,n?n.results:[]))}).catch(function(n){t(c(e,n))})}}function i(e){var t={NoteID:e};return S.a.getFromPortal(g.q.NOTES.GetNote,t).then(function(e){return e.json()})}function o(e){return{type:g.b.TRAVEL_NOTES.DETAIL.GET_DETAIL_REQUEST,id:e}}function s(e,t,n){return{type:g.b.TRAVEL_NOTES.DETAIL.GET_DETAIL_SUCCESS,id:e,detailItem:t,detailItems:n}}function c(e,t){return{type:g.b.TRAVEL_NOTES.DETAIL.GET_DETAIL_FAILURE,id:e,message:t}}function l(e,t){return function(n,r){return n(p(e)),u(e,t).then(function(t){var r=t.results?t.results:{};n(d(e,r))}).catch(function(t){n(h(e,t))})}}function u(e,t){return S.a.postToPortal(g.q.NOTES.InsertComment,t,void 0,!0).then(function(e){return e.json()})}function p(e){return{type:g.b.TRAVEL_NOTES.DETAIL.SEND_COMMENT_REQUEST,id:e}}function d(e,t){return{type:g.b.TRAVEL_NOTES.DETAIL.SEND_COMMENT_SUCCESS,id:e}}function h(e,t){return{type:g.b.TRAVEL_NOTES.DETAIL.SEND_COMMENT_FAILURE,id:e,message:t}}function E(e,t){return function(n,r){return n(f(e)),m(e,t).then(function(t){var r=t.results&&t.results.length>0?t.results:{};n(T(e,r))}).catch(function(t){n(I(e,t))})}}function m(e,t){return S.a.postToPortal(g.q.NOTES.QueryComment,t,void 0,!0).then(function(e){return e.json()})}function f(e){return{type:g.b.TRAVEL_NOTES.DETAIL.GET_COMMENT_REQUEST,id:e}}function T(e,t){return{type:g.b.TRAVEL_NOTES.DETAIL.GET_COMMENT_SUCCESS,id:e,results:t}}function I(e,t){return{type:g.b.TRAVEL_NOTES.DETAIL.GET_COMMENT_FAILURE,id:e,message:t}}t.d=r,t.b=a,t.c=l,t.a=E;var g=n(1),S=n(8)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(11),s=(n.n(o),n(12)),c=n.n(s),l=n(44),u=(n.n(l),n(45)),p=n.n(u),d=n(0),h=n.n(d),E=n(2),m=n(10),f=n(575),T=n(253),I=n(254),g=(n.n(I),n(23)),S=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onItemClick=n.onItemClick.bind(n),n.showCommonList=n.showCommonList.bind(n),n}return i(t,e),S(t,[{key:"render",value:function(){var e=this,t=window.innerHeight-45;return h.a.createElement("div",null,h.a.createElement(c.a,{mode:"dark",className:"navBar",leftContent:h.a.createElement(g.a,{ref:function(t){e.LeftContentView=t?t.getWrappedInstance():e.scrollView},goBackAction:T.c,history:this.props.history}),onLeftClick:function(){e.LeftContentView.goHome()}},h.a.createElement(p.a,{values:["\u975e\u5403\u4e0d\u53ef","\u5168\u90e8\u7f8e\u98df"],tintColor:"white",selectedIndex:0,onValueChange:this.showCommonList})),h.a.createElement(m.a,null,h.a.createElement(f.a,{ref:function(t){t&&(e.listView=t.getWrappedInstance())},onItemClick:this.onItemClick,height:t})))}},{key:"onItemClick",value:function(e){e&&e.GetRelation&&e.GetRelation.Code&&(this.listView&&this.listView.cacheScrollOffset(),this.props.history.push("/food/detail/"+e.GetRelation.Code))}},{key:"showCommonList",value:function(){this.listView&&this.listView.cacheScrollOffset(),this.props.history.push("/restaurant/list?segment=true")}}]),t}(d.PureComponent);_=Object(E.b)()(_),t.a=_},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(24),s=(n.n(o),n(25)),c=n.n(s),l=n(16),u=(n.n(l),n(17)),p=n.n(u),d=n(26),h=(n.n(d),n(27)),E=n.n(h),m=n(0),f=n.n(m),T=n(2),I=n(9),g=n.n(I),S=n(14),_=n.n(S),b=n(253),O=n(20),L=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.renderRow=n.renderRow.bind(n),n.onRefresh=n.onRefresh.bind(n);var i=new E.a.DataSource({rowHasChanged:function(e,t){return e!==t},sectionHeaderHasChanged:function(e,t){return e!==t}});return n.state={dataSource:i.cloneWithRows(n.props.dataList?n.props.dataList:[])},n}return i(t,e),L(t,[{key:"componentDidMount",value:function(){this.props.dataList||this.loadData(),this.listView&&!isNaN(this.props.listViewOffset)&&this.listView.scrollTo(0,this.props.listViewOffset)}},{key:"componentDidUpdate",value:function(e,t,n){this.props.dataList!==e.dataList&&this.setState({dataSource:this.state.dataSource.cloneWithRows(this.props.dataList?this.props.dataList:[])})}},{key:"render",value:function(){return f.a.createElement("div",{className:"scenicListBox",style:{height:this.props.height}},this.renderListView(),this.props.isFetching?f.a.createElement(p.a,{toast:!0,text:"Loading..."}):null)}},{key:"renderListView",value:function(){var e=this;if(this.props.dataList&&this.props.dataList.length>=0){var t=function(e,t){return f.a.createElement("div",{key:e+"-"+t,style:{height:"5px",backgroundColor:"#2d2327"}})};return f.a.createElement(E.a,{ref:function(t){e.listView=t,O.a.fixListViewHeightIssue(t,e.props.height)},dataSource:this.state.dataSource,renderRow:this.renderRow,renderSeparator:t,style:{height:this.props.height,overflow:"auto"},pullToRefresh:f.a.createElement(c.a,{refreshing:this.props.isFetching,onRefresh:this.onRefresh}),initialListSize:this.props.dataList.length,pageSize:20,scrollRenderAheadDistance:500,scrollEventThrottle:50,onEndReachedThreshold:20})}}},{key:"isEmptyString",value:function(e){return!e||0===e.length}},{key:"onRefresh",value:function(){var e=this;this.props.dispatch(Object(b.a)()).then(function(){e.loadData()})}},{key:"renderRow",value:function(e,t,n){var r=this,a=e.GetImage&&e.GetImage.MiddleImageFrontUrl?e.GetImage.MiddleImageFrontUrl:"";return a=a&&a.length>0&&a.indexOf("noPicture")<0?a:e.GetRelation&&e.GetRelation.GetImage&&e.GetRelation.GetImage.MiddleImageFrontUrl?e.GetRelation.GetImage.MiddleImageFrontUrl:"",f.a.createElement("div",{key:n,className:"scenicRecommendListItemBox",onClick:function(){r.props.onItemClick&&r.props.onItemClick(e)}},f.a.createElement("div",{className:"scenicRecommendListItemBg",style:{backgroundImage:"url("+a+")"}},f.a.createElement("div",{className:"scenicRecommendListBottom"},f.a.createElement("div",{className:"hotelRecommendListBottomText"},e.Head))))}},{key:"loadData",value:function(){this.props.isFetching||this.props.dispatch(Object(b.b)())}},{key:"cacheScrollOffset",value:function(){if(this.listView){var e=_.a.findDOMNode(this.listView).scrollTop;this.props.dispatch(Object(b.d)(e))}}}]),t}(m.PureComponent);y.propTypes={onItemClick:g.a.func};var C=function(e){return Object.assign({},e.food.recommendListScreen)};y=Object(T.b)(C,null,null,{withRef:!0})(y),t.a=y},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(42),s=(n.n(o),n(43)),c=n.n(s),l=n(16),u=(n.n(l),n(17)),p=n.n(u),d=n(11),h=(n.n(d),n(12)),E=n.n(h),m=n(0),f=n.n(m),T=n(2),I=n(14),g=n.n(I),S=n(10),_=n(577),b=n(41),O=n(254),L=(n.n(O),n(23)),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),C=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={index:1,showImageBrowser:!1,imageList:[]},n.showImageBrowser=n.showImageBrowser.bind(n),n}return i(t,e),y(t,[{key:"componentDidMount",value:function(){this.props.detailItem||this.loadData(),this.restoreScrollViewPosition()}},{key:"render",value:function(){var e=this;return f.a.createElement("div",null,f.a.createElement(E.a,{mode:"dark",className:"navBar",leftContent:f.a.createElement(L.a,{ref:function(t){e.LeftContentView=t?t.getWrappedInstance():e.scrollView},goBackAction:function(){return Object(_.b)(e.props.match.params.code)},history:this.props.history}),onLeftClick:function(){e.LeftContentView.goHome()}},"\u7f8e\u98df\u8be6\u60c5"),f.a.createElement(S.a,{ref:function(t){e.scrollView=t?t.getWrappedInstance():e.scrollView}},this.renderHeaderView(),this.renderBasicInfoViews(),this.renderSummaryView(),this.props.isFetching?f.a.createElement(p.a,{toast:!0,text:"Loading..."}):null,f.a.createElement(b.a,{ref:function(t){e.photoBrowserView=t?t.getWrappedInstance():e.scrollView}})))}},{key:"renderHeaderView",value:function(){return this.props.detailItem?f.a.createElement("div",{className:"scenicDetailHeader",onClick:this.showImageBrowser},this.renderHeaderImages(),f.a.createElement("div",{className:"scenicDetailHeaderBottom"},f.a.createElement("div",{className:"scenicDetailHeaderBottomText"},this.props.detailItem.CnName),f.a.createElement("div",{className:"lineDetailHeaderBottomText"},this.state.index,"/",this.props.detailItem.GetImage&&this.props.detailItem.GetImage.ImageList?this.props.detailItem.GetImage.ImageList.length:1))):null}},{key:"renderHeaderImages",value:function(){var e=this;return this.props.detailItem&&this.props.detailItem.GetImage&&this.props.detailItem.GetImage.ImageList&&0!==this.props.detailItem.GetImage.ImageList.length?f.a.createElement(c.a,{className:"scenicDetailHeaderImgSlider",afterChange:function(){return e.imageChage()},autoplay:!0,dots:!0,swiping:!0,infinite:!0,selectedIndex:0,swipeSpeed:35},this.props.detailItem.GetImage.ImageList.map(function(e,t){return f.a.createElement("div",{key:t,className:"scenicDetailHeaderImg",style:{backgroundImage:"url("+e.MiddleImgSrc+")"}})})):null}},{key:"imageChage",value:function(){this.state.index===this.props.detailItem.GetImage.ImageList.length?this.setState({index:1}):this.setState({index:this.state.index+1})}},{key:"renderBasicInfoViews",value:function(){var e=this;if(!this.props.detailItem)return null;var t=[{label:"\u4e3b\u8981\u98df\u6750",value:this.props.detailItem.FoodRecipe},{label:"\u53e3\u5473",value:this.props.detailItem.Taste},{label:"\u6240\u5c5e",value:this.props.detailItem.GetFoodType},{label:"\u63a8\u8350\u5b63\u8282",value:this.props.detailItem.GetSeason}];return f.a.createElement("div",{className:"foodDetailBasicInfoBox"},f.a.createElement("div",{className:"scenicDetailInfoRow"},f.a.createElement("div",{className:"scenicDetailInfoLabel"},"\u57fa\u672c\u4fe1\u606f")),t.map(function(t,n){return e.renderBasicInfoView(t,n)}))}},{key:"renderBasicInfoView",value:function(e,t){return f.a.createElement("div",{key:t,className:"foodDetailBasicInfoRow"},f.a.createElement("img",{src:n(255),alt:"",className:"foodDetailBasicInfoIcon"}),f.a.createElement("div",{className:"foodDetailBasicInfoText"},e.label,"\uff1a",e.value))}},{key:"renderSummaryView",value:function(){return this.props.detailItem?f.a.createElement("div",null,f.a.createElement("div",{className:"lineDetailOtherViewsSpace"}),f.a.createElement("div",{className:"foodDetailSummaryBox"},f.a.createElement("div",{className:"scenicDetailInfoRow"},f.a.createElement("div",{className:"scenicDetailInfoLabel"},"\u4ecb\u7ecd"),f.a.createElement("div",{className:"scenicDetailInfoValue scenicDetailMultDesc"},this.props.detailItem.Feature)))):null}},{key:"loadData",value:function(){this.props.dispatch(Object(_.a)(this.props.match.params.code))}},{key:"cacheScrollOffset",value:function(){var e=g.a.findDOMNode(this.scrollView).scrollTop;this.props.dispatch(Object(_.c)(this.props.match.params.code,e))}},{key:"restoreScrollViewPosition",value:function(){this.scrollView&&(isNaN(this.props.scrollViewOffset)?this.scrollView.scrollToY(0):this.scrollView.scrollToY(this.props.scrollViewOffset))}},{key:"showImageBrowser",value:function(){if(!this.props.detailItem||!this.props.detailItem.GetImage||!this.props.detailItem.GetImage.ImageList||0===this.props.detailItem.GetImage.ImageList.length)return null;for(var e=[],t=0;t<this.props.detailItem.GetImage.ImageList.length;t++){var n=this.props.detailItem.GetImage.ImageList[t];e.push(n.ImgSrc.replace("Small","Large"))}this.photoBrowserView.open(e)}}]),t}(m.PureComponent),v=function(e,t){var n=e.food.detailScreen[t.match.params.code];return Object.assign({},n)};C=Object(T.b)(v)(C),t.a=C},function(e,t,n){"use strict";function r(e){return{type:u.b.FOOD.DETAIL.GO_BACK,code:e}}function a(e){return function(t,n){return t(s(e)),o(e).then(function(n){n=n&&n.results&&n.results.length>0?n.results[0]:void 0,t(c(e,n))}).catch(function(n){t(l(e,n))})}}function i(e,t){return{type:u.b.FOOD.DETAIL.SET_DETAIL_SCROLL_OFFSET,code:e,scrollViewOffset:t}}function o(e){var t={Code:e};return p.a.getFromPortal(u.q.ELEMENTS.FoodDetail,t).then(function(e){return e.json()})}function s(e){return{type:u.b.FOOD.DETAIL.GET_DETAIL_REQUEST,code:e}}function c(e,t){return{type:u.b.FOOD.DETAIL.GET_DETAIL_SUCCESS,code:e,detailItem:t}}function l(e,t){return{type:u.b.FOOD.DETAIL.GET_DETAIL_FAILURE,code:e,message:t}}t.b=r,t.a=a,t.c=i;var u=n(1),p=n(8)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(34),s=(n.n(o),n(35)),c=n.n(s),l=n(49),u=(n.n(l),n(50)),p=n.n(u),d=n(11),h=(n.n(d),n(12)),E=n.n(h),m=n(44),f=(n.n(m),n(45)),T=n.n(f),I=n(18),g=(n.n(I),n(19)),S=n.n(g),_=n(0),b=n.n(_),O=n(2),L=n(10),y=n(256),C=n(20),v=n(36),N=n.n(v),R=n(160),w=n(257),D=(n.n(w),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),A=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.tabs=[{title:"\u7efc\u5408",tabIndex:0},{title:"\u4ef7\u683c",tabIndex:1},{title:"\u8ddd\u79bb",tabIndex:2},{title:"\u6700\u65b0",tabIndex:3}],n.onItemClick=n.onItemClick.bind(n),n.goBack=n.goBack.bind(n),n}return i(t,e),D(t,[{key:"render",value:function(){var e=this,t=window.innerHeight-89,n=window.innerHeight-133,r=N.a.parse(this.props.location.search);return b.a.createElement("div",null,b.a.createElement(E.a,{mode:"dark",className:"navBar",icon:b.a.createElement(S.a,{type:"left"}),onLeftClick:this.goBack},r&&r.segment?b.a.createElement(T.a,{values:["\u975e\u5403\u4e0d\u53ef","\u5168\u90e8\u7f8e\u98df"],tintColor:"white",selectedIndex:1,onValueChange:this.goBack}):"\u9910\u5385\u5217\u8868"),b.a.createElement(L.a,null,b.a.createElement(p.a,{placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57",maxLength:20,value:this.props.keyword,onChange:function(t){e.updateKeyword(t)},onSubmit:function(t){e.updateKeyword(t),e.searchByKeyword(t)}}),b.a.createElement(c.a,{tabs:this.tabs,ref:function(e){return C.a.updateComponentHeight(e,t)},initialPage:this.props.selectedTabIndex,prerenderingSiblingsNumber:0,onChange:function(t,n){e.props.dispatch(Object(R.g)(n)),e.searchByKeyword(e.props.keyword,n)},onTabClick:function(e,t){console.log("onTabClick",t,e)}},this.tabs.map(function(t,r){return b.a.createElement(y.a,{key:r,ref:function(t){t&&(e.tabs[r].listView=t.getWrappedInstance())},onItemClick:e.onItemClick,tabIndex:t.tabIndex,height:n})}))))}},{key:"updateKeyword",value:function(e){this.props.dispatch(Object(R.e)(e))}},{key:"searchByKeyword",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;t=void 0===t?this.props.selectedTabIndex:t;var n=this.tabs[t].listView;n&&n.searchByKeyword(e)}},{key:"onItemClick",value:function(e){if(e){for(var t=0;t<this.tabs.length;t++){var n=this.tabs[t].listView;n&&n.cacheScrollOffset()}this.props.history.push("/restaurant/detail/"+e.Code)}}},{key:"goBack",value:function(){var e=this.props.dispatch;this.props.history.goBack(),e(Object(R.d)())}}]),t}(_.PureComponent),k=function(e){return{selectedTabIndex:e.restaurant.listScreen.selectedTabIndex,keyword:e.restaurant.listScreen.keyword}};A=Object(O.b)(k)(A),t.a=A},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(42),s=(n.n(o),n(43)),c=n.n(s),l=n(16),u=(n.n(l),n(17)),p=n.n(u),d=n(11),h=(n.n(d),n(12)),E=n.n(h),m=n(0),f=n.n(m),T=n(2),I=n(56),g=n(14),S=n.n(g),_=n(10),b=n(580),O=n(41),L=n(61),y=n(257),C=(n.n(y),n(23)),v=n(15),N=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),R=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.showElementMarkerMap=n.showElementMarkerMap.bind(n),n.showImageBrowser=n.showImageBrowser.bind(n),n.state={totalScore:0,goodScore:0,badScore:0,index:1,showImageBrowser:!1,imageList:[]},n}return i(t,e),N(t,[{key:"componentDidMount",value:function(){this.props.detailItem?this.startScoreAnimation(this.props.detailItem):this.loadData(),this.restoreScrollViewPosition()}},{key:"componentDidUpdate",value:function(e,t,n){e.detailItem!==this.props.detailItem&&this.props.detailItem&&this.startScoreAnimation(this.props.detailItem)}},{key:"render",value:function(){var e=this;return f.a.createElement("div",null,f.a.createElement(E.a,{mode:"dark",className:"navBar",leftContent:f.a.createElement(C.a,{ref:function(t){e.LeftContentView=t?t.getWrappedInstance():e.scrollView},goBackAction:function(){return Object(b.b)(e.props.match.params.code)},history:this.props.history}),onLeftClick:function(){e.LeftContentView.goHome()}},"\u9910\u5385\u8be6\u60c5"),f.a.createElement(_.a,{ref:function(t){e.scrollView=t?t.getWrappedInstance():e.scrollView}},this.renderHeaderView(),this.renderElementOperationView(),this.renderScoreView(),this.renderMapView(),this.renderBasicViews(),this.renderFoodListView(),this.props.isFetching?f.a.createElement(p.a,{toast:!0,text:"Loading..."}):null,f.a.createElement(O.a,{ref:function(t){e.photoBrowserView=t?t.getWrappedInstance():e.scrollView}})))}},{key:"renderHeaderView",value:function(){return this.props.detailItem?f.a.createElement("div",{className:"scenicDetailHeader",onClick:this.showImageBrowser},this.renderHeaderImages(),f.a.createElement("div",{className:"scenicDetailHeaderBottom"},f.a.createElement("div",{className:"scenicDetailHeaderBottomText"},this.props.detailItem.CnName),f.a.createElement("div",{className:"lineDetailHeaderBottomText"},this.state.index,"/",this.props.detailItem.GetImage&&this.props.detailItem.GetImage.ImageList?this.props.detailItem.GetImage.ImageList.length:1))):null}},{key:"renderScoreView",value:function(){return this.props.detailItem?f.a.createElement("div",{className:"scenicScoreView"},f.a.createElement("div",{className:"scenicScoreCircle"},f.a.createElement(I.a,{percent:this.state.totalScore,strokeWidth:"6",trailWidth:"6",strokeColor:"#42a6dc",trailColor:"#f0f0f0"}),f.a.createElement("div",{className:"scenicScoreCircleTextBox"},f.a.createElement("div",{style:{flex:1}}),f.a.createElement("div",{className:"scenicScoreCircleTextSubBox"},f.a.createElement("div",{className:"scenicScoreCircleText"},this.state.totalScore),f.a.createElement("div",{className:"scenicScoreCircleUnit"},"%")),f.a.createElement("div",{style:{flex:1}}))),f.a.createElement("div",{className:"scenicScoreLines"},f.a.createElement("div",{className:"scenicScoreLine"},f.a.createElement("div",{className:"scenicScoreLineLabel"},"\u63a8\u8350"),f.a.createElement(I.b,{className:"scenicScoreLineProgress",percent:this.state.goodScore,strokeWidth:"4",trailWidth:"4",strokeColor:"#42a6dc",trailColor:"#f0f0f0"})),f.a.createElement("div",{className:"scenicScoreLine"},f.a.createElement("div",{className:"scenicScoreLineLabel"},"\u4e0d\u63a8\u8350"),f.a.createElement(I.b,{className:"scenicScoreLineProgress",percent:this.state.badScore,strokeWidth:"4",trailWidth:"4",strokeColor:"#42a6dc",trailColor:"#f0f0f0"})))):null}},{key:"renderHeaderImages",value:function(){var e=this;return this.props.detailItem&&this.props.detailItem.GetImage&&this.props.detailItem.GetImage.ImageList&&0!==this.props.detailItem.GetImage.ImageList.length?f.a.createElement(c.a,{className:"scenicDetailHeaderImgSlider",afterChange:function(){return e.imageChage()},autoplay:!0,dots:!1,swiping:!0,infinite:!0,selectedIndex:0,swipeSpeed:35},this.props.detailItem.GetImage.ImageList.map(function(e,t){return f.a.createElement("div",{key:t,className:"scenicDetailHeaderImg",style:{backgroundImage:"url("+e.MiddleImgSrc+")"}})})):null}},{key:"imageChage",value:function(){this.state.index===this.props.detailItem.GetImage.ImageList.length?this.setState({index:1}):this.setState({index:this.state.index+1})}},{key:"renderMapView",value:function(){var e=this;if(!this.props.detailItem||!this.props.detailItem.Longitude||!this.props.detailItem.Latitude)return null;var t=2*window.innerWidth,n="http://api.map.baidu.com/staticimage?width="+t+"&height=250&markers="+this.props.detailItem.Longitude+","+this.props.detailItem.Latitude+"&markerStyles=-1,http://oe72hu540.bkt.clouddn.com/ico_pin_blu.png";return f.a.createElement("img",{className:"scenicDetailMapImg",src:n,onClick:function(){return e.showElementMarkerMap()},alt:""})}},{key:"renderBasicViews",value:function(){var e=this;return this.props.detailItem?f.a.createElement("div",{className:"scenicDetailInfoRows"},f.a.createElement("div",{className:"scenicDetailInfoRow"},f.a.createElement("div",{className:"scenicDetailInfoLabel"},"\u5730\u5740"),f.a.createElement("div",{className:"scenicDetailInfoValue"},this.props.detailItem.Address)),this.props.detailItem.Telephone&&this.props.detailItem.Telephone.length>0?f.a.createElement("div",{className:"scenicDetailInfoRow"},f.a.createElement("div",{className:"scenicDetailInfoLabel"},"\u7535\u8bdd"),f.a.createElement("div",{className:"scenicDetailInfoPhoneRow",onClick:function(){return v.a.openTel(e.props.detailItem.Telephone)}},f.a.createElement("div",{className:"scenicDetailInfoValue"},this.props.detailItem.Telephone),f.a.createElement("div",{style:{flex:1}}),f.a.createElement("img",{className:"scenicDetailInfoPhone",src:n(62),alt:""}))):null,f.a.createElement("div",{className:"scenicDetailInfoRow"},f.a.createElement("div",{className:"scenicDetailInfoLabel"},"\u7b80\u4ecb"),f.a.createElement("div",{className:"scenicDetailInfoValue scenicDetailMultDesc"},this.props.detailItem.RestaurantFeature))):null}},{key:"renderFoodListView",value:function(){var e=this;return this.props.detailItem&&this.props.detailItem.GetFoodList&&0!==this.props.detailItem.GetFoodList.length?f.a.createElement("div",null,f.a.createElement("div",{className:"sceneryListSplitLine"}),f.a.createElement("div",{className:"sceneryTitleBox"},f.a.createElement("div",{className:"restaurantDetailInfoLabel"},"\u63a8\u8350\u83dc\u54c1")),f.a.createElement("div",{className:"sceneryListBox"},this.props.detailItem.GetFoodList.map(function(t,n){return e.renderFoodView(n)}))):null}},{key:"renderFoodView",value:function(e){var t=this,n=this.props.detailItem.GetFoodList[e],r=n.GetImage?n.GetImage.SmallImageFrontUrl:"";return f.a.createElement("div",{key:e,className:"sceneryItemView",onClick:function(){t.showFoodDetail(n.Code)}},f.a.createElement("img",{className:"sceneryItemImg",src:r,alt:""}),f.a.createElement("div",{className:"sceneryItemName"},n.CnName))}},{key:"showFoodDetail",value:function(e){this.cacheScrollOffset(),this.props.history.push("/food/detail/"+e)}},{key:"loadData",value:function(){this.props.dispatch(Object(b.a)(this.props.match.params.code))}},{key:"cacheScrollOffset",value:function(){var e=S.a.findDOMNode(this.scrollView).scrollTop;this.props.dispatch(Object(b.c)(this.props.match.params.code,e))}},{key:"restoreScrollViewPosition",value:function(){this.scrollView&&(isNaN(this.props.scrollViewOffset)?this.scrollView.scrollToY(0):this.scrollView.scrollToY(this.props.scrollViewOffset))}},{key:"startScoreAnimation",value:function(e){var t=this,n=e.GetUserComment;setTimeout(function(){t.setState({totalScore:0===n.AllCommentCount?100:(100*n.GoodCommentCount/n.AllCommentCount).toFixed(0),goodScore:0===n.AllCommentCount?100:(100*n.GoodCommentCount/n.AllCommentCount).toFixed(0),badScore:0===n.AllCommentCount?0:(100*(n.AllCommentCount-n.GoodCommentCount)/n.AllCommentCount).toFixed(0)})},700)}},{key:"showElementMarkerMap",value:function(){this.cacheScrollOffset();var e=this.props.detailItem;this.props.history.push("/map/elementMarker/"+this.props.match.params.code+"/"+e.CnName+"/"+e.Address+"/"+e.Latitude+"/"+e.Longitude)}},{key:"showImageBrowser",value:function(){if(!this.props.detailItem||!this.props.detailItem.GetImage||!this.props.detailItem.GetImage.ImageList||0===this.props.detailItem.GetImage.ImageList.length)return null;for(var e=[],t=0;t<this.props.detailItem.GetImage.ImageList.length;t++){var n=this.props.detailItem.GetImage.ImageList[t];e.push(n.ImgSrc.replace("Small","Large"))}this.photoBrowserView.open(e)}},{key:"renderElementOperationView",value:function(){var e=this;return this.props.detailItem?f.a.createElement(L.a,{code:this.props.match.params.code,onNearByTapped:function(){e.props.history.push({pathname:"/me/near-by",state:{centerLat:e.props.detailItem.Latitude,centerLng:e.props.detailItem.Longitude}})}}):null}}]),t}(m.PureComponent),w=function(e,t){var n=e.restaurant.detailScreen[t.match.params.code];return Object.assign({},n)};R=Object(T.b)(w)(R),t.a=R},function(e,t,n){"use strict";function r(e){return{type:u.b.RESTAURANT.DETAIL.GO_BACK,code:e}}function a(e){return function(t,n){return t(s(e)),o(e).then(function(n){n=n&&n.results&&n.results.length>0?n.results[0]:void 0,t(c(e,n))}).catch(function(n){t(l(e,n))})}}function i(e,t){return{type:u.b.RESTAURANT.DETAIL.SET_DETAIL_SCROLL_OFFSET,code:e,scrollViewOffset:t}}function o(e){var t={Code:e};return p.a.getFromPortal(u.q.ELEMENTS.RestaurantDetail,t).then(function(e){return e.json()})}function s(e){return{type:u.b.RESTAURANT.DETAIL.GET_DETAIL_REQUEST,code:e}}function c(e,t){return{type:u.b.RESTAURANT.DETAIL.GET_DETAIL_SUCCESS,code:e,detailItem:t}}function l(e,t){return{type:u.b.RESTAURANT.DETAIL.GET_DETAIL_FAILURE,code:e,message:t}}t.b=r,t.a=a,t.c=i;var u=n(1),p=n(8)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(34),s=(n.n(o),n(35)),c=n.n(s),l=n(49),u=(n.n(l),n(50)),p=n.n(u),d=n(11),h=(n.n(d),n(12)),E=n.n(h),m=n(44),f=(n.n(m),n(45)),T=n.n(f),I=n(18),g=(n.n(I),n(19)),S=n.n(g),_=n(0),b=n.n(_),O=n(2),L=n(10),y=n(582),C=n(20),v=n(36),N=n.n(v),R=n(258),w=n(150),D=(n.n(w),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),A=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.tabs=[{title:"\u7efc\u5408",tabIndex:0},{title:"\u70ed\u5ea6",tabIndex:1},{title:"\u6700\u65b0",tabIndex:2}],n.onItemClick=n.onItemClick.bind(n),n.goBack=n.goBack.bind(n),n}return i(t,e),D(t,[{key:"render",value:function(){var e=this,t=window.innerHeight-89,n=window.innerHeight-133,r=N.a.parse(this.props.location.search);return b.a.createElement("div",null,b.a.createElement(E.a,{mode:"dark",className:"navBar",icon:b.a.createElement(S.a,{type:"left"}),onLeftClick:this.goBack},r&&r.segment?b.a.createElement(T.a,{values:["\u975e\u4e70\u4e0d\u53ef","\u5168\u90e8\u7279\u4ea7"],tintColor:"white",selectedIndex:1,onValueChange:this.goBack}):"\u7279\u4ea7\u5217\u8868"),b.a.createElement(L.a,null,b.a.createElement(p.a,{placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57",maxLength:20,value:this.props.keyword,onChange:function(t){e.updateKeyword(t)},onSubmit:function(t){e.updateKeyword(t),e.searchByKeyword(t)}}),b.a.createElement(c.a,{tabs:this.tabs,ref:function(e){return C.a.updateComponentHeight(e,t)},initialPage:this.props.selectedTabIndex,prerenderingSiblingsNumber:0,onChange:function(t,n){e.props.dispatch(Object(R.f)(n)),e.searchByKeyword(e.props.keyword,n)},onTabClick:function(e,t){console.log("onTabClick",t,e)}},this.tabs.map(function(t,r){return b.a.createElement(y.a,{key:r,ref:function(t){t&&(e.tabs[r].listView=t.getWrappedInstance())},onItemClick:e.onItemClick,tabIndex:t.tabIndex,height:n})}))))}},{key:"updateKeyword",value:function(e){this.props.dispatch(Object(R.d)(e))}},{key:"searchByKeyword",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;t=void 0===t?this.props.selectedTabIndex:t;var n=this.tabs[t].listView;n&&n.searchByKeyword(e)}},{key:"onItemClick",value:function(e){if(e){for(var t=0;t<this.tabs.length;t++){var n=this.tabs[t].listView;n&&n.cacheScrollOffset()}this.props.history.push("/specialty/detail/"+e.Code)}}},{key:"goBack",value:function(){var e=this.props.dispatch;this.props.history.goBack(),e(Object(R.c)())}}]),t}(_.PureComponent),k=function(e){return{selectedTabIndex:e.specialty.listScreen.selectedTabIndex,keyword:e.specialty.listScreen.keyword}};A=Object(O.b)(k)(A),t.a=A},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(24),s=(n.n(o),n(25)),c=n.n(s),l=n(16),u=(n.n(l),n(17)),p=n.n(u),d=n(26),h=(n.n(d),n(27)),E=n.n(h),m=n(0),f=n.n(m),T=n(2),I=n(9),g=n.n(I),S=n(14),_=n.n(S),b=n(258),O=n(20),L=n(32),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),C=["Sort","likeCount","ModifyTime"],v=["desc","desc","desc"],N=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.renderRow=n.renderRow.bind(n),n.onRefresh=n.onRefresh.bind(n),n.loadNextPage=n.loadNextPage.bind(n),n.renderFooter=n.renderFooter.bind(n);var i=new E.a.DataSource({rowHasChanged:function(e,t){return e!==t},sectionHeaderHasChanged:function(e,t){return e!==t}});return n.state={dataSource:i.cloneWithRows(n.props.dataList?n.props.dataList:[])},n}return i(t,e),y(t,[{key:"componentDidMount",value:function(){this.props.dataList||this.loadData(this.props.inputKeyword),this.listView&&!isNaN(this.props.listViewOffset)&&this.listView.scrollTo(0,this.props.listViewOffset)}},{key:"componentDidUpdate",value:function(e,t,n){this.props.dataList!==e.dataList&&this.setState({dataSource:this.state.dataSource.cloneWithRows(this.props.dataList?this.props.dataList:[])})}},{key:"render",value:function(){var e=this;return f.a.createElement("div",{className:"scenicListBox",style:{height:this.props.height}},this.renderListView(),this.props.isFetching||this.props.dataList&&0!==this.props.dataList.length?null:f.a.createElement(L.a,{style:{height:this.props.height},onClick:function(){return e.onRefresh(e.props.inputKeyword)}}),this.props.isFetching&&1===this.props.pageIndex?f.a.createElement(p.a,{toast:!0,text:"Loading..."}):null)}},{key:"renderListView",value:function(){var e=this;if(this.props.dataList&&this.props.dataList.length>0){var t=function(e,t){return f.a.createElement("div",{key:e+"-"+t,style:{height:1,borderBottom:"0.5px solid #dddddd"}})};return f.a.createElement(E.a,{ref:function(t){e.listView=t,O.a.fixListViewHeightIssue(t,e.props.height)},dataSource:this.state.dataSource,renderRow:this.renderRow,renderSeparator:t,style:{height:this.props.height,overflow:"auto"},pullToRefresh:f.a.createElement(c.a,{refreshing:this.props.isFetching,onRefresh:function(){return e.onRefresh(e.props.inputKeyword)}}),onEndReached:this.loadNextPage,renderFooter:this.renderFooter,initialListSize:this.props.dataList.length,pageSize:20,scrollRenderAheadDistance:500,scrollEventThrottle:50,onEndReachedThreshold:20})}}},{key:"searchByKeyword",value:function(e){e===this.props.keyword||this.isEmptyString(e)&&this.isEmptyString(this.props.keyword)||this.onRefresh(e)}},{key:"isEmptyString",value:function(e){return!e||0===e.length}},{key:"onRefresh",value:function(e){var t=this;this.props.dispatch(Object(b.a)(C[this.props.tabIndex],v[this.props.tabIndex])).then(function(){t.loadData(e)})}},{key:"loadNextPage",value:function(){this.loadData()}},{key:"renderFooter",value:function(){return this.props.isFetching&&!0===this.props.hasMore?f.a.createElement("div",{className:"loadingMore"},f.a.createElement(p.a,{text:"Loading..."})):null}},{key:"renderRow",value:function(e,t,n){var r=this,a=e.GetImage?e.GetImage.ImageFrontUrl:"";return f.a.createElement("div",{key:n,className:"scenicListItem",onClick:function(){r.props.onItemClick&&r.props.onItemClick(e)}},f.a.createElement("div",{style:{backgroundImage:"url("+a+")"},className:"specialtyListItemImg"}),f.a.createElement("div",{className:"specialtyListItemTextBox"},f.a.createElement("div",{className:"specialtyListItemName"},e.CnName),f.a.createElement("div",{className:"foodListItemMultText"},e.LocalProductDesc)))}},{key:"loadData",value:function(e){if(!this.props.isFetching&&!1!==this.props.hasMore){var t=this.props.pageIndex?this.props.pageIndex+1:1;this.props.dispatch(Object(b.b)(C[this.props.tabIndex],v[this.props.tabIndex],t,e||this.props.keyword))}}},{key:"cacheScrollOffset",value:function(){if(this.listView){var e=_.a.findDOMNode(this.listView).scrollTop;this.props.dispatch(Object(b.e)(C[this.props.tabIndex],v[this.props.tabIndex],e))}}}]),t}(m.PureComponent);N.propTypes={onItemClick:g.a.func};var R=function(e,t){var n=e.specialty.listScreen.groups[C[t.tabIndex]];return Object.assign({selectedTabIndex:e.specialty.listScreen.selectedTabIndex},n,{inputKeyword:e.specialty.listScreen.keyword})};N=Object(T.b)(R,null,null,{withRef:!0})(N),t.a=N},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(11),s=(n.n(o),n(12)),c=n.n(s),l=n(44),u=(n.n(l),n(45)),p=n.n(u),d=n(18),h=(n.n(d),n(19)),E=n.n(h),m=n(0),f=n.n(m),T=n(2),I=n(10),g=n(584),S=n(259),_=n(150),b=(n.n(_),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),O=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onItemClick=n.onItemClick.bind(n),n.goBack=n.goBack.bind(n),n.showCommonList=n.showCommonList.bind(n),n}return i(t,e),b(t,[{key:"render",value:function(){var e=this,t=window.innerHeight-45;return f.a.createElement("div",null,f.a.createElement(c.a,{mode:"dark",className:"navBar",icon:f.a.createElement(E.a,{type:"left"}),onLeftClick:this.goBack},f.a.createElement(p.a,{values:["\u975e\u4e70\u4e0d\u53ef","\u5168\u90e8\u7279\u4ea7"],tintColor:"white",selectedIndex:0,onValueChange:this.showCommonList})),f.a.createElement(I.a,null,f.a.createElement(g.a,{ref:function(t){t&&(e.listView=t.getWrappedInstance())},onItemClick:this.onItemClick,height:t})))}},{key:"onItemClick",value:function(e){e&&e.GetRelation&&e.GetRelation.Code&&(this.listView&&this.listView.cacheScrollOffset(),this.props.history.push("/specialty/detail/"+e.GetRelation.Code))}},{key:"goBack",value:function(){var e=this.props.dispatch;this.props.history.goBack(),e(Object(S.c)())}},{key:"showCommonList",value:function(){this.listView&&this.listView.cacheScrollOffset(),this.props.history.push("/specialty/list?segment=true")}}]),t}(m.PureComponent);O=Object(T.b)()(O),t.a=O},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(24),s=(n.n(o),n(25)),c=n.n(s),l=n(16),u=(n.n(l),n(17)),p=n.n(u),d=n(26),h=(n.n(d),n(27)),E=n.n(h),m=n(0),f=n.n(m),T=n(2),I=n(9),g=n.n(I),S=n(14),_=n.n(S),b=n(259),O=n(20),L=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.renderRow=n.renderRow.bind(n),n.onRefresh=n.onRefresh.bind(n);var i=new E.a.DataSource({rowHasChanged:function(e,t){return e!==t},sectionHeaderHasChanged:function(e,t){return e!==t}});return n.state={dataSource:i.cloneWithRows(n.props.dataList?n.props.dataList:[])},n}return i(t,e),L(t,[{key:"componentDidMount",value:function(){this.props.dataList||this.loadData(),this.listView&&!isNaN(this.props.listViewOffset)&&this.listView.scrollTo(0,this.props.listViewOffset)}},{key:"componentDidUpdate",value:function(e,t,n){this.props.dataList!==e.dataList&&this.setState({dataSource:this.state.dataSource.cloneWithRows(this.props.dataList?this.props.dataList:[])})}},{key:"render",value:function(){return f.a.createElement("div",{className:"scenicListBox",style:{height:this.props.height}},this.renderListView(),this.props.isFetching?f.a.createElement(p.a,{toast:!0,text:"Loading..."}):null)}},{key:"renderListView",value:function(){var e=this;if(this.props.dataList&&this.props.dataList.length>=0){var t=function(e,t){return f.a.createElement("div",{key:e+"-"+t,style:{height:"5px",backgroundColor:"#2d2327"}})};return f.a.createElement(E.a,{ref:function(t){e.listView=t,O.a.fixListViewHeightIssue(t,e.props.height)},dataSource:this.state.dataSource,renderRow:this.renderRow,renderSeparator:t,style:{height:this.props.height,overflow:"auto"},pullToRefresh:f.a.createElement(c.a,{refreshing:this.props.isFetching,onRefresh:this.onRefresh}),initialListSize:this.props.dataList.length,pageSize:20,scrollRenderAheadDistance:500,scrollEventThrottle:50,onEndReachedThreshold:20})}}},{key:"isEmptyString",value:function(e){return!e||0===e.length}},{key:"onRefresh",value:function(){var e=this;this.props.dispatch(Object(b.a)()).then(function(){e.loadData()})}},{key:"renderRow",value:function(e,t,n){var r=this,a=e.GetImage&&e.GetImage.MiddleImageFrontUrl?e.GetImage.MiddleImageFrontUrl:"";return a=a&&a.length>0&&a.indexOf("noPicture")<0?a:e.GetRelation&&e.GetRelation.GetImage&&e.GetRelation.GetImage.MiddleImageFrontUrl?e.GetRelation.GetImage.MiddleImageFrontUrl:"",f.a.createElement("div",{key:n,className:"scenicRecommendListItemBox",onClick:function(){r.props.onItemClick&&r.props.onItemClick(e)}},f.a.createElement("div",{className:"scenicRecommendListItemBg",style:{backgroundImage:"url("+a+")"}},f.a.createElement("div",{className:"specialtyRecommendListBottom"},f.a.createElement("div",{className:"specialtyRecommendListBottomText"},e.Head))))}},{key:"loadData",value:function(){this.props.isFetching||this.props.dispatch(Object(b.b)())}},{key:"cacheScrollOffset",value:function(){if(this.listView){var e=_.a.findDOMNode(this.listView).scrollTop;this.props.dispatch(Object(b.d)(e))}}}]),t}(m.PureComponent);y.propTypes={onItemClick:g.a.func};var C=function(e){return Object.assign({},e.specialty.recommendListScreen)};y=Object(T.b)(C,null,null,{withRef:!0})(y),t.a=y},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(42),s=(n.n(o),n(43)),c=n.n(s),l=n(16),u=(n.n(l),n(17)),p=n.n(u),d=n(11),h=(n.n(d),n(12)),E=n.n(h),m=n(0),f=n.n(m),T=n(2),I=n(14),g=n.n(I),S=n(10),_=n(586),b=n(41),O=n(150),L=(n.n(O),n(23)),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),C=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showImageBrowser:!1,imageList:[]},n.showImageBrowser=n.showImageBrowser.bind(n),n}return i(t,e),y(t,[{key:"componentDidMount",value:function(){this.props.detailItem||this.loadData(),this.restoreScrollViewPosition()}},{key:"render",value:function(){var e=this;return f.a.createElement("div",null,f.a.createElement(E.a,{mode:"dark",className:"navBar",leftContent:f.a.createElement(L.a,{ref:function(t){e.LeftContentView=t?t.getWrappedInstance():e.scrollView},goBackAction:function(){return Object(_.b)(e.props.match.params.code)},history:this.props.history}),onLeftClick:function(){e.LeftContentView.goHome()}},"\u7279\u4ea7\u8be6\u60c5"),f.a.createElement(S.a,{ref:function(t){e.scrollView=t?t.getWrappedInstance():e.scrollView}},this.renderHeaderView(),this.renderBasicInfoViews(),this.renderSummaryView(),this.props.isFetching?f.a.createElement(p.a,{toast:!0,text:"Loading..."}):null,f.a.createElement(b.a,{ref:function(t){e.photoBrowserView=t?t.getWrappedInstance():e.scrollView}})))}},{key:"renderHeaderView",value:function(){return this.props.detailItem?f.a.createElement("div",{className:"scenicDetailHeader",onClick:this.showImageBrowser},this.renderHeaderImages(),f.a.createElement("div",{className:"scenicDetailHeaderBottom"},f.a.createElement("div",{className:"scenicDetailHeaderBottomText"},this.props.detailItem.CnName))):null}},{key:"renderHeaderImages",value:function(){return this.props.detailItem&&this.props.detailItem.GetImage&&this.props.detailItem.GetImage.ImageList&&0!==this.props.detailItem.GetImage.ImageList.length?f.a.createElement(c.a,{className:"scenicDetailHeaderImgSlider",autoplay:!0,dots:!0,swiping:!0,dotStyle:{marginBottom:"35px"},dotActiveStyle:{marginBottom:"35px"},infinite:!0,selectedIndex:0,swipeSpeed:35},this.props.detailItem.GetImage.ImageList.map(function(e,t){return f.a.createElement("div",{key:t,className:"scenicDetailHeaderImg",style:{backgroundImage:"url("+e.ImgSrc+")"}})})):null}},{key:"renderBasicInfoViews",value:function(){var e=this;return this.props.detailItem?f.a.createElement("div",{className:"foodDetailBasicInfoBox"},f.a.createElement("div",{className:"scenicDetailInfoRow"},f.a.createElement("div",{className:"scenicDetailInfoLabel"},"\u57fa\u672c\u4fe1\u606f")),this.renderBasicInfoView({AttributeName:"\u7279\u4ea7\u7c7b\u578b",GetText:this.props.detailItem.GetProductTypeText},-1),this.props.detailItem.GetAttribute&&this.props.detailItem.GetAttribute.map(function(t,n){return e.renderBasicInfoView(t,n)})):null}},{key:"renderBasicInfoView",value:function(e,t){return f.a.createElement("div",{key:t,className:"foodDetailBasicInfoRow"},f.a.createElement("img",{src:n(255),alt:"",className:"foodDetailBasicInfoIcon"}),f.a.createElement("div",{className:"foodDetailBasicInfoText"},e.AttributeName,"\uff1a",e.GetText))}},{key:"renderSummaryView",value:function(){return this.props.detailItem?f.a.createElement("div",null,f.a.createElement("div",{className:"lineDetailOtherViewsSpace"}),f.a.createElement("div",{className:"foodDetailSummaryBox"},f.a.createElement("div",{className:"scenicDetailInfoRow"},f.a.createElement("div",{className:"scenicDetailInfoLabel"},"\u4ecb\u7ecd"),f.a.createElement("div",{className:"scenicDetailInfoValue scenicDetailMultDesc"},this.props.detailItem.LocalProductDesc)))):null}},{key:"loadData",value:function(){this.props.dispatch(Object(_.a)(this.props.match.params.code))}},{key:"cacheScrollOffset",value:function(){var e=g.a.findDOMNode(this.scrollView).scrollTop;this.props.dispatch(Object(_.c)(this.props.match.params.code,e))}},{key:"restoreScrollViewPosition",value:function(){this.scrollView&&(isNaN(this.props.scrollViewOffset)?this.scrollView.scrollToY(0):this.scrollView.scrollToY(this.props.scrollViewOffset))}},{key:"showImageBrowser",value:function(){if(!this.props.detailItem||!this.props.detailItem.GetImage||!this.props.detailItem.GetImage.ImageList||0===this.props.detailItem.GetImage.ImageList.length)return null;for(var e=[],t=0;t<this.props.detailItem.GetImage.ImageList.length;t++){var n=this.props.detailItem.GetImage.ImageList[t];e.push(n.ImgSrc.replace("Small","Large"))}this.photoBrowserView.open(e)}}]),t}(m.PureComponent),v=function(e,t){var n=e.specialty.detailScreen[t.match.params.code];return Object.assign({},n)};C=Object(T.b)(v)(C),t.a=C},function(e,t,n){"use strict";function r(e){return{type:u.b.SPECIALTY.DETAIL.GO_BACK,code:e}}function a(e){return function(t,n){return t(s(e)),o(e).then(function(n){n=n&&n.results&&n.results.length>0?n.results[0]:void 0,t(c(e,n))}).catch(function(n){t(l(e,n))})}}function i(e,t){return{type:u.b.SPECIALTY.DETAIL.SET_DETAIL_SCROLL_OFFSET,code:e,scrollViewOffset:t}}function o(e){var t={code:e};return p.a.getFromPortal(u.q.ELEMENTS.LocalProductDetail,t).then(function(e){return e.json()})}function s(e){return{type:u.b.SPECIALTY.DETAIL.GET_DETAIL_REQUEST,code:e}}function c(e,t){return{type:u.b.SPECIALTY.DETAIL.GET_DETAIL_SUCCESS,code:e,detailItem:t}}function l(e,t){return{type:u.b.SPECIALTY.DETAIL.GET_DETAIL_FAILURE,code:e,message:t}}t.b=r,t.a=a,t.c=i;var u=n(1),p=n(8)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(34),s=(n.n(o),n(35)),c=n.n(s),l=n(49),u=(n.n(l),n(50)),p=n.n(u),d=n(11),h=(n.n(d),n(12)),E=n.n(h),m=n(44),f=(n.n(m),n(45)),T=n.n(f),I=n(18),g=(n.n(I),n(19)),S=n.n(g),_=n(0),b=n.n(_),O=n(2),L=n(10),y=n(260),C=n(20),v=n(36),N=n.n(v),R=n(161),w=n(151),D=(n.n(w),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),A=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.tabs=[{title:"\u7efc\u5408",tabIndex:0},{title:"\u70ed\u5ea6",tabIndex:1},{title:"\u4ef7\u683c",tabIndex:2},{title:"\u8ddd\u79bb",tabIndex:3}],n.onItemClick=n.onItemClick.bind(n),n.goBack=n.goBack.bind(n),n}return i(t,e),D(t,[{key:"render",value:function(){var e=this,t=window.innerHeight-89,n=window.innerHeight-133,r=N.a.parse(this.props.location.search);return b.a.createElement("div",null,b.a.createElement(E.a,{mode:"dark",className:"navBar",icon:b.a.createElement(S.a,{type:"left"}),onLeftClick:this.goBack},r&&r.segment?b.a.createElement(T.a,{values:["\u975e\u73a9\u4e0d\u53ef","\u5168\u90e8\u5a31\u4e50"],tintColor:"white",selectedIndex:1,onValueChange:this.goBack}):"\u5a31\u4e50\u5217\u8868"),b.a.createElement(L.a,null,b.a.createElement(p.a,{placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57",maxLength:20,value:this.props.keyword,onChange:function(t){e.updateKeyword(t)},onSubmit:function(t){e.updateKeyword(t),e.searchByKeyword(t)}}),b.a.createElement(c.a,{tabs:this.tabs,ref:function(e){return C.a.updateComponentHeight(e,t)},initialPage:this.props.selectedTabIndex,prerenderingSiblingsNumber:0,onChange:function(t,n){e.props.dispatch(Object(R.g)(n)),e.searchByKeyword(e.props.keyword,n)},onTabClick:function(e,t){console.log("onTabClick",t,e)}},this.tabs.map(function(t,r){return b.a.createElement(y.a,{key:r,ref:function(t){t&&(e.tabs[r].listView=t.getWrappedInstance())},onItemClick:e.onItemClick,tabIndex:t.tabIndex,height:n})}))))}},{key:"updateKeyword",value:function(e){this.props.dispatch(Object(R.e)(e))}},{key:"searchByKeyword",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;t=void 0===t?this.props.selectedTabIndex:t;var n=this.tabs[t].listView;n&&n.searchByKeyword(e)}},{key:"onItemClick",value:function(e){if(e){for(var t=0;t<this.tabs.length;t++){var n=this.tabs[t].listView;n&&n.cacheScrollOffset()}this.props.history.push("/fun/detail/"+e.Code)}}},{key:"goBack",value:function(){var e=this.props.dispatch;this.props.history.goBack(),e(Object(R.d)())}}]),t}(_.PureComponent),k=function(e){return{selectedTabIndex:e.fun.listScreen.selectedTabIndex,keyword:e.fun.listScreen.keyword}};A=Object(O.b)(k)(A),t.a=A},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(11),s=(n.n(o),n(12)),c=n.n(s),l=n(44),u=(n.n(l),n(45)),p=n.n(u),d=n(0),h=n.n(d),E=n(2),m=n(10),f=n(589),T=n(261),I=n(151),g=(n.n(I),n(23)),S=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onItemClick=n.onItemClick.bind(n),n.showCommonList=n.showCommonList.bind(n),n}return i(t,e),S(t,[{key:"render",value:function(){var e=this,t=window.innerHeight-45;return h.a.createElement("div",null,h.a.createElement(c.a,{mode:"dark",className:"navBar",leftContent:h.a.createElement(g.a,{ref:function(t){e.LeftContentView=t?t.getWrappedInstance():e.scrollView},goBackAction:T.c,history:this.props.history}),onLeftClick:function(){e.LeftContentView.goHome()}},h.a.createElement(p.a,{values:["\u975e\u73a9\u4e0d\u53ef","\u5168\u90e8\u5a31\u4e50"],tintColor:"white",selectedIndex:0,onValueChange:this.showCommonList})),h.a.createElement(m.a,null,h.a.createElement(f.a,{ref:function(t){t&&(e.listView=t.getWrappedInstance())},onItemClick:this.onItemClick,height:t})))}},{key:"onItemClick",value:function(e){e&&e.GetRelation&&e.GetRelation.Code&&(this.listView&&this.listView.cacheScrollOffset(),this.props.history.push("/fun/detail/"+e.GetRelation.Code))}},{key:"showCommonList",value:function(){this.listView&&this.listView.cacheScrollOffset(),this.props.history.push("/fun/list?segment=true")}}]),t}(d.PureComponent);_=Object(E.b)()(_),t.a=_},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(24),s=(n.n(o),n(25)),c=n.n(s),l=n(16),u=(n.n(l),n(17)),p=n.n(u),d=n(26),h=(n.n(d),n(27)),E=n.n(h),m=n(0),f=n.n(m),T=n(2),I=n(9),g=n.n(I),S=n(14),_=n.n(S),b=n(261),O=n(20),L=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.renderRow=n.renderRow.bind(n),n.onRefresh=n.onRefresh.bind(n);var i=new E.a.DataSource({rowHasChanged:function(e,t){return e!==t},sectionHeaderHasChanged:function(e,t){return e!==t}});return n.state={dataSource:i.cloneWithRows(n.props.dataList?n.props.dataList:[])},n}return i(t,e),L(t,[{key:"componentDidMount",value:function(){this.props.dataList||this.loadData(),this.listView&&!isNaN(this.props.listViewOffset)&&this.listView.scrollTo(0,this.props.listViewOffset)}},{key:"componentDidUpdate",value:function(e,t,n){this.props.dataList!==e.dataList&&this.setState({dataSource:this.state.dataSource.cloneWithRows(this.props.dataList?this.props.dataList:[])})}},{key:"render",value:function(){return f.a.createElement("div",{className:"scenicListBox",style:{height:this.props.height}},this.renderListView(),this.props.isFetching?f.a.createElement(p.a,{toast:!0,text:"Loading..."}):null)}},{key:"renderListView",value:function(){var e=this;if(this.props.dataList&&this.props.dataList.length>=0){var t=function(e,t){return f.a.createElement("div",{key:e+"-"+t,style:{height:"5px",backgroundColor:"#2d2327"}})};return f.a.createElement(E.a,{ref:function(t){e.listView=t,O.a.fixListViewHeightIssue(t,e.props.height)},dataSource:this.state.dataSource,renderRow:this.renderRow,renderSeparator:t,style:{height:this.props.height,overflow:"auto"},pullToRefresh:f.a.createElement(c.a,{refreshing:this.props.isFetching,onRefresh:this.onRefresh}),initialListSize:this.props.dataList.length,pageSize:20,scrollRenderAheadDistance:500,scrollEventThrottle:50,onEndReachedThreshold:20})}}},{key:"isEmptyString",value:function(e){return!e||0===e.length}},{key:"onRefresh",value:function(){var e=this;this.props.dispatch(Object(b.a)()).then(function(){e.loadData()})}},{key:"renderRow",value:function(e,t,n){var r=this,a=e.GetImage&&e.GetImage.MiddleImageFrontUrl?e.GetImage.MiddleImageFrontUrl:"";return a=a&&a.length>0&&a.indexOf("noPicture")<0?a:e.GetRelation&&e.GetRelation.GetImage&&e.GetRelation.GetImage.MiddleImageFrontUrl?e.GetRelation.GetImage.MiddleImageFrontUrl:"",f.a.createElement("div",{key:n,className:"scenicRecommendListItemBox",onClick:function(){r.props.onItemClick&&r.props.onItemClick(e)}},f.a.createElement("div",{className:"scenicRecommendListItemBg",style:{backgroundImage:"url("+a+")"}},f.a.createElement("div",{className:"scenicRecommendListBottom"},f.a.createElement("div",{className:"hotelRecommendListBottomText"},e.Head))))}},{key:"loadData",value:function(){this.props.isFetching||this.props.dispatch(Object(b.b)())}},{key:"cacheScrollOffset",value:function(){if(this.listView){var e=_.a.findDOMNode(this.listView).scrollTop;this.props.dispatch(Object(b.d)(e))}}}]),t}(m.PureComponent);y.propTypes={onItemClick:g.a.func};var C=function(e){return Object.assign({},e.fun.recommendListScreen)};y=Object(T.b)(C,null,null,{withRef:!0})(y),t.a=y},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(42),s=(n.n(o),n(43)),c=n.n(s),l=n(16),u=(n.n(l),n(17)),p=n.n(u),d=n(11),h=(n.n(d),n(12)),E=n.n(h),m=n(0),f=n.n(m),T=n(2),I=n(56),g=n(14),S=n.n(g),_=n(10),b=n(591),O=n(41),L=n(61),y=n(23),C=n(151),v=(n.n(C),n(15)),N=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),R=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.showElementMarkerMap=n.showElementMarkerMap.bind(n),n.showImageBrowser=n.showImageBrowser.bind(n),n.state={totalScore:0,goodScore:0,badScore:0,index:1,showImageBrowser:!1,imageList:[]},n}return i(t,e),N(t,[{key:"componentDidMount",value:function(){this.props.detailItem?this.startScoreAnimation(this.props.detailItem):this.loadData(),this.restoreScrollViewPosition()}},{key:"componentDidUpdate",value:function(e,t,n){e.detailItem!==this.props.detailItem&&this.props.detailItem&&this.startScoreAnimation(this.props.detailItem)}},{key:"render",value:function(){var e=this;return f.a.createElement("div",null,f.a.createElement(E.a,{mode:"dark",className:"navBar",leftContent:f.a.createElement(y.a,{ref:function(t){e.LeftContentView=t?t.getWrappedInstance():e.scrollView},goBackAction:function(){return Object(b.b)(e.props.match.params.code)},history:this.props.history}),onLeftClick:function(){e.LeftContentView.goHome()}},"\u5a31\u4e50\u8be6\u60c5"),f.a.createElement(_.a,{ref:function(t){e.scrollView=t?t.getWrappedInstance():e.scrollView}},this.renderHeaderView(),this.renderElementOperationView(),this.renderScoreView(),this.renderMapView(),this.renderBasicViews(),this.props.isFetching?f.a.createElement(p.a,{toast:!0,text:"Loading..."}):null,f.a.createElement(O.a,{ref:function(t){e.photoBrowserView=t?t.getWrappedInstance():e.scrollView}})))}},{key:"renderHeaderView",value:function(){return this.props.detailItem?f.a.createElement("div",{className:"scenicDetailHeader",onClick:this.showImageBrowser},this.renderHeaderImages(),f.a.createElement("div",{className:"scenicDetailHeaderBottom"},f.a.createElement("div",{className:"scenicDetailHeaderBottomText"},this.props.detailItem.CnName),f.a.createElement("div",{className:"lineDetailHeaderBottomText"},this.state.index,"/",this.props.detailItem.GetImage&&this.props.detailItem.GetImage.ImageList?this.props.detailItem.GetImage.ImageList.length:1))):null}},{key:"renderScoreView",value:function(){return this.props.detailItem?f.a.createElement("div",{className:"scenicScoreView"},f.a.createElement("div",{className:"scenicScoreCircle"},f.a.createElement(I.a,{percent:this.state.totalScore,strokeWidth:"6",trailWidth:"6",strokeColor:"#42a6dc",trailColor:"#f0f0f0"}),f.a.createElement("div",{className:"scenicScoreCircleTextBox"},f.a.createElement("div",{style:{flex:1}}),f.a.createElement("div",{className:"scenicScoreCircleTextSubBox"},f.a.createElement("div",{className:"scenicScoreCircleText"},this.state.totalScore),f.a.createElement("div",{className:"scenicScoreCircleUnit"},"%")),f.a.createElement("div",{style:{flex:1}}))),f.a.createElement("div",{className:"scenicScoreLines"},f.a.createElement("div",{className:"scenicScoreLine"},f.a.createElement("div",{className:"scenicScoreLineLabel"},"\u63a8\u8350"),f.a.createElement(I.b,{className:"scenicScoreLineProgress",percent:this.state.goodScore,strokeWidth:"4",trailWidth:"4",strokeColor:"#42a6dc",trailColor:"#f0f0f0"})),f.a.createElement("div",{className:"scenicScoreLine"},f.a.createElement("div",{className:"scenicScoreLineLabel"},"\u4e0d\u63a8\u8350"),f.a.createElement(I.b,{className:"scenicScoreLineProgress",percent:this.state.badScore,strokeWidth:"4",trailWidth:"4",strokeColor:"#42a6dc",trailColor:"#f0f0f0"})))):null}},{key:"renderHeaderImages",value:function(){var e=this;return this.props.detailItem&&this.props.detailItem.GetImage&&this.props.detailItem.GetImage.ImageList&&0!==this.props.detailItem.GetImage.ImageList.length?f.a.createElement(c.a,{className:"scenicDetailHeaderImgSlider",afterChange:function(){return e.imageChage()},autoplay:!0,dots:!1,swiping:!0,infinite:!0,selectedIndex:0,swipeSpeed:35},this.props.detailItem.GetImage.ImageList.map(function(e,t){return f.a.createElement("div",{key:t,className:"scenicDetailHeaderImg",style:{backgroundImage:"url("+e.MiddleImgSrc+")"}})})):null}},{key:"imageChage",value:function(){this.state.index===this.props.detailItem.GetImage.ImageList.length?this.setState({index:1}):this.setState({index:this.state.index+1})}},{key:"renderMapView",value:function(){var e=this;if(!this.props.detailItem||!this.props.detailItem.Longitude||!this.props.detailItem.Latitude)return null;var t=2*window.innerWidth,n="http://api.map.baidu.com/staticimage?width="+t+"&height=250&markers="+this.props.detailItem.Longitude+","+this.props.detailItem.Latitude+"&markerStyles=-1,http://oe72hu540.bkt.clouddn.com/ico_pin_blu.png";return f.a.createElement("img",{className:"scenicDetailMapImg",src:n,onClick:function(){return e.showElementMarkerMap()},alt:""})}},{key:"renderBasicViews",value:function(){var e=this;return this.props.detailItem?f.a.createElement("div",{className:"scenicDetailInfoRows"},f.a.createElement("div",{className:"scenicDetailInfoRow"},f.a.createElement("div",{className:"scenicDetailInfoLabel"},"\u5730\u5740"),f.a.createElement("div",{className:"scenicDetailInfoValue"},this.props.detailItem.Address)),this.props.detailItem.Telephone&&this.props.detailItem.Telephone.length>0?f.a.createElement("div",{className:"scenicDetailInfoRow"},f.a.createElement("div",{className:"scenicDetailInfoLabel"},"\u7535\u8bdd"),f.a.createElement("div",{className:"scenicDetailInfoPhoneRow",onClick:function(){return v.a.openTel(e.props.detailItem.Telephone)}},f.a.createElement("div",{className:"scenicDetailInfoValue"},this.props.detailItem.Telephone),f.a.createElement("div",{style:{flex:1}}),f.a.createElement("img",{className:"scenicDetailInfoPhone",src:n(62),alt:""}))):null,f.a.createElement("div",{className:"scenicDetailInfoRow"},f.a.createElement("div",{className:"scenicDetailInfoLabel"},"\u5a31\u4e50\u7b80\u4ecb"),f.a.createElement("div",{className:"scenicDetailInfoValue scenicDetailMultDesc"},this.props.detailItem.Summary))):null}},{key:"loadData",value:function(){this.props.dispatch(Object(b.a)(this.props.match.params.code))}},{key:"cacheScrollOffset",value:function(){var e=S.a.findDOMNode(this.scrollView).scrollTop;this.props.dispatch(Object(b.c)(this.props.match.params.code,e))}},{key:"restoreScrollViewPosition",value:function(){this.scrollView&&(isNaN(this.props.scrollViewOffset)?this.scrollView.scrollToY(0):this.scrollView.scrollToY(this.props.scrollViewOffset))}},{key:"startScoreAnimation",value:function(e){var t=this,n=e.GetUserComment;setTimeout(function(){t.setState({totalScore:0===n.AllCommentCount?100:(100*n.GoodCommentCount/n.AllCommentCount).toFixed(0),goodScore:0===n.AllCommentCount?100:(100*n.GoodCommentCount/n.AllCommentCount).toFixed(0),badScore:0===n.AllCommentCount?0:(100*(n.AllCommentCount-n.GoodCommentCount)/n.AllCommentCount).toFixed(0)})},700)}},{key:"showElementMarkerMap",value:function(){this.cacheScrollOffset();var e=this.props.detailItem;this.props.history.push("/map/elementMarker/"+this.props.match.params.code+"/"+e.CnName+"/"+e.Address+"/"+e.Latitude+"/"+e.Longitude)}},{key:"showImageBrowser",value:function(){if(!this.props.detailItem||!this.props.detailItem.GetImage||!this.props.detailItem.GetImage.ImageList||0===this.props.detailItem.GetImage.ImageList.length)return null;for(var e=[],t=0;t<this.props.detailItem.GetImage.ImageList.length;t++){var n=this.props.detailItem.GetImage.ImageList[t];e.push(n.ImgSrc.replace("Small","Large"))}this.photoBrowserView.open(e)}},{key:"renderElementOperationView",value:function(){var e=this;return this.props.detailItem?f.a.createElement(L.a,{code:this.props.match.params.code,onNearByTapped:function(){e.props.history.push({pathname:"/me/near-by",state:{centerLat:e.props.detailItem.Latitude,centerLng:e.props.detailItem.Longitude}})}}):null}}]),t}(m.PureComponent),w=function(e,t){var n=e.fun.detailScreen[t.match.params.code];return Object.assign({},n)};R=Object(T.b)(w)(R),t.a=R},function(e,t,n){"use strict";function r(e){return{type:u.b.FUN.DETAIL.GO_BACK,code:e}}function a(e){return function(t,n){return t(s(e)),o(e).then(function(n){n=n&&n.results&&n.results.length>0?n.results[0]:void 0,t(c(e,n))}).catch(function(n){t(l(e,n))})}}function i(e,t){return{type:u.b.FUN.DETAIL.SET_DETAIL_SCROLL_OFFSET,code:e,scrollViewOffset:t}}function o(e){var t={Code:e};return p.a.getFromPortal(u.q.ELEMENTS.EntertainmentDetail,t).then(function(e){return e.json()})}function s(e){return{type:u.b.FUN.DETAIL.GET_DETAIL_REQUEST,code:e}}function c(e,t){return{type:u.b.FUN.DETAIL.GET_DETAIL_SUCCESS,code:e,detailItem:t}}function l(e,t){return{type:u.b.FUN.DETAIL.GET_DETAIL_FAILURE,code:e,message:t}}t.b=r,t.a=a,t.c=i;var u=n(1),p=n(8)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e){var t=void 0,n=void 0;return e.history.location&&e.history.location.state&&(t=e.history.location.state.centerLat,n=e.history.location.state.centerLng),t&&n?"selectedTabIndex_"+t+"_"+n:"selectedTabIndex"}var s=n(34),c=(n.n(s),n(35)),l=n.n(c),u=n(11),p=(n.n(u),n(12)),d=n.n(p),h=n(18),E=(n.n(h),n(19)),m=n.n(E),f=n(0),T=n.n(f),I=n(2),g=n(10),S=n(236),_=n(295),b=n(260),O=n(262),L=n(256),y=n(20),C=n(1),v=n(593),N=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),R=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.tabs=[{title:"\u666f\u533a",tabIndex:3,component:_.a,storeKey:C.s.ME_NEAR_BY_SCENIC},{title:"\u9152\u5e97",tabIndex:3,component:S.a,storeKey:C.s.ME_NEAR_BY_HOTEL},{title:"\u9910\u5385",tabIndex:2,component:L.a,storeKey:C.s.ME_NEAR_BY_RESTAURANT},{title:"\u5a31\u4e50",tabIndex:3,component:b.a,storeKey:C.s.ME_NEAR_BY_FUN},{title:"\u8d2d\u7269",tabIndex:2,component:O.a,storeKey:C.s.ME_NEAR_BY_SHOPPING}],n.onItemClick=n.onItemClick.bind(n),n.goBack=n.goBack.bind(n),n.centerLat=void 0,n.centerLng=void 0,n.props.history.location&&n.props.history.location.state&&(n.centerLat=n.props.history.location.state.centerLat,n.centerLng=n.props.history.location.state.centerLng),n}return i(t,e),N(t,[{key:"render",value:function(){var e=this,t=window.innerHeight-45,n=window.innerHeight-89;return T.a.createElement("div",null,T.a.createElement(d.a,{mode:"dark",className:"navBar",icon:T.a.createElement(m.a,{type:"left"}),onLeftClick:this.goBack},"\u5468\u8fb9"),T.a.createElement(g.a,null,T.a.createElement(l.a,{tabs:this.tabs,ref:function(e){return y.a.updateComponentHeight(e,t)},initialPage:this.props.selectedTabIndex,prerenderingSiblingsNumber:0,onChange:function(t,n){e.props.dispatch(Object(v.b)(o(e.props),n)),e.searchByKeyword(n)},onTabClick:function(e,t){console.log("onTabClick",t,e)}},this.tabs.map(function(t,r){var a=t.component;return T.a.createElement(a,{key:r,ref:function(t){t&&(e.tabs[r].listView=t.getWrappedInstance())},storeKey:t.storeKey,centerLat:e.centerLat,centerLng:e.centerLng,onItemClick:e.onItemClick,tabIndex:t.tabIndex,height:n})}))))}},{key:"searchByKeyword",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;e=void 0===e?this.props.selectedTabIndex:e;var t=this.tabs[e].listView;t&&t.searchByKeyword()}},{key:"onItemClick",value:function(e){if(e){for(var t=0;t<this.tabs.length;t++){var n=this.tabs[t].listView;n&&n.cacheScrollOffset()}0===this.props.selectedTabIndex?this.props.history.push("/scenic/detail/"+e.Code):1===this.props.selectedTabIndex?this.props.history.push("/hotel/detail/"+e.Code):2===this.props.selectedTabIndex?this.props.history.push("/restaurant/detail/"+e.Code):3===this.props.selectedTabIndex?this.props.history.push("/fun/detail/"+e.Code):4===this.props.selectedTabIndex&&this.props.history.push("/shopping/detail/"+e.Code)}}},{key:"goBack",value:function(){var e=this.props.dispatch;this.props.history.goBack(o(this.props)),e(Object(v.a)())}}]),t}(f.PureComponent),w=function(e,t){var n=e.userNearby.selectedTabIndexGroup[o(t)];return{selectedTabIndex:n||0}};R=Object(I.b)(w)(R),t.a=R},function(e,t,n){"use strict";function r(e,t){return{type:i.b.ME.NEAR_BY.SET_SELECTED_TAB_INDEX,index:t,storeKey:e}}function a(e){return{type:i.b.ME.NEAR_BY.GO_BACK,storeKey:e}}t.b=r,t.a=a;var i=n(1);n(21)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(595),s=(n.n(o),n(597)),c=n.n(s),l=n(28),u=(n.n(l),n(29)),p=n.n(u),d=n(16),h=(n.n(d),n(17)),E=n.n(h),m=n(11),f=(n.n(m),n(12)),T=n.n(f),I=n(44),g=(n.n(I),n(45)),S=n.n(g),_=n(18),b=(n.n(_),n(19)),O=n.n(b),L=n(0),y=n.n(L),C=n(2),v=n(10),N=n(14),R=n.n(N),w=n(36),D=n.n(w),A=n(290),k=n.n(A),P=n(54),F=n(607),U=n(158),G=(n.n(U),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),j=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.toLat="",n.toLng="",n.fromIsUserLocation=!0,n.code="",n.driveMethods=["\u6700\u5c11\u65f6\u95f4","\u6700\u77ed\u8ddd\u79bb","\u907f\u5f00\u9ad8\u901f"],n.busMethods=["\u6700\u5c11\u65f6\u95f4","\u6700\u5c11\u6362\u4e58","\u6700\u5c11\u6b65\u884c","\u4e0d\u4e58\u5730\u94c1"],n.toLat=n.props.match.params.toLat,n.toLng=n.props.match.params.toLng;var i=D.a.parse(n.props.location.search);return n.fromLat=i.fromLat,n.fromLng=i.fromLng,n.fromIsUserLocation=!(n.fromLat&&n.fromLng&&n.fromLat.length>0&&n.fromLng.length>0),n.code=n.props.match.params.code,n.state={mapHeight:0,panelLeft:0},n.searchCompleted=n.searchCompleted.bind(n),n.hidePanel=n.hidePanel.bind(n),n.showPanel=n.showPanel.bind(n),n.showNavWayChooser=n.showNavWayChooser.bind(n),n.changeMapNavType=n.changeMapNavType.bind(n),n}return i(t,e),G(t,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(F.b)(this.code,!0)),this.updateWindowDimensions()}},{key:"componentDidUpdate",value:function(e,t,n){var r=this.props.baiduMapInited&&!e.baiduMapInited;if(r=r||this.fromIsUserLocation&&!e.fromLat&&this.props.fromLat!==e.fromLat,r&&this.updateFromLocation(this.props),this.props.navType===e.navType&&this.props.navMethodIndex===e.navMethodIndex||(this.planLine(this.props),this.hidePanel()),this.props.navResults&&this.props.isPanelShowing!==e.isPanelShowing){var a=document.getElementById("r-result").innerHTML;this.setState({panelResult:a})}this.props.navResults!==e.navResults&&this.showSearchOverlay(this.props.navResults)}},{key:"render",value:function(){var e=this;return y.a.createElement("div",null,y.a.createElement(T.a,{mode:"dark",className:"navBar",icon:y.a.createElement(O.a,{type:"left"}),rightContent:y.a.createElement("div",{onClick:function(){return e.showNavPanelDetails()}},"\u8be6\u60c5"),onLeftClick:function(){var t=e.props.match.params.code,n=e.props.dispatch;e.props.history.goBack(),n(Object(F.a)(t))}},y.a.createElement(S.a,{values:["\u5f00\u8f66","\u516c\u4ea4","\u6b65\u884c"],tintColor:"white",selectedIndex:this.props.navType&&"drive"!==this.props.navType?"bus"===this.props.navType?1:2:0,onChange:function(t){return e.changeMapNavType(t.nativeEvent.selectedSegmentIndex)}})),y.a.createElement(v.a,{ref:function(t){e.scrollView=t?t.getWrappedInstance():e.scrollView}},y.a.createElement("div",{id:"elementMarkerMap",style:{height:this.state.mapHeight+"px"}}),y.a.createElement(k.a,{transitionName:"navpanel",transitionAppearTimeout:500,transitionEnterTimeout:500,transitionLeaveTimeout:300},this.props.isPanelShowing?y.a.createElement("div",{key:"1",className:"navResultPanel",onClick:this.hidePanel},y.a.createElement("div",{style:{marginLeft:this.state.panelLeft+"px",height:"100%",overflow:"scroll"}},y.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.panelResult}}))):null),y.a.createElement("div",{className:"distanceTimeBox"},y.a.createElement("div",{className:"distanceTimeBoxItem"},this.props.totalDistance),y.a.createElement("div",{className:"distanceTimeBoxItem"},this.props.totalTime)),y.a.createElement("div",{className:"navWay",onClick:this.showNavWayChooser},"walk"===this.props.navType?"":"drive"===this.props.navType?this.driveMethods[this.props.navMethodIndex]:this.busMethods[this.props.navMethodIndex]),y.a.createElement("div",{id:"r-result",style:{display:"none"}}),this.props.isFetching?y.a.createElement(E.a,{toast:!0,text:"Loading..."}):null))}},{key:"initMap",value:function(){this.driveMethodTypes=[window.BMAP_DRIVING_POLICY_LEAST_TIME,window.BMAP_DRIVING_POLICY_LEAST_DISTANCE,window.BMAP_DRIVING_POLICY_AVOID_HIGHWAYS],this.busMethodTypes=[window.BMAP_TRANSIT_POLICY_LEAST_TIME,window.BMAP_TRANSIT_POLICY_LEAST_TRANSFER,window.BMAP_TRANSIT_POLICY_LEAST_WALKING,window.BMAP_TRANSIT_POLICY_AVOID_SUBWAYS],this.markerIcon=new window.BMap.Icon(n(284),new window.BMap.Size(30,30),{anchor:new window.BMap.Size(15,30),imageSize:new window.BMap.Size(30,30)}),this.map=this.map?this.map:new window.BMap.Map("elementMarkerMap"),this.map.centerAndZoom(new window.BMap.Point(P.a.instance.appCityLongitude,P.a.instance.appCityLatitude),16),this.map.addControl(new window.BMap.NavigationControl({type:window.BMAP_NAVIGATION_CONTROL_SMALL,anchor:window.BMAP_ANCHOR_BOTTOM_RIGHT,enableGeolocation:!0,offset:new window.BMap.Size(20,60)})),this.planLine(this.props)}},{key:"updateWindowDimensions",value:function(){var e=this,t=window.innerHeight-R.a.findDOMNode(this).parentNode.offsetTop;this.setState({mapHeight:t,panelLeft:window.innerWidth/3},function(){e.updateFromLocation(e.props)})}},{key:"updateFromLocation",value:function(e){if(e.baiduMapInited&&this.initMap(),e.baiduMapInited&&(!this.fromIsUserLocation||this.fromIsUserLocation&&e.fromLat&&e.fromLng)){this.fromIsUserLocation&&(this.fromLat=e.fromLat,this.fromLng=e.fromLng);this.props.dispatch(Object(F.j)(e.match.params.code,this.fromLat,this.fromLng,this.toLat,this.toLng,"drive"))}}},{key:"changeMapNavType",value:function(e){var t=0===e?"drive":1===e?"bus":"walk";this.props.dispatch(Object(F.i)(this.code,t))}},{key:"planLine",value:function(e){this.toLat&&this.toLng&&this.map&&this.fromLat&&this.fromLng&&e.navType&&this.doPlanLine(e)}},{key:"doPlanLine",value:function(e){e.dispatch(Object(F.g)(this.code));var t=new window.BMap.Icon(n(608),new window.BMap.Size(22,35)),r=new window.BMap.Icon(n(609),new window.BMap.Size(22,35));t.imageSize=new window.BMap.Size(22,35),r.imageSize=new window.BMap.Size(22,35);var a=new window.BMap.Point(this.fromLng,this.fromLat),i=new window.BMap.Point(this.toLng,this.toLat);"drive"===e.navType?(this.drivingSearch?this.drivingSearch.setPolicy(this.driveMethodTypes[e.navMethodIndex]):this.drivingSearch=new window.BMap.DrivingRoute(this.map,{renderOptions:{map:this.map,autoViewport:!0,panel:"r-result"},policy:this.driveMethodTypes[e.navMethodIndex],onSearchComplete:this.searchCompleted}),this.drivingSearch.setMarkersSetCallback(function(e){e[0].marker.setIcon(t),e[1].marker.setIcon(r)}),this.drivingSearch.search(a,i)):"bus"===e.navType?(this.busSearch?this.busSearch.setPolicy(this.busMethodTypes[e.navMethodIndex]):this.busSearch=new window.BMap.TransitRoute(this.map,{renderOptions:{map:this.map,panel:"r-result"},policy:this.busMethodTypes[e.navMethodIndex],onSearchComplete:this.searchCompleted.bind(this)}),this.busSearch.setMarkersSetCallback(function(e){e[0].marker.setIcon(t),e[1].marker.setIcon(r)}),this.busSearch.search(a,i)):"walk"===e.navType&&(this.walkSearch||(this.walkSearch=new window.BMap.WalkingRoute(this.map,{renderOptions:{map:this.map,autoViewport:!0,panel:"r-result"},onSearchComplete:this.searchCompleted.bind(this)})),this.walkSearch.setMarkersSetCallback(function(e){e[0].marker.setIcon(t),e[1].marker.setIcon(r)}),this.walkSearch.search(a,i))}},{key:"searchCompleted",value:function(e){this.map.clearOverlays();if(("drive"===this.props.navType?this.drivingSearch.getStatus():"bus"===this.props.navType?this.busSearch.getStatus():this.walkSearch.getStatus())===window.BMAP_STATUS_SUCCESS){var t="",n="",r=!1;if(e.getNumPlans()>0){var a=e.getPlan(0);n=a.getDistance(!0),t=a.getDuration(!0),r=!0}this.props.dispatch(Object(F.h)(this.code,e,t,n,r))}else this.props.dispatch(Object(F.f)(this.code,e))}},{key:"showSearchOverlay",value:function(e){if(this.props.dispatch(Object(F.b)(this.code,!1)),e){if(e.getNumPlans()>0){var t=e.getPlan(0),n=[];if("drive"===this.props.navType||"walk"===this.props.navType){if(!t||!t.getNumRoutes||!t.getRoute)return;for(var r=0;r<t.getNumRoutes();r++){var a=t.getRoute(r);if(a&&a.getNumSteps&&a.getStep)for(var i=0;i<a.getNumSteps();i++){var o=a.getStep(i);o&&o.getDescription&&n.push(i+1+". "+o.getDescription())}}}else if("bus"===this.props.navType)for(var s=0;s<e.getNumPlans();s++){var c=e.getPlan(s);c&&c.getDescription&&n.push("\u65b9\u6848"+(s+1)+". "+c.getDescription(!1))}if("bus"===this.props.navType&&t&&t.getNumLines)for(var l=0;l<t.getNumLines();l++){var u=t.getLine(l);this.map.addOverlay(new window.BMap.Polyline(u.getPath()))}}else p.a.fail("\u62b1\u6b49\uff0c\u672a\u68c0\u7d22\u5230\u8def\u7ebf",2)}}},{key:"togglePanel",value:function(){this.props.dispatch(Object(F.c)(this.code,!this.props.isPanelShowing))}},{key:"showPanel",value:function(){this.props.dispatch(Object(F.c)(this.code,!0))}},{key:"hidePanel",value:function(){this.props.dispatch(Object(F.c)(this.code,!1))}},{key:"showNavWayChooser",value:function(){var e=this;if("walk"!==this.props.navType){var t="drive"===this.props.navType?this.driveMethods:this.busMethods,n="drive"===this.props.navType?"\u8bf7\u9009\u62e9\u9a7e\u8f66\u65b9\u6848":"\u8bf7\u9009\u62e9\u516c\u4ea4\u65b9\u6848";c.a.showActionSheetWithOptions({options:t,title:n},function(t){t>=0&&e.props.dispatch(Object(F.e)(e.code,t))})}}},{key:"showNavPanelDetails",value:function(){this.togglePanel()}},{key:"setMapZoomAndCenterLocation",value:function(){if(this.map){var e=this.map.getCenter(),t=this.map.getZoom(),n=e.lat,r=e.lng;this.props.dispatch(Object(F.d)(this.code,t,n,r))}}}]),t}(L.PureComponent),M=function(e,t){var n=e.map.mapNav[t.match.params.code];return Object.assign({},n,{baiduMapInited:e.system.baiduMapInited,fromLat:e.system.latitude,fromLng:e.system.longitude})};j=Object(C.b)(M)(j),t.a=j},,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return{type:E.b.MAP.MAPNAV.GO_BACK,code:e}}function a(e,t,n,r,a,i){return{type:E.b.MAP.MAPNAV.UPDATE_FROM_TO_LOCATION,code:e,fromLat:t,fromLng:n,toLat:r,toLng:a,navType:i}}function i(e,t){return{type:E.b.MAP.MAPNAV.IS_FETCHING_CHANGE,code:e,isFetching:t}}function o(e,t){return{type:E.b.MAP.MAPNAV.SELECT_NAV_TYPE,code:e,navType:t}}function s(e,t){return{type:E.b.MAP.MAPNAV.IS_PANEL_SHOWING_CHANGE,code:e,isPanelShowing:t}}function c(e){return{type:E.b.MAP.MAPNAV.NAV_SEARCH_REQUEST,code:e}}function l(e,t,n,r,a){return{type:E.b.MAP.MAPNAV.NAV_SEARCH_SUCCESS,code:e,results:t,totalTime:n,totalDistance:r,dataIsValid:a}}function u(e,t){return{type:E.b.MAP.MAPNAV.NAV_SEARCH_FAILURE,code:e,results:t}}function p(e,t){return{type:E.b.MAP.MAPNAV.NAV_METHOD_INDEX_CHANGE,code:e,navMethodIndex:t}}function d(e,t,n,r){return function(a,i){return a(h(e,t,n,r)),new Promise(function(e){e()})}}function h(e,t,n,r){return{type:E.b.MAP.MAPNAV.MAPZOOM_AND_CENTERLOCATION_CHANGE,code:e,mapZoom:t,centerLat:n,centerLng:r}}t.a=r,t.j=a,t.b=i,t.i=o,t.c=s,t.g=c,t.h=l,t.f=u,t.e=p,t.d=d;var E=n(1)},function(e,t,n){e.exports=n.p+"static/media/icon_nav_start.8c8eec7f.png"},function(e,t,n){e.exports=n.p+"static/media/icon_nav_end.65c6a886.png"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(28),s=(n.n(o),n(29)),c=n.n(s),l=n(16),u=(n.n(l),n(17)),p=n.n(u),d=n(86),h=(n.n(d),n(87)),E=n.n(h),m=n(11),f=(n.n(m),n(12)),T=n.n(f),I=n(18),g=(n.n(I),n(19)),S=n.n(g),_=n(0),b=n.n(_),O=n(2),L=n(10),y=n(265),C=(n.n(y),n(78)),v=n(8),N=n(1),R=n(15),w=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),D=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.pwd="",n.state={mode:1,phoneNumber:"",password:"",checkCode:"",timeCount:60,isTimerTicking:!1},n.goBack=n.goBack.bind(n),n.handlePhoneNumberChange=n.handlePhoneNumberChange.bind(n),n.handlePasswordChange=n.handlePasswordChange.bind(n),n.scheduleTimer=n.scheduleTimer.bind(n),n}return i(t,e),w(t,[{key:"handlePhoneNumberChange",value:function(e){this.setState({phoneNumber:e.target.value})}},{key:"handlePasswordChange",value:function(e){this.setState({password:e.target.value})}},{key:"render",value:function(){var e=this;return b.a.createElement("div",{className:"whiteTopNavBar"},b.a.createElement(T.a,{mode:"light",className:"navBar",icon:b.a.createElement(S.a,{type:"left"}),leftContent:"\u8fd4\u56de",rightContent:this.renderRightMenu(),onLeftClick:this.goBack},"\u767b\u5f55"),b.a.createElement(L.a,null,b.a.createElement("div",{className:"loginInput",style:{marginTop:"50px"}},b.a.createElement("div",{className:"inputPhoneDiv"},b.a.createElement("input",{className:"inputPhone",placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",type:"number",onChange:this.handlePhoneNumberChange})),b.a.createElement("div",{className:"loginSendCode"},b.a.createElement("input",{className:"inputPwd",type:0===this.state.mode?"number":"password",placeholder:0===this.state.mode?"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801":"\u8bf7\u8f93\u5165\u5bc6\u7801",onChange:this.handlePasswordChange}),0===this.state.mode?b.a.createElement("div",{className:"sendCodeButton",style:{color:this.state.isTimerTicking?"#999999":"#58c0e7",borderColor:this.state.isTimerTicking?"#999999":"#58c0e7"},onClick:function(){return e.sendCode()}},this.state.isTimerTicking?"\u91cd\u65b0\u83b7\u53d6("+this.state.timeCount+"s)":"\u53d1\u9001\u9a8c\u8bc1\u7801"):null)),b.a.createElement(E.a,{style:{margin:"10px 10px 0px 10px",background:"#58c0e7"},type:"primary",onClick:function(){return e.doLogin()}},"\u767b\u5f55"),b.a.createElement("div",{className:"loginBottomText"},b.a.createElement("div",{className:"loginBottomTextLeft",onClick:function(){return e.changeLoginWay()}},0===this.state.mode?"\u5bc6\u7801\u767b\u5f55":"\u9a8c\u8bc1\u7801\u767b\u5f55"),b.a.createElement("div",{className:"loginBottomTextRight",onClick:function(){return e.findPassword()}},"\u627e\u56de\u5bc6\u7801")),this.props.isFetching?b.a.createElement(p.a,{toast:!0,text:"\u767b\u5f55\u4e2d..."}):null))}},{key:"renderRightMenu",value:function(){var e=this;return b.a.createElement("div",{onClick:function(){return e.register()}},"\u6ce8\u518c")}},{key:"goBack",value:function(){this.props.history.goBack()}},{key:"doLogin",value:function(){var e=this;return 0===this.state.phoneNumber.length?void c.a.show("\u8bf7\u8f93\u5165\u624b\u673a\u53f7",1):11!==this.state.phoneNumber.length?void c.a.show("\u8bf7\u8f93\u516511\u4f4d\u624b\u673a\u53f7",1):0===this.state.password.length?void(0===this.state.mode?c.a.show("\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",1):c.a.show("\u8bf7\u8f93\u5165\u5bc6\u7801",1)):void(1===this.state.mode?this.props.dispatch(Object(C.b)(this.state.phoneNumber,this.state.password)).then(function(){e.props.status&&"0"===e.props.status?(c.a.success("\u767b\u5f55\u6210\u529f",1),e.goBack()):c.a.fail(e.props.message,1)}):this.state.checkCode===this.state.password?this.props.dispatch(Object(C.b)(this.state.phoneNumber,this.pwd)).then(function(){e.props.status&&"0"===e.props.status?(c.a.success("\u767b\u5f55\u6210\u529f",1),e.goBack()):c.a.fail(e.props.message,1)}):c.a.show("\u9a8c\u8bc1\u7801\u4e0d\u6b63\u786e",1))}},{key:"changeLoginWay",value:function(){0===this.state.mode?this.setState({mode:1}):this.setState({mode:0})}},{key:"findPassword",value:function(){this.props.history.push("/me/findPasswordAndRegist/0")}},{key:"register",value:function(){this.props.history.push("/me/findPasswordAndRegist/1")}},{key:"sendCode",value:function(){var e=this;if(!this.state.isTimerTicking){if(0===this.state.phoneNumber.length)return void c.a.show("\u8bf7\u8f93\u5165\u624b\u673a\u53f7",1);if(11!==this.state.phoneNumber.length)return void c.a.show("\u8bf7\u8f93\u516511\u4f4d\u624b\u673a\u53f7",1);var t={phone:this.state.phoneNumber};v.a.postToPortal(N.q.ME.GetUserInfoByPhone,t,null,!0).then(function(e){return e.json()}).then(function(t){t&&t.results&&t.results.length>0?(e.pwd=t.results.Pwd,e.setState({checkCode:R.a.RndNum(5)}),e.fetchSendCode(e.state.phoneNumber,e.state.checkCode)):c.a.fail("\u8be5\u7528\u6237\u4e0d\u5b58\u5728",void 0,void 0,!1)})}}},{key:"fetchSendCode",value:function(e,t){var n=this,r={phone:e,type:"1",code:t};return v.a.postToPortal(N.q.ME.SendMessage,r,null,!0).then(function(e){return e.json()}).then(function(e){"0"===e.status?(c.a.success("\u9a8c\u8bc1\u7801\u5df2\u53d1\u9001",void 0,void 0,!1),n.setState({timeCount:60,isTimerTicking:!0}),n.scheduleTimer()):c.a.fail("\u9a8c\u8bc1\u7801\u53d1\u9001\u5931\u8d25",void 0,void 0,!1)})}},{key:"scheduleTimer",value:function(){this.setState({timeCount:this.state.timeCount-1}),this.state.timeCount>0?setTimeout(this.scheduleTimer,1e3):this.setState({isTimerTicking:!1})}},{key:"componentWillUnmount",value:function(){this.setState({timeCount:60,isTimerTicking:!1})}}]),t}(_.PureComponent),A=function(e,t){var n=e.me.userInfo;return Object.assign({},n)};D=Object(O.b)(A)(D),t.a=D},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(39),s=(n.n(o),n(40)),c=n.n(s),l=n(24),u=(n.n(l),n(25)),p=n.n(u),d=n(11),h=(n.n(d),n(12)),E=n.n(h),m=n(18),f=(n.n(m),n(19)),T=n.n(f),I=n(0),g=n.n(I),S=n(2),_=n(10),b=n(152),O=(n.n(b),n(15)),L=n(1),y=n(78),C=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.goBack=n.goBack.bind(n),n.exit=n.exit.bind(n),n.itemClick=n.itemClick.bind(n),n.myAttentionListTapped=n.myAttentionListTapped.bind(n),n.myFansListTapped=n.myFansListTapped.bind(n),n.onRefresh=n.onRefresh.bind(n),n}return i(t,e),C(t,[{key:"componentDidMount",value:function(){this.props.ID&&this.onRefresh()}},{key:"render",value:function(){var e=this,t=n(612),r=n(613);return g.a.createElement("div",null,g.a.createElement(E.a,{mode:"dark",className:"navBar",icon:g.a.createElement(T.a,{type:"left"}),rightContent:this.renderRightMenu(),onLeftClick:this.goBack},"\u4e2a\u4eba\u4e2d\u5fc3"),g.a.createElement(_.a,null,g.a.createElement(p.a,{style:{height:window.innerHeight-45+"px",overflow:"auto"},refreshing:this.props.isFetching,onRefresh:this.onRefresh},g.a.createElement("div",null,g.a.createElement("div",{className:"mineHead",style:{backgroundImage:"url("+t+")"}},g.a.createElement("div",{className:"mineInfo",style:{backgroundImage:"url("+r+")",height:202*window.innerWidth/640+"px"}},g.a.createElement("div",{className:"userImg",style:{backgroundImage:"url("+this.props.GetUserAvatar+")"}}),g.a.createElement("div",{className:"userInfo"},g.a.createElement("div",{className:"userName"},this.props.Nickname),g.a.createElement("div",{className:"userTips"},g.a.createElement("div",{className:"userNumberButton",onClick:function(){return e.myAttentionListTapped()}},g.a.createElement("div",{className:"userNumberText"},"\u5173\u6ce8: ",this.props.AttentionCount?this.props.AttentionCount:0)),g.a.createElement("div",{className:"userNumberButton",onClick:function(){return e.myFansListTapped()}},g.a.createElement("div",{className:"userNumberText"},"\u7c89\u4e1d: ",this.props.FansCount?this.props.FansCount:0)))))),g.a.createElement("div",{style:{marginLeft:"30px"}},this.renderItem(n(614),"\u4e2a\u4eba\u8d44\u6599",0),this.renderItem(n(615),"\u6211\u7684\u8ba2\u5355",1),this.renderItem(n(616),"\u6211\u7684\u884c\u7a0b",3),this.renderItem(n(617),"\u6211\u7684\u6536\u85cf",5),this.renderItem(n(618),"\u6211\u7684\u8db3\u8ff9",6))))))}},{key:"renderItem",value:function(e,t,r){var a=this;return g.a.createElement("div",{onClick:function(){return a.itemClick(r)}},g.a.createElement("div",{className:"mineItem"},g.a.createElement("div",{className:"mineItemLeft"},g.a.createElement("img",{className:"mineItemLeftImg",src:e,alt:""}),g.a.createElement("span",{className:"mineItemLeftContent"},t)),g.a.createElement("img",{className:"mineItemRight",src:n(55),alt:""})),g.a.createElement("div",{style:{width:"100%",height:"1px",backgroundColor:"#e0e0e0"}}))}},{key:"renderRightMenu",value:function(){return g.a.createElement("div",{onClick:this.exit},"\u9000\u51fa")}},{key:"onRefresh",value:function(){this.props.dispatch(Object(y.a)(this.props.ID))}},{key:"goBack",value:function(){this.props.history.goBack()}},{key:"exit",value:function(){var e=this;(0,c.a.alert)("\u9000\u51fa","\u60a8\u786e\u5b9a\u8981\u9000\u51fa\u767b\u5f55?",[{text:"\u53d6\u6d88"},{text:"\u786e\u5b9a",onPress:function(){return e.exitLogin()}}])}},{key:"exitLogin",value:function(){var e=this.props.dispatch;this.props.history.goBack(),e(Object(y.g)())}},{key:"itemClick",value:function(e){switch(e){case 0:this.props.history.push("/me/updateUserInfo");break;case 1:this.props.history.push("/order/list");break;case 2:break;case 3:this.props.history.push("/journey/list");break;case 5:this.props.history.push("/me/collectList");break;case 6:this.props.history.push("/footmark/myList")}}},{key:"myAttentionListTapped",value:function(){this.props.history.push({pathname:"/userProfile/friendList",search:"?friendsType="+L.g.ATTENTIONS+"&targetUserId="+this.props.ID})}},{key:"myFansListTapped",value:function(){this.props.history.push({pathname:"/userProfile/friendList",search:"?friendsType="+L.g.FANS+"&targetUserId="+this.props.ID})}}]),t}(I.PureComponent),N=function(e){var t=O.a.getUserInfo(e);return Object.assign({},t,{isFetching:e.me.isFetching})};v=Object(S.b)(N)(v),t.a=v},function(e,t,n){e.exports=n.p+"static/media/bg.86398052.jpg"},function(e,t,n){e.exports=n.p+"static/media/infro_bg.549933d0.png"},function(e,t,n){e.exports=n.p+"static/media/date.c894a46f.png"},function(e,t,n){e.exports=n.p+"static/media/ticket.e065cb31.png"},function(e,t,n){e.exports=n.p+"static/media/hotel.e9b262ea.png"},function(e,t,n){e.exports=n.p+"static/media/integral.a087cabc.png"},function(e,t,n){e.exports=n.p+"static/media/footmark.cbd30604.png"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(39),s=(n.n(o),n(40)),c=n.n(s),l=n(163),u=(n.n(l),n(164)),p=n.n(u),d=n(16),h=(n.n(d),n(17)),E=n.n(h),m=n(11),f=(n.n(m),n(12)),T=n.n(f),I=n(18),g=(n.n(I),n(19)),S=n.n(g),_=n(0),b=n.n(_),O=n(2),L=n(10),y=n(152),C=(n.n(y),n(78)),v=(n(21),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),N=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.goBack=n.goBack.bind(n),n.save=n.save.bind(n),n.onFileChange=n.onFileChange.bind(n),n}return i(t,e),v(t,[{key:"componentDidMount",value:function(){this.props.ID||this.props.dispatch(Object(C.f)())}},{key:"render",value:function(){return b.a.createElement("div",null,b.a.createElement(T.a,{mode:"dark",className:"navBar",icon:b.a.createElement(S.a,{type:"left"}),onLeftClick:this.goBack,rightContent:this.renderRightMenu()},"\u6211\u7684\u4fe1\u606f"),b.a.createElement(L.a,{style:{backgroundColor:"#efeff4"}},b.a.createElement("div",{style:{marginTop:"15px"}},this.renderHeaderImage(),this.renderItem("\u6635\u79f0:",this.props.Nickname,0),this.renderItem("\u6027\u522b:",this.props.Sex?"\u7537":"\u5973",1),this.renderDateChooser("\u751f\u65e5:",this.props.Birthday,2)),b.a.createElement("div",{style:{marginTop:"15px"}},this.renderItem("\u624b\u673a:",this.props.PhoneNumber,3),this.renderItem("\u59d3\u540d:",this.props.Name,4),this.renderItem("\u5e38\u4f4f\u5730:",this.props.CityName,6)),this.props.isFetching?b.a.createElement(E.a,{toast:!0,text:"\u4fdd\u5b58\u4e2d..."}):null))}},{key:"renderRightMenu",value:function(){return b.a.createElement("div",{onClick:this.save},"\u4fdd\u5b58")}},{key:"renderHeaderImage",value:function(){var e=this;return b.a.createElement("div",{style:{backgroundColor:"#ffffff",position:"relative"}},b.a.createElement("div",{className:"userInfoItem"},b.a.createElement("div",{className:"userInfoItemLeft"},"\u5934\u50cf"),b.a.createElement("div",{className:"userInfoItemRight"},b.a.createElement("div",{className:"userInfoHeaderIcon",style:{backgroundImage:"url("+this.props.GetUserAvatar+")"}}),b.a.createElement("img",{className:"userInfoItemArrow",src:n(55),alt:""}))),b.a.createElement("div",{className:"userInfoSplitBottom"}),b.a.createElement("input",{className:"userInfoFile",type:"file",value:"",onChange:this.onFileChange,accept:"image/*",ref:function(t){return e.fileElement=t},style:{width:"100%",height:"100%",opacity:"0"}}))}},{key:"onFileChange",value:function(){var e=this,t=this.fileElement.files[0];this.headerFile=t;var n=new FileReader;n.readAsDataURL(t),n.onload=function(){e.props.dispatch(Object(C.j)({GetUserAvatar:n.result}))}}},{key:"renderItem",value:function(e,t,r){var a=this;return b.a.createElement("div",{onClick:function(){return a.itemClick(r)},style:{backgroundColor:"#ffffff"}},b.a.createElement("div",{className:"userInfoItem"},b.a.createElement("div",{className:"userInfoItemLeft"},e),b.a.createElement("div",{className:"userInfoItemRight"},b.a.createElement("span",{className:"userInfoItemLeftContent"},t),b.a.createElement("img",{className:"userInfoItemArrow",src:n(55),alt:""}))),b.a.createElement("div",{className:"userInfoSplitBottom"}))}},{key:"renderDateChooser",value:function(e,t,n){var r=this;return b.a.createElement(p.a,{mode:"date",minDate:new Date("1900-01-01"),maxDate:new Date,title:"\u8bf7\u9009\u62e9\u751f\u65e5",extra:"Optional",value:new Date(this.props.Birthday),onChange:function(e){return r.props.dispatch(Object(C.j)({Birthday:e.formatDate("YYYY-MM-DD")}))}},this.renderItem(e,t,n))}},{key:"goBack",value:function(){var e=this.props.dispatch;this.props.history.goBack(),e(Object(C.e)())}},{key:"itemClick",value:function(e){var t=this,n=c.a.alert;switch(e){case 0:this.props.history.push({pathname:"/me/updateUserInfoItem",state:{key:"Nickname",value:this.props.Nickname?this.props.Nickname:"",title:"\u6635\u79f0"}});break;case 1:n("\u4fee\u6539\u6027\u522b",b.a.createElement("div",null,"\u8bf7\u9009\u62e9\u60a8\u7684\u6027\u522b"),[{text:"\u7537",onPress:function(){return t.props.dispatch(Object(C.j)({Sex:!0}))}},{text:"\u5973",onPress:function(){return t.props.dispatch(Object(C.j)({Sex:!1}))}}]);break;case 3:n("\u63d0\u793a","\u624b\u673a\u53f7\u7801\u4e0d\u53ef\u66f4\u6539",[{text:"OK",style:"default"}]);break;case 4:this.props.history.push({pathname:"/me/updateUserInfoItem",state:{key:"Name",value:this.props.Name?this.props.Name:"",title:"\u59d3\u540d"}});break;case 5:this.props.history.push({pathname:"/me/updateUserInfoItem",state:{key:"Email",value:this.props.Email?this.props.Email:"",title:"\u90ae\u7bb1"}});break;case 6:this.props.history.push({pathname:"/me/updateUserInfoItem",state:{key:"CityName",value:this.props.CityName?this.props.CityName:"",title:"\u5e38\u4f4f\u5730"}})}}},{key:"save",value:function(){var e=this,t=void 0;t=this.props.Sex?"1":"0";var n={format:"json",id:this.props.ID,nickName:this.props.Nickname,name:this.props.Name,phoneNumber:this.props.PhoneNumber,pwd:this.props.Pwd,sex:t,birthday:this.props.Birthday,phone:this.props.PhoneNumber,cardNo:this.props.CardNo,cityName:this.props.CityName,email:this.props.Email};this.props.dispatch(Object(C.c)(n,this.headerFile)).then(function(){e.props.updateSuccess?c.a.alert("\u63d0\u793a","\u4e2a\u4eba\u4fe1\u606f\u4fee\u6539\u6210\u529f\uff01",[{text:"OK",style:"default",onPress:function(){return e.goBack()}}]):c.a.alert("\u63d0\u793a","\u4fee\u6539\u5931\u8d25\uff01",[{text:"OK",style:"default",onPress:function(){return e.goBack()}}])})}}]),t}(_.PureComponent),R=function(e){return Object.assign({},e.me.userInfo.tmpUserInfo,{isFetching:e.me.userInfo.isFetching})};N=Object(O.b)(R)(N),t.a=N},,,,,,,,,,,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(11),s=(n.n(o),n(12)),c=n.n(s),l=n(44),u=(n.n(l),n(45)),p=n.n(u),d=n(0),h=n.n(d),E=n(2),m=n(10),f=n(631),T=n(267),I=n(154),g=(n.n(I),n(23)),S=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onItemClick=n.onItemClick.bind(n),n.showCommonList=n.showCommonList.bind(n),n}return i(t,e),S(t,[{key:"render",value:function(){var e=this,t=window.innerHeight-45;return h.a.createElement("div",null,h.a.createElement(c.a,{mode:"dark",className:"navBar",leftContent:h.a.createElement(g.a,{ref:function(t){e.LeftContentView=t?t.getWrappedInstance():e.scrollView},goBackAction:T.c,history:this.props.history}),onLeftClick:function(){e.LeftContentView.goHome()}},h.a.createElement(p.a,{values:["\u975e\u901b\u4e0d\u53ef","\u5168\u90e8\u8d2d\u7269"],tintColor:"white",selectedIndex:0,onValueChange:this.showCommonList})),h.a.createElement(m.a,null,h.a.createElement(f.a,{ref:function(t){t&&(e.listView=t.getWrappedInstance())},onItemClick:this.onItemClick,height:t})))}},{key:"onItemClick",value:function(e){e&&e.GetRelation&&e.GetRelation.Code&&(this.listView&&this.listView.cacheScrollOffset(),this.props.history.push("/shopping/detail/"+e.GetRelation.Code))}},{key:"goBack",value:function(){this.props.dispatch(Object(T.c)()),this.state.isMenu?this.props.history.replace("/"):this.props.history.goBack()}},{key:"showCommonList",value:function(){this.listView&&this.listView.cacheScrollOffset(),this.props.history.push("/shopping/list?segment=true")}}]),t}(d.PureComponent);_=Object(E.b)()(_),t.a=_},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(24),s=(n.n(o),n(25)),c=n.n(s),l=n(16),u=(n.n(l),n(17)),p=n.n(u),d=n(26),h=(n.n(d),n(27)),E=n.n(h),m=n(0),f=n.n(m),T=n(2),I=n(9),g=n.n(I),S=n(14),_=n.n(S),b=n(267),O=n(20),L=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.renderRow=n.renderRow.bind(n),n.onRefresh=n.onRefresh.bind(n);var i=new E.a.DataSource({rowHasChanged:function(e,t){return e!==t},sectionHeaderHasChanged:function(e,t){return e!==t}});return n.state={dataSource:i.cloneWithRows(n.props.dataList?n.props.dataList:[])},n}return i(t,e),L(t,[{key:"componentDidMount",value:function(){this.props.dataList||this.loadData(),this.listView&&!isNaN(this.props.listViewOffset)&&this.listView.scrollTo(0,this.props.listViewOffset)}},{key:"componentDidUpdate",value:function(e,t,n){this.props.dataList!==e.dataList&&this.setState({dataSource:this.state.dataSource.cloneWithRows(this.props.dataList?this.props.dataList:[])})}},{key:"render",value:function(){return f.a.createElement("div",{className:"scenicListBox",style:{height:this.props.height}},this.renderListView(),this.props.isFetching?f.a.createElement(p.a,{toast:!0,text:"Loading..."}):null)}},{key:"renderListView",value:function(){var e=this;if(this.props.dataList&&this.props.dataList.length>=0){var t=function(e,t){return f.a.createElement("div",{key:e+"-"+t,style:{height:"5px",backgroundColor:"#2d2327"}})};return f.a.createElement(E.a,{ref:function(t){e.listView=t,O.a.fixListViewHeightIssue(t,e.props.height)},dataSource:this.state.dataSource,renderRow:this.renderRow,renderSeparator:t,style:{height:this.props.height,overflow:"auto"},pullToRefresh:f.a.createElement(c.a,{refreshing:this.props.isFetching,onRefresh:this.onRefresh}),initialListSize:this.props.dataList.length,pageSize:20,scrollRenderAheadDistance:500,scrollEventThrottle:50,onEndReachedThreshold:20})}}},{key:"isEmptyString",value:function(e){return!e||0===e.length}},{key:"onRefresh",value:function(){var e=this;this.props.dispatch(Object(b.a)()).then(function(){e.loadData()})}},{key:"renderRow",value:function(e,t,n){var r=this,a=e.GetImage&&e.GetImage.MiddleImageFrontUrl?e.GetImage.MiddleImageFrontUrl:"";return a=a&&a.length>0&&a.indexOf("noPicture")<0?a:e.GetRelation&&e.GetRelation.GetImage&&e.GetRelation.GetImage.MiddleImageFrontUrl?e.GetRelation.GetImage.MiddleImageFrontUrl:"",f.a.createElement("div",{key:n,className:"scenicRecommendListItemBox",onClick:function(){r.props.onItemClick&&r.props.onItemClick(e)}},f.a.createElement("div",{className:"scenicRecommendListItemBg",style:{backgroundImage:"url("+a+")"}},f.a.createElement("div",{className:"scenicRecommendListBottom"},f.a.createElement("div",{className:"hotelRecommendListBottomText"},e.Head))))}},{key:"loadData",value:function(){this.props.isFetching||this.props.dispatch(Object(b.b)())}},{key:"cacheScrollOffset",value:function(){if(this.listView){var e=_.a.findDOMNode(this.listView).scrollTop;this.props.dispatch(Object(b.d)(e))}}}]),t}(m.PureComponent);y.propTypes={onItemClick:g.a.func};var C=function(e){return Object.assign({},e.shopping.recommendListScreen)};y=Object(T.b)(C,null,null,{withRef:!0})(y),t.a=y},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(34),s=(n.n(o),n(35)),c=n.n(s),l=n(49),u=(n.n(l),n(50)),p=n.n(u),d=n(11),h=(n.n(d),n(12)),E=n.n(h),m=n(44),f=(n.n(m),n(45)),T=n.n(f),I=n(18),g=(n.n(I),n(19)),S=n.n(g),_=n(0),b=n.n(_),O=n(2),L=n(10),y=n(262),C=n(20),v=n(36),N=n.n(v),R=n(162),w=n(154),D=(n.n(w),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),A=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.tabs=[{title:"\u7efc\u5408",tabIndex:0},{title:"\u70ed\u5ea6",tabIndex:1},{title:"\u8ddd\u79bb",tabIndex:2},{title:"\u6700\u65b0",tabIndex:3}],n.onItemClick=n.onItemClick.bind(n),n.goBack=n.goBack.bind(n),n}return i(t,e),D(t,[{key:"render",value:function(){var e=this,t=window.innerHeight-89,n=window.innerHeight-133,r=N.a.parse(this.props.location.search);return b.a.createElement("div",null,b.a.createElement(E.a,{mode:"dark",className:"navBar",icon:b.a.createElement(S.a,{type:"left"}),onLeftClick:this.goBack},r&&r.segment?b.a.createElement(T.a,{values:["\u975e\u901b\u4e0d\u53ef","\u5168\u90e8\u8d2d\u7269"],tintColor:"white",selectedIndex:1,onValueChange:this.goBack}):"\u8d2d\u7269\u5217\u8868"),b.a.createElement(L.a,null,b.a.createElement(p.a,{placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57",maxLength:20,value:this.props.keyword,onChange:function(t){e.updateKeyword(t)},onSubmit:function(t){e.updateKeyword(t),e.searchByKeyword(t)}}),b.a.createElement(c.a,{tabs:this.tabs,ref:function(e){return C.a.updateComponentHeight(e,t)},initialPage:this.props.selectedTabIndex,prerenderingSiblingsNumber:0,onChange:function(t,n){e.props.dispatch(Object(R.g)(n)),e.searchByKeyword(e.props.keyword,n)},onTabClick:function(e,t){console.log("onTabClick",t,e)}},this.tabs.map(function(t,r){return b.a.createElement(y.a,{key:r,ref:function(t){t&&(e.tabs[r].listView=t.getWrappedInstance())},onItemClick:e.onItemClick,tabIndex:t.tabIndex,height:n})}))))}},{key:"updateKeyword",value:function(e){this.props.dispatch(Object(R.e)(e))}},{key:"searchByKeyword",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;t=void 0===t?this.props.selectedTabIndex:t;var n=this.tabs[t].listView;n&&n.searchByKeyword(e)}},{key:"onItemClick",value:function(e){if(e){for(var t=0;t<this.tabs.length;t++){var n=this.tabs[t].listView;n&&n.cacheScrollOffset()}this.props.history.push("/shopping/detail/"+e.Code)}}},{key:"goBack",value:function(){var e=this.props.dispatch;this.props.history.goBack(),e(Object(R.d)())}}]),t}(_.PureComponent),k=function(e){return{selectedTabIndex:e.shopping.listScreen.selectedTabIndex,keyword:e.shopping.listScreen.keyword}};A=Object(O.b)(k)(A),t.a=A},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(42),s=(n.n(o),n(43)),c=n.n(s),l=n(16),u=(n.n(l),n(17)),p=n.n(u),d=n(11),h=(n.n(d),n(12)),E=n.n(h),m=n(0),f=n.n(m),T=n(2),I=n(56),g=n(14),S=n.n(g),_=n(10),b=n(634),O=n(41),L=n(61),y=n(154),C=(n.n(y),n(23)),v=n(15),N=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),R=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.showElementMarkerMap=n.showElementMarkerMap.bind(n),n.showImageBrowser=n.showImageBrowser.bind(n),n.state={totalScore:0,goodScore:0,badScore:0,index:1,showImageBrowser:!1,imageList:[]},n}return i(t,e),N(t,[{key:"componentDidMount",value:function(){this.props.detailItem?this.startScoreAnimation(this.props.detailItem):this.loadData(),this.restoreScrollViewPosition()}},{key:"componentDidUpdate",value:function(e,t,n){e.detailItem!==this.props.detailItem&&this.props.detailItem&&this.startScoreAnimation(this.props.detailItem)}},{key:"render",value:function(){var e=this;return f.a.createElement("div",null,f.a.createElement(E.a,{mode:"dark",className:"navBar",leftContent:f.a.createElement(C.a,{ref:function(t){e.LeftContentView=t?t.getWrappedInstance():e.scrollView},goBackAction:function(){return Object(b.b)(e.props.match.params.code)},history:this.props.history}),onLeftClick:function(){e.LeftContentView.goHome()}},"\u8d2d\u7269\u8be6\u60c5"),f.a.createElement(_.a,{ref:function(t){e.scrollView=t?t.getWrappedInstance():e.scrollView}},this.renderHeaderView(),this.renderElementOperationView(),this.renderScoreView(),this.renderMapView(),this.renderBasicViews(),this.props.isFetching?f.a.createElement(p.a,{toast:!0,text:"Loading..."}):null,f.a.createElement(O.a,{ref:function(t){e.photoBrowserView=t?t.getWrappedInstance():e.scrollView}})))}},{key:"renderHeaderView",value:function(){return this.props.detailItem?f.a.createElement("div",{className:"scenicDetailHeader",onClick:this.showImageBrowser},this.renderHeaderImages(),f.a.createElement("div",{className:"scenicDetailHeaderBottom"},f.a.createElement("div",{className:"scenicDetailHeaderBottomText"},this.props.detailItem.CnName),f.a.createElement("div",{className:"lineDetailHeaderBottomText"},this.state.index,"/",this.props.detailItem.GetImage&&this.props.detailItem.GetImage.ImageList?this.props.detailItem.GetImage.ImageList.length:1))):null}},{key:"renderScoreView",value:function(){return this.props.detailItem?f.a.createElement("div",{className:"scenicScoreView"},f.a.createElement("div",{className:"scenicScoreCircle"},f.a.createElement(I.a,{percent:this.state.totalScore,strokeWidth:"6",trailWidth:"6",strokeColor:"#42a6dc",trailColor:"#f0f0f0"}),f.a.createElement("div",{className:"scenicScoreCircleTextBox"},f.a.createElement("div",{style:{flex:1}}),f.a.createElement("div",{className:"scenicScoreCircleTextSubBox"},f.a.createElement("div",{className:"scenicScoreCircleText"},this.state.totalScore),f.a.createElement("div",{className:"scenicScoreCircleUnit"},"%")),f.a.createElement("div",{style:{flex:1}}))),f.a.createElement("div",{className:"scenicScoreLines"},f.a.createElement("div",{className:"scenicScoreLine"},f.a.createElement("div",{className:"scenicScoreLineLabel"},"\u63a8\u8350"),f.a.createElement(I.b,{className:"scenicScoreLineProgress",percent:this.state.goodScore,strokeWidth:"4",trailWidth:"4",strokeColor:"#42a6dc",trailColor:"#f0f0f0"})),f.a.createElement("div",{className:"scenicScoreLine"},f.a.createElement("div",{className:"scenicScoreLineLabel"},"\u4e0d\u63a8\u8350"),f.a.createElement(I.b,{className:"scenicScoreLineProgress",percent:this.state.badScore,strokeWidth:"4",trailWidth:"4",strokeColor:"#42a6dc",trailColor:"#f0f0f0"})))):null}},{key:"renderHeaderImages",value:function(){var e=this;return this.props.detailItem&&this.props.detailItem.GetImage&&this.props.detailItem.GetImage.ImageList&&0!==this.props.detailItem.GetImage.ImageList.length?f.a.createElement(c.a,{className:"scenicDetailHeaderImgSlider",afterChange:function(){return e.imageChage()},autoplay:!0,dots:!1,swiping:!0,infinite:!0,selectedIndex:0,swipeSpeed:35},this.props.detailItem.GetImage.ImageList.map(function(e,t){return f.a.createElement("div",{key:t,className:"scenicDetailHeaderImg",style:{backgroundImage:"url("+e.MiddleImgSrc+")"}})})):null}},{key:"imageChage",value:function(){this.state.index===this.props.detailItem.GetImage.ImageList.length?this.setState({index:1}):this.setState({index:this.state.index+1})}},{key:"renderMapView",value:function(){var e=this;if(!this.props.detailItem||!this.props.detailItem.Longitude||!this.props.detailItem.Latitude)return null;var t=2*window.innerWidth,n="http://api.map.baidu.com/staticimage?width="+t+"&height=250&markers="+this.props.detailItem.Longitude+","+this.props.detailItem.Latitude+"&markerStyles=-1,http://oe72hu540.bkt.clouddn.com/ico_pin_blu.png";return f.a.createElement("img",{className:"scenicDetailMapImg",src:n,onClick:function(){return e.showElementMarkerMap()},alt:""})}},{key:"renderBasicViews",value:function(){var e=this;return this.props.detailItem?f.a.createElement("div",{className:"scenicDetailInfoRows"},f.a.createElement("div",{className:"scenicDetailInfoRow"},f.a.createElement("div",{className:"scenicDetailInfoLabel"},"\u5730\u5740"),f.a.createElement("div",{className:"scenicDetailInfoValue"},this.props.detailItem.Address)),this.props.detailItem.Telephone&&this.props.detailItem.Telephone.length>0?f.a.createElement("div",{className:"scenicDetailInfoRow"},f.a.createElement("div",{className:"scenicDetailInfoLabel"},"\u7535\u8bdd"),f.a.createElement("div",{className:"scenicDetailInfoPhoneRow",onClick:function(){return v.a.openTel(e.props.detailItem.Telephone)}},f.a.createElement("div",{className:"scenicDetailInfoValue"},this.props.detailItem.Telephone),f.a.createElement("div",{style:{flex:1}}),f.a.createElement("img",{className:"scenicDetailInfoPhone",src:n(62),alt:""}))):null,f.a.createElement("div",{className:"scenicDetailInfoRow"},f.a.createElement("div",{className:"scenicDetailInfoLabel"},"\u7b80\u4ecb"),f.a.createElement("div",{className:"scenicDetailInfoValue scenicDetailMultDesc"},this.props.detailItem.Summary))):null}},{key:"loadData",value:function(){this.props.dispatch(Object(b.a)(this.props.match.params.code))}},{key:"cacheScrollOffset",value:function(){var e=S.a.findDOMNode(this.scrollView).scrollTop;this.props.dispatch(Object(b.c)(this.props.match.params.code,e))}},{key:"restoreScrollViewPosition",value:function(){this.scrollView&&(isNaN(this.props.scrollViewOffset)?this.scrollView.scrollToY(0):this.scrollView.scrollToY(this.props.scrollViewOffset))}},{key:"startScoreAnimation",value:function(e){var t=this,n=e.GetUserComment;setTimeout(function(){t.setState({totalScore:0===n.AllCommentCount?100:(100*n.GoodCommentCount/n.AllCommentCount).toFixed(0),goodScore:0===n.AllCommentCount?100:(100*n.GoodCommentCount/n.AllCommentCount).toFixed(0),badScore:0===n.AllCommentCount?0:(100*(n.AllCommentCount-n.GoodCommentCount)/n.AllCommentCount).toFixed(0)})},700)}},{key:"showElementMarkerMap",value:function(){this.cacheScrollOffset();var e=this.props.detailItem;this.props.history.push("/map/elementMarker/"+this.props.match.params.code+"/"+e.CnName+"/"+e.Address+"/"+e.Latitude+"/"+e.Longitude)}},{key:"showImageBrowser",value:function(){if(!this.props.detailItem||!this.props.detailItem.GetImage||!this.props.detailItem.GetImage.ImageList||0===this.props.detailItem.GetImage.ImageList.length)return null;for(var e=[],t=0;t<this.props.detailItem.GetImage.ImageList.length;t++){var n=this.props.detailItem.GetImage.ImageList[t];e.push(n.ImgSrc.replace("Small","Large"))}this.photoBrowserView.open(e)}},{key:"renderElementOperationView",value:function(){var e=this;return this.props.detailItem?f.a.createElement(L.a,{code:this.props.match.params.code,onNearByTapped:function(){e.props.history.push({pathname:"/me/near-by",state:{centerLat:e.props.detailItem.Latitude,centerLng:e.props.detailItem.Longitude}})}}):null}}]),t}(m.PureComponent),w=function(e,t){var n=e.shopping.detailScreen[t.match.params.code];return Object.assign({},n)};R=Object(T.b)(w)(R),t.a=R},function(e,t,n){"use strict";function r(e){return{type:u.b.SHOPPING.DETAIL.GO_BACK,code:e}}function a(e){return function(t,n){return t(s(e)),o(e).then(function(n){n=n&&n.results&&n.results.length>0?n.results[0]:void 0,t(c(e,n))}).catch(function(n){t(l(e,n))})}}function i(e,t){return{type:u.b.SHOPPING.DETAIL.SET_DETAIL_SCROLL_OFFSET,code:e,scrollViewOffset:t}}function o(e){var t=u.q.ELEMENTS.ShopDetail;e&&e.startsWith("SQ")&&(t=u.q.ELEMENTS.BusinessDetail);var n={Code:e};return p.a.getFromPortal(t,n).then(function(e){return e.json()})}function s(e){return{type:u.b.SHOPPING.DETAIL.GET_DETAIL_REQUEST,code:e}}function c(e,t){return{type:u.b.SHOPPING.DETAIL.GET_DETAIL_SUCCESS,code:e,detailItem:t}}function l(e,t){return{type:u.b.SHOPPING.DETAIL.GET_DETAIL_FAILURE,code:e,message:t}}t.b=r,t.a=a,t.c=i;var u=n(1),p=n(8)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(34),s=(n.n(o),n(35)),c=n.n(s),l=n(49),u=(n.n(l),n(50)),p=n.n(u),d=n(11),h=(n.n(d),n(12)),E=n.n(h),m=n(0),f=n.n(m),T=n(2),I=n(10),g=n(636),S=n(20),_=n(268),b=n(269),O=(n.n(b),n(23)),L=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.tabs=[{title:"\u7efc\u5408",tabIndex:0},{title:"\u70ed\u5ea6",tabIndex:1},{title:"\u8ddd\u79bb",tabIndex:2},{title:"\u6700\u65b0",tabIndex:3}],n.onItemClick=n.onItemClick.bind(n),n}return i(t,e),L(t,[{key:"render",value:function(){var e=this,t=window.innerHeight-89,n=window.innerHeight-133;return f.a.createElement("div",null,f.a.createElement(E.a,{mode:"dark",className:"navBar",leftContent:f.a.createElement(O.a,{ref:function(t){e.LeftContentView=t?t.getWrappedInstance():e.scrollView},goBackAction:_.c,history:this.props.history}),onLeftClick:function(){e.LeftContentView.goHome()}},"\u4e61\u6751\u6e38\u5217\u8868"),f.a.createElement(I.a,null,f.a.createElement(p.a,{placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57",maxLength:20,value:this.props.keyword,onChange:function(t){e.updateKeyword(t)},onSubmit:function(t){e.updateKeyword(t),e.searchByKeyword(t)}}),f.a.createElement(c.a,{tabs:this.tabs,ref:function(e){return S.a.updateComponentHeight(e,t)},initialPage:this.props.selectedTabIndex,prerenderingSiblingsNumber:0,onChange:function(t,n){e.props.dispatch(Object(_.f)(n)),e.searchByKeyword(e.props.keyword,n)},onTabClick:function(e,t){console.log("onTabClick",t,e)}},this.tabs.map(function(t,r){return f.a.createElement(g.a,{key:r,ref:function(t){t&&(e.tabs[r].listView=t.getWrappedInstance())},onItemClick:e.onItemClick,tabIndex:t.tabIndex,height:n})}))))}},{key:"updateKeyword",value:function(e){this.props.dispatch(Object(_.d)(e))}},{key:"searchByKeyword",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;t=void 0===t?this.props.selectedTabIndex:t;var n=this.tabs[t].listView;n&&n.searchByKeyword(e)}},{key:"onItemClick",value:function(e){if(e){for(var t=0;t<this.tabs.length;t++){var n=this.tabs[t].listView;n&&n.cacheScrollOffset()}this.props.history.push("/farm-house/detail/"+e.Code)}}}]),t}(m.PureComponent),C=function(e){return{selectedTabIndex:e.farmHouse.listScreen.selectedTabIndex,keyword:e.farmHouse.listScreen.keyword}};y=Object(T.b)(C)(y),t.a=y},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e){return e.centerLat&&e.centerLat?N[e.tabIndex]+"_"+e.centerLat+"_"+e.centerLng:N[e.tabIndex]}var s=n(24),c=(n.n(s),n(25)),l=n.n(c),u=n(16),p=(n.n(u),n(17)),d=n.n(p),h=n(26),E=(n.n(h),n(27)),m=n.n(E),f=n(0),T=n.n(f),I=n(2),g=n(9),S=n.n(g),_=n(14),b=n.n(_),O=n(268),L=n(20),y=n(15),C=n(32),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),N=["Sort","likeCount","distance","ModifyTime"],R=["desc","desc","asc","desc"],w=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.renderRow=n.renderRow.bind(n),n.onRefresh=n.onRefresh.bind(n),n.loadNextPage=n.loadNextPage.bind(n),n.renderFooter=n.renderFooter.bind(n);var i=new m.a.DataSource({rowHasChanged:function(e,t){return e!==t},sectionHeaderHasChanged:function(e,t){return e!==t}});return n.state={dataSource:i.cloneWithRows(n.props.dataList?n.props.dataList:[])},n}return i(t,e),v(t,[{key:"componentDidMount",value:function(){this.props.dataList||this.loadData(this.props.inputKeyword),this.listView&&!isNaN(this.props.listViewOffset)&&this.listView.scrollTo(0,this.props.listViewOffset)}},{key:"componentDidUpdate",value:function(e,t,n){this.props.dataList!==e.dataList&&this.setState({dataSource:this.state.dataSource.cloneWithRows(this.props.dataList?this.props.dataList:[])})}},{key:"render",value:function(){var e=this;return T.a.createElement("div",{className:"scenicListBox",style:{height:this.props.height}},this.renderListView(),this.props.isFetching||this.props.dataList&&0!==this.props.dataList.length?null:T.a.createElement(C.a,{style:{height:this.props.height},onClick:function(){return e.onRefresh(e.props.inputKeyword)}}),this.props.isFetching&&1===this.props.pageIndex?T.a.createElement(d.a,{toast:!0,text:"Loading..."}):null)}},{key:"renderListView",value:function(){var e=this;if(this.props.dataList&&this.props.dataList.length>0){var t=function(e,t){return T.a.createElement("div",{key:e+"-"+t,style:{height:1,borderBottom:"0.5px solid #dddddd"}})};return T.a.createElement(m.a,{ref:function(t){e.listView=t,L.a.fixListViewHeightIssue(t,e.props.height)},dataSource:this.state.dataSource,renderRow:this.renderRow,renderSeparator:t,style:{height:this.props.height,overflow:"auto"},pullToRefresh:T.a.createElement(l.a,{refreshing:this.props.isFetching,onRefresh:function(){return e.onRefresh(e.props.inputKeyword)}}),onEndReached:this.loadNextPage,renderFooter:this.renderFooter,initialListSize:this.props.dataList.length,pageSize:20,scrollRenderAheadDistance:500,scrollEventThrottle:50,onEndReachedThreshold:20})}}},{key:"searchByKeyword",value:function(e){e===this.props.keyword||this.isEmptyString(e)&&this.isEmptyString(this.props.keyword)||this.onRefresh(e)}},{key:"isEmptyString",value:function(e){return!e||0===e.length}},{key:"onRefresh",value:function(e){var t=this;this.props.dispatch(Object(O.a)(N[this.props.tabIndex],R[this.props.tabIndex],this.getExtraParams())).then(function(){t.loadData(e)})}},{key:"loadNextPage",value:function(){this.loadData()}},{key:"renderFooter",value:function(){return this.props.isFetching&&!0===this.props.hasMore?T.a.createElement("div",{className:"loadingMore"},T.a.createElement(d.a,{text:"Loading..."})):null}},{key:"renderRow",value:function(e,t,n){var r=this,a=e.GetImage?e.GetImage.MiddleImageFrontUrl:"";return T.a.createElement("div",{key:n,className:"scenicListItem",onClick:function(){r.props.onItemClick&&r.props.onItemClick(e)}},T.a.createElement("div",{style:{backgroundImage:"url("+a+")"},className:"scenicListItemImg"}),T.a.createElement("div",{className:"funListItemTextBox"},T.a.createElement("div",{className:"scenicListItemName"},e.CnName),T.a.createElement("div",{className:"funListItemOthers"},"\u8ddd\u79bb",e.distance?e.distance.toFixed(1):"","\u5343\u7c73"),T.a.createElement("div",{className:"funListItemOthers"},e.Address)))}},{key:"loadData",value:function(e){if(!this.props.isFetching&&!1!==this.props.hasMore){var t=this.props.pageIndex?this.props.pageIndex+1:1;this.props.dispatch(Object(O.b)(N[this.props.tabIndex],R[this.props.tabIndex],t,e||this.props.keyword,this.getExtraParams()))}}},{key:"cacheScrollOffset",value:function(){var e=b.a.findDOMNode(this.listView).scrollTop;this.props.dispatch(Object(O.e)(N[this.props.tabIndex],R[this.props.tabIndex],e,this.getExtraParams()))}},{key:"getExtraParams",value:function(){return{storeKey:this.props.storeKey,lat:this.props.centerLat,lng:this.props.centerLng}}}]),t}(f.PureComponent);w.propTypes={onItemClick:S.a.func};var D=function(e,t){var n=t.storeKey&&t.storeKey.length>0?y.a.getStoreItemByDotConnector(e,t.storeKey):e.farmHouse.listScreen,r=n.groups[o(t)];return Object.assign({selectedTabIndex:n.selectedTabIndex},r,{inputKeyword:n.keyword})};w=Object(I.b)(D,null,null,{withRef:!0})(w),t.a=w},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(42),s=(n.n(o),n(43)),c=n.n(s),l=n(16),u=(n.n(l),n(17)),p=n.n(u),d=n(11),h=(n.n(d),n(12)),E=n.n(h),m=n(0),f=n.n(m),T=n(2),I=n(56),g=n(14),S=n.n(g),_=n(10),b=n(638),O=n(41),L=n(61),y=n(269),C=(n.n(y),n(23)),v=n(15),N=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),R=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.showElementMarkerMap=n.showElementMarkerMap.bind(n),n.showImageBrowser=n.showImageBrowser.bind(n),n.state={totalScore:0,goodScore:0,badScore:0,index:1,showImageBrowser:!1,imageList:[]},n}return i(t,e),N(t,[{key:"componentDidMount",value:function(){this.props.detailItem?this.startScoreAnimation(this.props.detailItem):this.loadData(),this.restoreScrollViewPosition()}},{key:"componentDidUpdate",value:function(e,t,n){e.detailItem!==this.props.detailItem&&this.props.detailItem&&this.startScoreAnimation(this.props.detailItem)}},{key:"render",value:function(){var e=this;return f.a.createElement("div",null,f.a.createElement(E.a,{mode:"dark",className:"navBar",leftContent:f.a.createElement(C.a,{ref:function(t){e.LeftContentView=t?t.getWrappedInstance():e.scrollView},goBackAction:function(){return Object(b.b)(e.props.match.params.code)},history:this.props.history}),onLeftClick:function(){e.LeftContentView.goHome()}},"\u8be6\u60c5"),f.a.createElement(_.a,{ref:function(t){e.scrollView=t?t.getWrappedInstance():e.scrollView}},this.renderHeaderView(),this.renderElementOperationView(),this.renderScoreView(),this.renderMapView(),this.renderBasicViews(),this.props.isFetching?f.a.createElement(p.a,{toast:!0,text:"Loading..."}):null,f.a.createElement(O.a,{ref:function(t){e.photoBrowserView=t?t.getWrappedInstance():e.scrollView}})))}},{key:"renderHeaderView",value:function(){return this.props.detailItem?f.a.createElement("div",{className:"scenicDetailHeader",onClick:this.showImageBrowser},this.renderHeaderImages(),f.a.createElement("div",{className:"scenicDetailHeaderBottom"},f.a.createElement("div",{className:"scenicDetailHeaderBottomText"},this.props.detailItem.CnName),f.a.createElement("div",{className:"lineDetailHeaderBottomText"},this.state.index,"/",this.props.detailItem.GetImage&&this.props.detailItem.GetImage.ImageList?this.props.detailItem.GetImage.ImageList.length:1))):null}},{key:"renderScoreView",value:function(){return this.props.detailItem?f.a.createElement("div",{className:"scenicScoreView"},f.a.createElement("div",{className:"scenicScoreCircle"},f.a.createElement(I.a,{percent:this.state.totalScore,strokeWidth:"6",trailWidth:"6",strokeColor:"#42a6dc",trailColor:"#f0f0f0"}),f.a.createElement("div",{className:"scenicScoreCircleTextBox"},f.a.createElement("div",{style:{flex:1}}),f.a.createElement("div",{className:"scenicScoreCircleTextSubBox"},f.a.createElement("div",{className:"scenicScoreCircleText"},this.state.totalScore),f.a.createElement("div",{className:"scenicScoreCircleUnit"},"%")),f.a.createElement("div",{style:{flex:1}}))),f.a.createElement("div",{className:"scenicScoreLines"},f.a.createElement("div",{className:"scenicScoreLine"},f.a.createElement("div",{className:"scenicScoreLineLabel"},"\u63a8\u8350"),f.a.createElement(I.b,{className:"scenicScoreLineProgress",percent:this.state.goodScore,strokeWidth:"4",trailWidth:"4",strokeColor:"#42a6dc",trailColor:"#f0f0f0"})),f.a.createElement("div",{className:"scenicScoreLine"},f.a.createElement("div",{className:"scenicScoreLineLabel"},"\u4e0d\u63a8\u8350"),f.a.createElement(I.b,{className:"scenicScoreLineProgress",percent:this.state.badScore,strokeWidth:"4",trailWidth:"4",strokeColor:"#42a6dc",trailColor:"#f0f0f0"})))):null}},{key:"renderHeaderImages",value:function(){var e=this;return this.props.detailItem&&this.props.detailItem.GetImage&&this.props.detailItem.GetImage.ImageList&&0!==this.props.detailItem.GetImage.ImageList.length?f.a.createElement(c.a,{className:"scenicDetailHeaderImgSlider",afterChange:function(){return e.imageChage()},autoplay:!0,dots:!1,swiping:!0,infinite:!0,selectedIndex:0,swipeSpeed:35},this.props.detailItem.GetImage.ImageList.map(function(e,t){return f.a.createElement("div",{key:t,className:"scenicDetailHeaderImg",style:{backgroundImage:"url("+e.MiddleImgSrc+")"}})})):null}},{key:"imageChage",value:function(){this.state.index===this.props.detailItem.GetImage.ImageList.length?this.setState({index:1}):this.setState({index:this.state.index+1})}},{key:"renderMapView",value:function(){var e=this;if(!this.props.detailItem||!this.props.detailItem.Longitude||!this.props.detailItem.Latitude)return null;var t=2*window.innerWidth,n="http://api.map.baidu.com/staticimage?width="+t+"&height=250&markers="+this.props.detailItem.Longitude+","+this.props.detailItem.Latitude+"&markerStyles=-1,http://oe72hu540.bkt.clouddn.com/ico_pin_blu.png";return f.a.createElement("img",{className:"scenicDetailMapImg",src:n,onClick:function(){return e.showElementMarkerMap()},alt:""})}},{key:"renderBasicViews",value:function(){var e=this;return this.props.detailItem?f.a.createElement("div",{className:"scenicDetailInfoRows"},f.a.createElement("div",{className:"scenicDetailInfoRow"},f.a.createElement("div",{className:"scenicDetailInfoLabel"},"\u5730\u5740"),f.a.createElement("div",{className:"scenicDetailInfoValue"},this.props.detailItem.Address)),this.props.detailItem.Telephone&&this.props.detailItem.Telephone.length>0?f.a.createElement("div",{className:"scenicDetailInfoRow"},f.a.createElement("div",{className:"scenicDetailInfoLabel"},"\u7535\u8bdd"),f.a.createElement("div",{className:"scenicDetailInfoPhoneRow",onClick:function(){return v.a.openTel(e.props.detailItem.Telephone)}},f.a.createElement("div",{className:"scenicDetailInfoValue"},this.props.detailItem.Telephone),f.a.createElement("div",{style:{flex:1}}),f.a.createElement("img",{className:"scenicDetailInfoPhone",src:n(62),alt:""}))):null,f.a.createElement("div",{className:"scenicDetailInfoRow"},f.a.createElement("div",{className:"scenicDetailInfoLabel"},"\u7b80\u4ecb"),f.a.createElement("div",{className:"scenicDetailInfoValue scenicDetailMultDesc"},this.props.detailItem.Summary))):null}},{key:"loadData",value:function(){this.props.dispatch(Object(b.a)(this.props.match.params.code))}},{key:"cacheScrollOffset",value:function(){var e=S.a.findDOMNode(this.scrollView).scrollTop;this.props.dispatch(Object(b.c)(this.props.match.params.code,e))}},{key:"restoreScrollViewPosition",value:function(){this.scrollView&&(isNaN(this.props.scrollViewOffset)?this.scrollView.scrollToY(0):this.scrollView.scrollToY(this.props.scrollViewOffset))}},{key:"startScoreAnimation",value:function(e){var t=this,n=e.GetUserComment;setTimeout(function(){t.setState({totalScore:0===n.AllCommentCount?100:(100*n.GoodCommentCount/n.AllCommentCount).toFixed(0),goodScore:0===n.AllCommentCount?100:(100*n.GoodCommentCount/n.AllCommentCount).toFixed(0),badScore:0===n.AllCommentCount?0:(100*(n.AllCommentCount-n.GoodCommentCount)/n.AllCommentCount).toFixed(0)})},700)}},{key:"showElementMarkerMap",value:function(){this.cacheScrollOffset();var e=this.props.detailItem;this.props.history.push("/map/elementMarker/"+this.props.match.params.code+"/"+e.CnName+"/"+e.Address+"/"+e.Latitude+"/"+e.Longitude)}},{key:"showImageBrowser",value:function(){if(!this.props.detailItem||!this.props.detailItem.GetImage||!this.props.detailItem.GetImage.ImageList||0===this.props.detailItem.GetImage.ImageList.length)return null;for(var e=[],t=0;t<this.props.detailItem.GetImage.ImageList.length;t++){var n=this.props.detailItem.GetImage.ImageList[t];e.push(n.ImgSrc.replace("Small","Large"))}this.photoBrowserView.open(e)}},{key:"renderElementOperationView",value:function(){var e=this;return this.props.detailItem?f.a.createElement(L.a,{code:this.props.match.params.code,onNearByTapped:function(){e.props.history.push({pathname:"/me/near-by",state:{centerLat:e.props.detailItem.Latitude,centerLng:e.props.detailItem.Longitude}})}}):null}}]),t}(m.PureComponent),w=function(e,t){var n=e.farmHouse.detailScreen[t.match.params.code];return Object.assign({},n)};R=Object(T.b)(w)(R),t.a=R},function(e,t,n){"use strict";function r(e){return{type:u.b.FARM_HOUSE.DETAIL.GO_BACK,code:e}}function a(e){return function(t,n){return t(s(e)),o(e).then(function(n){n=n&&n.results&&n.results.length>0?n.results[0]:void 0,t(c(e,n))}).catch(function(n){t(l(e,n))})}}function i(e,t){return{type:u.b.FARM_HOUSE.DETAIL.SET_DETAIL_SCROLL_OFFSET,code:e,scrollViewOffset:t}}function o(e){var t={Code:e};return p.a.getFromPortal(u.q.ELEMENTS.FarmHouseDetail,t).then(function(e){return e.json()})}function s(e){return{type:u.b.FARM_HOUSE.DETAIL.GET_DETAIL_REQUEST,code:e}}function c(e,t){return{type:u.b.FARM_HOUSE.DETAIL.GET_DETAIL_SUCCESS,code:e,detailItem:t}}function l(e,t){return{type:u.b.FARM_HOUSE.DETAIL.GET_DETAIL_FAILURE,code:e,message:t}}t.b=r,t.a=a,t.c=i;var u=n(1),p=n(8)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(34),s=(n.n(o),n(35)),c=n.n(s),l=n(49),u=(n.n(l),n(50)),p=n.n(u),d=n(11),h=(n.n(d),n(12)),E=n.n(h),m=n(18),f=(n.n(m),n(19)),T=n.n(f),I=n(0),g=n.n(I),S=n(2),_=n(10),b=n(70),O=n(640),L=n(20),y=n(270),C=n(271),v=(n.n(C),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),N=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.tabs=[{title:"\u7efc\u5408",tabIndex:0},{title:"\u70ed\u5ea6",tabIndex:1},{title:"\u8ddd\u79bb",tabIndex:2},{title:"\u6700\u65b0",tabIndex:3}],n.onItemClick=n.onItemClick.bind(n),n.goBack=n.goBack.bind(n),n}return i(t,e),v(t,[{key:"componentDidMount",value:function(){this.updateNativeTitle("\u65c5\u884c\u793e")}},{key:"render",value:function(){var e=this,t=this.props.isFromNativeApp?0:45,n=window.innerHeight-(t+44),r=window.innerHeight-(t+44+44);return g.a.createElement("div",{className:this.props.isFromNativeApp?"isFromNativeApp":null},this.props.isFromNativeApp?null:g.a.createElement(E.a,{mode:"dark",className:"navBar",icon:g.a.createElement(T.a,{type:"left"}),onLeftClick:this.goBack},"\u65c5\u884c\u793e"),g.a.createElement(_.a,null,g.a.createElement(p.a,{placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57",maxLength:20,value:this.props.keyword,onChange:function(t){e.updateKeyword(t)},onSubmit:function(t){e.updateKeyword(t),e.searchByKeyword(t)}}),g.a.createElement(c.a,{tabs:this.tabs,ref:function(e){return L.a.updateComponentHeight(e,n)},initialPage:this.props.selectedTabIndex,prerenderingSiblingsNumber:0,onChange:function(t,n){e.props.dispatch(Object(y.f)(n)),e.searchByKeyword(e.props.keyword,n)},onTabClick:function(e,t){console.log("onTabClick",t,e)}},this.tabs.map(function(t,n){return g.a.createElement(O.a,{key:n,ref:function(t){t&&(e.tabs[n].listView=t.getWrappedInstance())},onItemClick:e.onItemClick,tabIndex:t.tabIndex,height:r})}))))}},{key:"updateKeyword",value:function(e){this.props.dispatch(Object(y.d)(e))}},{key:"searchByKeyword",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;t=void 0===t?this.props.selectedTabIndex:t;var n=this.tabs[t].listView;n&&n.searchByKeyword(e)}},{key:"onItemClick",value:function(e){if(e){for(var t=0;t<this.tabs.length;t++){var n=this.tabs[t].listView;n&&n.cacheScrollOffset()}this.props.history.push("/travel-agent/detail/"+e.Code)}}},{key:"goBack",value:function(){var e=this.props.dispatch;this.props.history.goBack(),e(Object(y.c)())}}]),t}(b.a),R=function(e){return{selectedTabIndex:e.travelAgent.listScreen.selectedTabIndex,keyword:e.travelAgent.listScreen.keyword,isFromNativeApp:e.native.isFromNativeApp}};N=Object(S.b)(R)(N),t.a=N},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(24),s=(n.n(o),n(25)),c=n.n(s),l=n(16),u=(n.n(l),n(17)),p=n.n(u),d=n(26),h=(n.n(d),n(27)),E=n.n(h),m=n(0),f=n.n(m),T=n(2),I=n(9),g=n.n(I),S=n(14),_=n.n(S),b=n(270),O=n(20),L=n(15),y=n(32),C=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=["Sort","likeCount","distance","ModifyTime"],N=["desc","desc","asc","desc"],R=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.renderRow=n.renderRow.bind(n),n.onRefresh=n.onRefresh.bind(n),n.loadNextPage=n.loadNextPage.bind(n),n.renderFooter=n.renderFooter.bind(n);var i=new E.a.DataSource({rowHasChanged:function(e,t){return e!==t},sectionHeaderHasChanged:function(e,t){return e!==t}});return n.state={dataSource:i.cloneWithRows(n.props.dataList?n.props.dataList:[])},n}return i(t,e),C(t,[{key:"componentDidMount",value:function(){this.props.dataList||this.loadData(this.props.inputKeyword),this.listView&&!isNaN(this.props.listViewOffset)&&this.listView.scrollTo(0,this.props.listViewOffset)}},{key:"componentDidUpdate",value:function(e,t,n){this.props.dataList!==e.dataList&&this.setState({dataSource:this.state.dataSource.cloneWithRows(this.props.dataList?this.props.dataList:[])})}},{key:"render",value:function(){var e=this;return f.a.createElement("div",{className:"scenicListBox",style:{height:this.props.height}},this.renderListView(),this.props.isFetching||this.props.dataList&&0!==this.props.dataList.length?null:f.a.createElement(y.a,{style:{height:this.props.height},onClick:function(){return e.onRefresh(e.props.inputKeyword)}}),this.props.isFetching&&1===this.props.pageIndex?f.a.createElement(p.a,{toast:!0,text:"Loading..."}):null)}},{key:"renderListView",value:function(){var e=this;if(this.props.dataList&&this.props.dataList.length>0){var t=function(e,t){return f.a.createElement("div",{key:e+"-"+t,style:{height:1,borderBottom:"0.5px solid #dddddd"}})};return f.a.createElement(E.a,{ref:function(t){e.listView=t,O.a.fixListViewHeightIssue(t,e.props.height)},dataSource:this.state.dataSource,renderRow:this.renderRow,renderSeparator:t,style:{height:this.props.height,overflow:"auto"},pullToRefresh:f.a.createElement(c.a,{refreshing:this.props.isFetching,onRefresh:function(){return e.onRefresh(e.props.inputKeyword)}}),onEndReached:this.loadNextPage,renderFooter:this.renderFooter,initialListSize:this.props.dataList.length,pageSize:20,scrollRenderAheadDistance:500,scrollEventThrottle:50,onEndReachedThreshold:20})}}},{key:"searchByKeyword",value:function(e){e===this.props.keyword||this.isEmptyString(e)&&this.isEmptyString(this.props.keyword)||this.onRefresh(e)}},{key:"isEmptyString",value:function(e){return!e||0===e.length}},{key:"onRefresh",value:function(e){var t=this;this.props.dispatch(Object(b.a)(v[this.props.tabIndex],N[this.props.tabIndex],this.getExtraParams())).then(function(){t.loadData(e)})}},{key:"loadNextPage",value:function(){this.loadData()}},{key:"renderFooter",value:function(){return this.props.isFetching&&!0===this.props.hasMore?f.a.createElement("div",{className:"loadingMore"},f.a.createElement(p.a,{text:"Loading..."})):null}},{key:"renderRow",value:function(e,t,n){var r=this,a=e.GetImage?e.GetImage.MiddleImageFrontUrl:"";return f.a.createElement("div",{key:n,className:"scenicListItem",onClick:function(){r.props.onItemClick&&r.props.onItemClick(e)}},f.a.createElement("div",{style:{backgroundImage:"url("+a+")"},className:"scenicListItemImg"}),f.a.createElement("div",{className:"funListItemTextBox"},f.a.createElement("div",{className:"scenicListItemName"},e.CnName),f.a.createElement("div",{className:"funListItemOthers"},"\u8ddd\u79bb",e.distance?e.distance.toFixed(1):"","\u5343\u7c73"),f.a.createElement("div",{className:"funListItemOthers"},e.Address)))}},{key:"loadData",value:function(e){if(!this.props.isFetching&&!1!==this.props.hasMore){var t=this.props.pageIndex?this.props.pageIndex+1:1;this.props.dispatch(Object(b.b)(v[this.props.tabIndex],N[this.props.tabIndex],t,e||this.props.keyword,this.getExtraParams()))}}},{key:"cacheScrollOffset",value:function(){if(this.listView){var e=_.a.findDOMNode(this.listView).scrollTop;this.props.dispatch(Object(b.e)(v[this.props.tabIndex],N[this.props.tabIndex],e,this.getExtraParams()))}}},{key:"getExtraParams",value:function(){return{storeKey:this.props.storeKey}}}]),t}(m.PureComponent);R.propTypes={onItemClick:g.a.func};var w=function(e,t){var n=t.storeKey&&t.storeKey.length>0?L.a.getStoreItemByDotConnector(e,t.storeKey):e.travelAgent.listScreen,r=n.groups[v[t.tabIndex]];return Object.assign({selectedTabIndex:n.selectedTabIndex},r,{inputKeyword:n.keyword})};R=Object(T.b)(w,null,null,{withRef:!0})(R),t.a=R},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(42),s=(n.n(o),n(43)),c=n.n(s),l=n(16),u=(n.n(l),n(17)),p=n.n(u),d=n(11),h=(n.n(d),n(12)),E=n.n(h),m=n(0),f=n.n(m),T=n(2),I=n(56),g=n(14),S=n.n(g),_=n(70),b=n(10),O=n(642),L=n(41),y=n(271),C=(n.n(y),n(1)),v=n(23),N=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),R=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.showElementMarkerMap=n.showElementMarkerMap.bind(n),n.showImageBrowser=n.showImageBrowser.bind(n),n.state={totalScore:0,goodScore:0,badScore:0,index:1,showImageBrowser:!1,imageList:[]},n}return i(t,e),N(t,[{key:"componentDidMount",value:function(){this.updateNativeTitle("\u8be6\u60c5"),this.props.detailItem?this.startScoreAnimation(this.props.detailItem):this.loadData(),this.restoreScrollViewPosition(),this.props.isNativeAppReady&&this.sendMessageToNative(C.i.SHOW_SHARE,{isShowShare:!0,url:window.location.href})}},{key:"componentDidUpdate",value:function(e,t,n){e.detailItem!==this.props.detailItem&&this.props.detailItem&&this.startScoreAnimation(this.props.detailItem),!e.isNativeAppReady&&this.props.isNativeAppReady&&this.sendMessageToNative(C.i.SHOW_SHARE,{isShowShare:!0,url:window.location.href})}},{key:"render",value:function(){var e=this;return f.a.createElement("div",{className:this.props.isFromNativeApp?"isFromNativeApp":null},this.props.isFromNativeApp?null:f.a.createElement(E.a,{mode:"dark",className:"navBar",leftContent:f.a.createElement(v.a,{ref:function(t){e.LeftContentView=t?t.getWrappedInstance():e.scrollView},goBackAction:function(){return Object(O.b)(e.props.match.params.code)},history:this.props.history}),onLeftClick:function(){e.LeftContentView.goHome()}},"\u8be6\u60c5"),f.a.createElement(b.a,{ref:function(t){e.scrollView=t?t.getWrappedInstance():e.scrollView}},this.renderHeaderView(),this.renderScoreView(),this.renderMapView(),this.renderBasicViews(),this.props.isFetching?f.a.createElement(p.a,{toast:!0,text:"Loading..."}):null,f.a.createElement(L.a,{ref:function(t){e.photoBrowserView=t?t.getWrappedInstance():e.scrollView}})))}},{key:"renderHeaderView",value:function(){return this.props.detailItem?f.a.createElement("div",{className:"scenicDetailHeader",onClick:this.showImageBrowser},this.renderHeaderImages(),f.a.createElement("div",{className:"scenicDetailHeaderBottom"},f.a.createElement("div",{className:"scenicDetailHeaderBottomText"},this.props.detailItem.CnName),f.a.createElement("div",{className:"lineDetailHeaderBottomText"},this.state.index,"/",this.props.detailItem.GetImage&&this.props.detailItem.GetImage.ImageList?this.props.detailItem.GetImage.ImageList.length:1))):null}},{key:"renderScoreView",value:function(){return this.props.detailItem?f.a.createElement("div",{className:"scenicScoreView"},f.a.createElement("div",{className:"scenicScoreCircle"},f.a.createElement(I.a,{percent:this.state.totalScore,strokeWidth:"6",trailWidth:"6",strokeColor:"#42a6dc",trailColor:"#f0f0f0"}),f.a.createElement("div",{className:"scenicScoreCircleTextBox"},f.a.createElement("div",{style:{flex:1}}),f.a.createElement("div",{className:"scenicScoreCircleTextSubBox"},f.a.createElement("div",{className:"scenicScoreCircleText"},this.state.totalScore),f.a.createElement("div",{className:"scenicScoreCircleUnit"},"%")),f.a.createElement("div",{style:{flex:1}}))),f.a.createElement("div",{className:"scenicScoreLines"},f.a.createElement("div",{className:"scenicScoreLine"},f.a.createElement("div",{className:"scenicScoreLineLabel"},"\u63a8\u8350"),f.a.createElement(I.b,{className:"scenicScoreLineProgress",percent:this.state.goodScore,strokeWidth:"4",trailWidth:"4",strokeColor:"#42a6dc",trailColor:"#f0f0f0"})),f.a.createElement("div",{className:"scenicScoreLine"},f.a.createElement("div",{className:"scenicScoreLineLabel"},"\u4e0d\u63a8\u8350"),f.a.createElement(I.b,{className:"scenicScoreLineProgress",percent:this.state.badScore,strokeWidth:"4",trailWidth:"4",strokeColor:"#42a6dc",trailColor:"#f0f0f0"})))):null}},{key:"renderHeaderImages",value:function(){var e=this;return this.props.detailItem&&this.props.detailItem.GetImage&&this.props.detailItem.GetImage.ImageList&&0!==this.props.detailItem.GetImage.ImageList.length?f.a.createElement(c.a,{className:"scenicDetailHeaderImgSlider",afterChange:function(){return e.imageChage()},autoplay:!0,dots:!1,swiping:!0,infinite:!0,selectedIndex:0,swipeSpeed:35},this.props.detailItem.GetImage.ImageList.map(function(e,t){return f.a.createElement("div",{key:t,className:"scenicDetailHeaderImg",style:{backgroundImage:"url("+e.MiddleImgSrc+")"}})})):null}},{key:"imageChage",value:function(){this.state.index===this.props.detailItem.GetImage.ImageList.length?this.setState({index:1}):this.setState({index:this.state.index+1})}},{key:"renderMapView",value:function(){var e=this;if(!this.props.detailItem||!this.props.detailItem.Longitude||!this.props.detailItem.Latitude)return null;var t=2*window.innerWidth,n="http://api.map.baidu.com/staticimage?width="+t+"&height=250&markers="+this.props.detailItem.Longitude+","+this.props.detailItem.Latitude+"&markerStyles=-1,http://oe72hu540.bkt.clouddn.com/ico_pin_blu.png";return f.a.createElement("img",{className:"scenicDetailMapImg",src:n,onClick:function(){return e.showElementMarkerMap()},alt:""})}},{key:"renderBasicViews",value:function(){var e=this;return this.props.detailItem?f.a.createElement("div",{className:"scenicDetailInfoRows"},f.a.createElement("div",{className:"scenicDetailInfoRow"},f.a.createElement("div",{className:"scenicDetailInfoLabel"},"\u5730\u5740"),f.a.createElement("div",{className:"scenicDetailInfoValue"},this.props.detailItem.Address)),this.props.detailItem.Telephone&&this.props.detailItem.Telephone.length>0?f.a.createElement("div",{className:"scenicDetailInfoRow"},f.a.createElement("div",{className:"scenicDetailInfoLabel"},"\u7535\u8bdd"),f.a.createElement("div",{className:"scenicDetailInfoPhoneRow",onClick:function(){return e.dial(e.props.detailItem.Telephone,e.props.isFromNativeApp)}},f.a.createElement("div",{className:"scenicDetailInfoValue"},this.props.detailItem.Telephone),f.a.createElement("div",{style:{flex:1}}),f.a.createElement("img",{className:"scenicDetailInfoPhone",src:n(62),alt:""}))):null,f.a.createElement("div",{className:"scenicDetailInfoRow"},f.a.createElement("div",{className:"scenicDetailInfoLabel"},"\u7b80\u4ecb"),f.a.createElement("div",{className:"scenicDetailInfoValue scenicDetailMultDesc"},this.props.detailItem.TravelExp))):null}},{key:"loadData",value:function(){this.props.dispatch(Object(O.a)(this.props.match.params.code))}},{key:"cacheScrollOffset",value:function(){var e=S.a.findDOMNode(this.scrollView).scrollTop;this.props.dispatch(Object(O.c)(this.props.match.params.code,e))}},{key:"restoreScrollViewPosition",value:function(){this.scrollView&&(isNaN(this.props.scrollViewOffset)?this.scrollView.scrollToY(0):this.scrollView.scrollToY(this.props.scrollViewOffset))}},{key:"startScoreAnimation",value:function(e){var t=this,n=e.GetUserComment;setTimeout(function(){t.setState({totalScore:0===n.AllCommentCount?100:(100*n.GoodCommentCount/n.AllCommentCount).toFixed(0),goodScore:0===n.AllCommentCount?100:(100*n.GoodCommentCount/n.AllCommentCount).toFixed(0),badScore:0===n.AllCommentCount?0:(100*(n.AllCommentCount-n.GoodCommentCount)/n.AllCommentCount).toFixed(0)})},700)}},{key:"showElementMarkerMap",value:function(){this.cacheScrollOffset();var e=this.props.detailItem;this.props.history.push("/map/elementMarker/"+this.props.match.params.code+"/"+e.CnName+"/"+e.Address+"/"+e.Latitude+"/"+e.Longitude)}},{key:"showImageBrowser",value:function(){if(!this.props.detailItem||!this.props.detailItem.GetImage||!this.props.detailItem.GetImage.ImageList||0===this.props.detailItem.GetImage.ImageList.length)return null;for(var e=[],t=0;t<this.props.detailItem.GetImage.ImageList.length;t++){var n=this.props.detailItem.GetImage.ImageList[t];e.push(n.ImgSrc.replace("Small","Large"))}this.photoBrowserView.open(e)}}]),t}(_.a),w=function(e,t){var n=e.travelAgent.detailScreen[t.match.params.code];return Object.assign({},n,{isFromNativeApp:e.native.isFromNativeApp,isNativeAppReady:e.native.isNativeAppReady})};R=Object(T.b)(w)(R),t.a=R},function(e,t,n){"use strict";function r(e){return{type:u.b.TRAVEL_AGENT.DETAIL.GO_BACK,code:e}}function a(e){return function(t,n){return t(s(e)),o(e).then(function(n){n=n&&n.results&&n.results.length>0?n.results[0]:void 0,t(c(e,n))}).catch(function(n){t(l(e,n))})}}function i(e,t){return{type:u.b.TRAVEL_AGENT.DETAIL.SET_DETAIL_SCROLL_OFFSET,code:e,scrollViewOffset:t}}function o(e){var t={Code:e};return p.a.getFromPortal(u.q.ELEMENTS.TravelAgentDetail,t).then(function(e){return e.json()})}function s(e){return{type:u.b.TRAVEL_AGENT.DETAIL.GET_DETAIL_REQUEST,code:e}}function c(e,t){return{type:u.b.TRAVEL_AGENT.DETAIL.GET_DETAIL_SUCCESS,code:e,detailItem:t}}function l(e,t){return{type:u.b.TRAVEL_AGENT.DETAIL.GET_DETAIL_FAILURE,code:e,message:t}}t.b=r,t.a=a,t.c=i;var u=n(1),p=n(8)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(39),s=(n.n(o),n(40)),c=n.n(s),l=n(28),u=(n.n(l),n(29)),p=n.n(u),d=n(16),h=(n.n(d),n(17)),E=n.n(h),m=n(86),f=(n.n(m),n(87)),T=n.n(f),I=n(11),g=(n.n(I),n(12)),S=n.n(g),_=n(18),b=(n.n(_),n(19)),O=n.n(b),L=n(0),y=n.n(L),C=n(2),v=n(10),N=n(265),R=(n.n(N),n(8)),w=n(15),D=n(1),A=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),k=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.type="0",n.phoneNumber="",n.checkCode="",n.inputCheckCode="",n.pwd1="",n.pwd2="",n.goBack=n.goBack.bind(n),n.handlePhoneNumberChange=n.handlePhoneNumberChange.bind(n),n.resetPwd=n.resetPwd.bind(n),n.register=n.register.bind(n),n.scheduleTimer=n.scheduleTimer.bind(n),n.handlePasswordChange1=n.handlePasswordChange1.bind(n),n.handlePasswordChange2=n.handlePasswordChange2.bind(n),n.state={step:"1",checkCode:"",timeCount:60,isTimerTicking:!1,isFetching:!1},n}return i(t,e),A(t,[{key:"componentDidMount",value:function(){this.type=this.props.match.params.type}},{key:"handlePhoneNumberChange",value:function(e){"1"===this.state.step?this.phoneNumber=e.target.value:"2"===this.state.step&&(this.inputCheckCode=e.target.value)}},{key:"handlePasswordChange1",value:function(e){this.pwd1=e.target.value}},{key:"handlePasswordChange2",value:function(e){this.pwd2=e.target.value}},{key:"render",value:function(){var e=this,t="\u91cd\u7f6e\u5bc6\u7801";t="0"===this.type?"\u91cd\u7f6e\u5bc6\u7801":"\u6ce8\u518c";var n="\u624b\u673a\u53f7",r="\u4e0b\u4e00\u6b65\uff0c\u9a8c\u8bc1\u624b\u673a\u53f7\u7801",a="\u8bf7\u8f93\u5165\u624b\u673a\u53f7";return"1"===this.state.step?(n="\u624b\u673a\u53f7",r="\u4e0b\u4e00\u6b65\uff0c\u9a8c\u8bc1\u624b\u673a\u53f7\u7801",a="\u8bf7\u8f93\u5165\u624b\u673a\u53f7"):"2"===this.state.step?(n="\u9a8c\u8bc1\u7801",r="\u4e0b\u4e00\u6b65\uff0c\u8bbe\u7f6e\u5bc6\u7801",a="\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801"):"3"===this.state.step&&(n="\u5bc6\u7801",r="\u5b8c\u6210",a="\u8bf7\u8f93\u5165\u5bc6\u7801"),y.a.createElement("div",{className:"whiteTopNavBar"},y.a.createElement(S.a,{mode:"light",className:"navBar",icon:y.a.createElement(O.a,{type:"left"}),leftContent:"\u8fd4\u56de",onLeftClick:this.goBack},t+this.state.step+"/3"),y.a.createElement(v.a,null,y.a.createElement("div",{className:"findPasswordContent"},"2"===this.state.step?y.a.createElement("div",{style:{alignSelf:"center"}},"\u9a8c\u8bc1\u624b\u673a ",this.phoneNumber):null,"3"===this.state.step?this.renderStep3():y.a.createElement("div",{className:"findPasswordInput"},y.a.createElement("div",{style:{position:"relative"}},y.a.createElement("span",{className:"findPasswordInputInfo"},n),y.a.createElement("input",{className:"findPasswordInputPhone",style:{width:"2"===this.state.step?"150px":"auto"},type:"number",placeholder:a,onChange:this.handlePhoneNumberChange,ref:"myTextInput"})),"2"===this.state.step?y.a.createElement("div",{className:"sendCodeButton",style:{color:this.state.isTimerTicking?"#999999":"#58c0e7",borderColor:this.state.isTimerTicking?"#999999":"#58c0e7"},onClick:function(){return e.sendCode()}},this.state.isTimerTicking?"\u91cd\u65b0\u83b7\u53d6("+this.state.timeCount+"s)":"\u53d1\u9001\u9a8c\u8bc1\u7801"):null),y.a.createElement(T.a,{style:{margin:"10px 10px 0px 10px",background:"#58c0e7"},type:"primary",onClick:function(){return e.submit()}},r)),this.state.isFetching?y.a.createElement(E.a,{toast:!0,text:"Loading..."}):null))}},{key:"renderStep3",value:function(){return y.a.createElement("div",null,y.a.createElement("div",{className:"findPasswordInput",style:{justifyContent:"flex-start"}},y.a.createElement("span",{className:"findPasswordInputInfo"},"\u5bc6\u7801"),y.a.createElement("input",{className:"findPasswordInputPhone",type:"password",placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",onChange:this.handlePasswordChange1})),y.a.createElement("div",{className:"findPasswordInput",style:{justifyContent:"flex-start"}},y.a.createElement("span",{className:"findPasswordInputInfo"},"\u786e\u8ba4\u5bc6\u7801"),y.a.createElement("input",{className:"findPasswordInputPhone",type:"password",placeholder:"\u8bf7\u518d\u6b21\u8f93\u5165\u5bc6\u7801",onChange:this.handlePasswordChange2})))}},{key:"goBack",value:function(){this.props.history.goBack()}},{key:"submit",value:function(){var e=this;if("1"===this.state.step){if(0===this.phoneNumber.length)return void p.a.show("\u8bf7\u8f93\u5165\u624b\u673a\u53f7",1);if(11!==this.phoneNumber.length)return void p.a.show("\u8bf7\u8f93\u516511\u4f4d\u624b\u673a\u53f7",1);var t={phone:this.phoneNumber};this.setState({isFetching:!0}),R.a.postToPortal(D.q.ME.IsRegister,t,null,!0).then(function(e){return e.json()}).then(function(t){e.setState({isFetching:!1}),"0"===e.type?t&&"0"===t.status&&t.results&&t.results.length>0?(e.setState({step:"2"}),e.refs.myTextInput.value=""):c.a.alert("\u63d0\u793a","\u60a8\u7684\u624b\u673a\u53f7\u7801\u672a\u6ce8\u518c",[{text:"OK",style:"default"}]):t&&"0"===t.status&&t.results&&t.results.length>0?c.a.alert("\u63d0\u793a","\u60a8\u7684\u624b\u673a\u53f7\u7801\u5df2\u6ce8\u518c",[{text:"OK",style:"default"}]):(e.setState({step:"2"}),e.refs.myTextInput.value="")})}else if("2"===this.state.step)0===this.inputCheckCode.length?p.a.show("\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",1):this.inputCheckCode===this.checkCode?(this.setState({step:"3"}),this.refs.myTextInput.value=""):p.a.show("\u9a8c\u8bc1\u7801\u9519\u8bef\uff01",1);else if("3"===this.state.step){if(0===this.pwd1.length)return void p.a.show("\u8bf7\u8f93\u5165\u5bc6\u7801",1);if(0===this.pwd2.length)return void p.a.show("\u8bf7\u518d\u6b21\u8f93\u5165\u5bc6\u7801",1);if(this.pwd1!==this.pwd2)return void p.a.show("\u4e24\u6b21\u5bc6\u7801\u8f93\u5165\u4e0d\u4e00\u81f4!",1);"0"===this.type?this.resetPwd():this.register()}}},{key:"resetPwd",value:function(){var e=this,t={phone:this.phoneNumber,pwd:this.pwd1};this.setState({isFetching:!0}),R.a.postToPortal(D.q.ME.ResetPwd,t,null,!0).then(function(e){return e.json()}).then(function(t){e.setState({isFetching:!1}),"0"===t.status?c.a.alert("\u63d0\u793a","\u5bc6\u7801\u91cd\u7f6e\u6210\u529f\uff01",[{text:"OK",style:"default",onPress:function(){return e.goBack()}}]):c.a.alert("\u63d0\u793a","\u5bc6\u7801\u91cd\u7f6e\u5931\u8d25",[{text:"OK",style:"default"}])})}},{key:"register",value:function(){var e=this,t={phone:this.phoneNumber,pwd:this.pwd1,email:""};this.setState({isFetching:!0}),R.a.postToPortal(D.q.ME.Register,t,null,!0).then(function(e){return e.json()}).then(function(t){e.setState({isFetching:!1}),"0"===t.status?c.a.alert("\u63d0\u793a","\u6ce8\u518c\u6210\u529f\uff01",[{text:"OK",style:"default",onPress:function(){return e.goBack()}}]):c.a.alert("\u63d0\u793a","\u6ce8\u518c\u5931\u8d25",[{text:"OK",style:"default"}])})}},{key:"sendCode",value:function(){var e=this;if(!this.state.isTimerTicking){this.checkCode=w.a.RndNum(5);var t={phone:this.phoneNumber,type:"1",code:this.checkCode};this.setState({isFetching:!0}),R.a.postToPortal(D.q.ME.SendMessage,t,null,!0).then(function(e){return e.json()}).then(function(t){e.setState({isFetching:!1}),"0"===t.status?(p.a.show("\u9a8c\u8bc1\u7801\u5df2\u53d1\u9001",1),e.setState({timeCount:60,isTimerTicking:!0}),e.scheduleTimer()):p.a.show("\u9a8c\u8bc1\u7801\u53d1\u9001\u5931\u8d25",1)})}}},{key:"scheduleTimer",value:function(){this.setState({timeCount:this.state.timeCount-1}),this.state.timeCount>0?setTimeout(this.scheduleTimer,1e3):this.setState({isTimerTicking:!1})}},{key:"componentWillUnmount",value:function(){this.setState({timeCount:60,isTimerTicking:!1})}}]),t}(L.PureComponent);k=Object(C.b)()(k),t.a=k},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(16),s=(n.n(o),n(17)),c=n.n(s),l=n(11),u=(n.n(l),n(12)),p=n.n(u),d=n(18),h=(n.n(d),n(19)),E=n.n(h),m=n(0),f=n.n(m),T=n(2),I=n(10),g=n(645),S=(n.n(g),n(21),n(47)),_=n(646),b=n(8),O=n(15),L=n(1),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),C=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.onSign=n.onSign.bind(n);var i=(new Date).formatDate("YYYY-MM-DD");return n.state={weekDay:[],today:i,isLastMonth:!0},n}return i(t,e),y(t,[{key:"componentDidMount",value:function(){this.props.dataInfo||this.loadData()}},{key:"render",value:function(){var e=this;return f.a.createElement("div",null,f.a.createElement(p.a,{mode:"dark",className:"navBar",icon:f.a.createElement(E.a,{type:"left"}),onLeftClick:function(){var t=e.props.dispatch;e.props.history.goBack(),t(Object(_.b)())}},"\u7b7e\u5230"),f.a.createElement(I.a,null,this.renderPage(),this.props.isFetching?f.a.createElement(c.a,{toast:!0,text:"Loading..."}):null))}},{key:"renderPage",value:function(){if(this.props.dataInfo){var e=n(647),t=n(648),r=n(649),a=n(650),i=0,o=0;return!this.props.dataInfo.CanSignIn&&this.props.dataInfo.Logs&&this.props.dataInfo.Logs.length>0&&(i=this.props.dataInfo.Logs[0].BaseIntegration+this.props.dataInfo.Logs[0].RuleIntegration),this.props.dataInfo.Logs&&this.props.dataInfo.Logs.length>0&&(o=this.props.dataInfo.Logs[0].SignInCount),f.a.createElement("div",{className:"signBox"},f.a.createElement("div",{className:"signScoreBox",style:{backgroundImage:"url("+r+")"}},f.a.createElement("div",{className:"signScoreFlex"},f.a.createElement("div",{className:"signScoreToday"},f.a.createElement("div",{className:"signScoreTodayTip"},"\u4eca\u65e5\u83b7\u5f97"),f.a.createElement("div",{className:"signScoreTodayValue"},i,"\u79ef\u5206")),f.a.createElement("div",{className:"signScoreButton"},this.props.dataInfo.CanSignIn?f.a.createElement("img",{onClick:this.onSign,src:e,alt:"",className:"signButton"}):f.a.createElement("img",{src:t,alt:"",className:"signButton"})),f.a.createElement("div",{className:"signScoreDayTimes"},f.a.createElement("div",{className:"signScoreDayTimesTip"},"\u8fde\u7eed\u7b7e\u5230"),f.a.createElement("div",{className:"signScoreDayTimesValue"},o,"\u5929"))),f.a.createElement("div",{className:"signTips"},"\u6bcf\u65e5\u7b7e\u5230\u9001",f.a.createElement("b",null,this.props.dataInfo.Info?this.props.dataInfo.Info.Integration:"","\u79ef\u5206"))),f.a.createElement("div",{className:"signCalendarBox"},this.renderCalendar()),f.a.createElement("div",{className:"signRuleBox",style:{backgroundImage:"url("+a+")"}},f.a.createElement("h5",{className:"signRuleTip"},"\u7b7e\u5230\u8bf4\u660e\u89c4\u5219"),f.a.createElement("div",{className:"signRuleContent"},f.a.createElement("p",null,"1\u3001\u6bcf\u65e5\u7b7e\u5230\u53ef\u83b7\u5f97",this.props.dataInfo.Info?this.props.dataInfo.Info.Integration:"","\u79ef\u5206"),this.props.dataInfo.Rules?this.props.dataInfo.Rules.map(function(e,t){return f.a.createElement("p",{key:t},t+2,"\u3001\u8fde\u7eed\u7b7e\u5230",e.SignInCount,"\u6b21\uff0c\u53ef\u83b7\u5f97",e.Integration,"\u79ef\u5206")}):null)))}}},{key:"renderCalendar",value:function(){var e=this,t=["\u5468\u65e5","\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d"],r=n(651),a=n(652),i=n(653);return f.a.createElement("div",{className:"signCalendar"},f.a.createElement("div",{className:"signCalendarToday"},f.a.createElement("img",{src:a,alt:"",className:"signCalendarMonthButton",onClick:function(){return e.getCalendarData(-1,!1)}}),f.a.createElement("span",{className:"signCalendarDate"},this.state.today),this.state.isLastMonth?"":f.a.createElement("img",{src:i,alt:"",className:"signCalendarMonthButton",onClick:function(){return e.getCalendarData(1,!1)}})),f.a.createElement("div",{className:"signCalendarContent"},f.a.createElement("ul",{className:"weekTitleBox"},t.map(function(e,t){return f.a.createElement("li",{className:"weekTitle",key:t},f.a.createElement("span",null,e))})),f.a.createElement("ul",{className:"weekDayBox"},this.state.weekDay.map(function(e,t){return f.a.createElement("li",{className:"weekDayTitle",key:t},e.isSign?f.a.createElement("div",{className:"signCalendarCheck",style:{backgroundImage:"url("+r+")"}},e.value):f.a.createElement("div",null,e.value))}))))}},{key:"getCalendarData",value:function(e,t){if(this.props.dataInfo){var n=void 0;t?n=(new Date).formatDate("YYYY-MM-DD"):(n=new Date(this.state.today),n=new Date(n.setMonth(n.getMonth()+e)).formatDate("YYYY-MM-DD"));var r=[],a=new Date(n),i=new Date(a.getFullYear(),a.getMonth(),1),o=new Date(a.getFullYear(),a.getMonth()+1,0),s=o.getDate();if(i.getDay()>0)for(var c=0;c<i.getDay();c++)r[c]={isSign:!1,value:"",date:""};for(var l=1;l<=s;l++){var u=i.addDays(l-1).formatDate("YYYY-MM-DD");r[l+i.getDay()-1]={isSign:!1,value:l+"",date:u}}if(this.props.dataInfo.Logs&&this.props.dataInfo.Logs.length>0)for(var p=0;p<this.props.dataInfo.Logs.length;p++)for(var d=new Date(this.props.dataInfo.Logs[p].CreateTime).formatDate("YYYY-MM-DD"),h=0;h<r.length;h++)r[h].date===d&&(r[h].isSign=!0);(new Date).formatDate("YYYY-MM")===new Date(n).formatDate("YYYY-MM")?this.setState({isLastMonth:!0,today:(new Date).formatDate("YYYY-MM-DD"),weekDay:r}):this.setState({isLastMonth:!1,today:new Date(n).formatDate("YYYY-MM"),weekDay:r})}}},{key:"loadData",value:function(){var e=this;this.props.dispatch(Object(_.a)()).then(function(){e.getCalendarData(0,!0)})}},{key:"onSign",value:function(){var e=this,t=S.a.getItem(L.r.WX_ACCOUNT),n=S.a.getItem(L.r.WX_USER_OPENID),r=b.a.WECHAT_HANDLER,a={type:"7",action:"2",conditionParm:JSON.stringify({AccountGuid:t,OpenId:n,Longitude:this.props.location.lng,Latitude:this.props.location.lat})};b.a.getData(r,a).then(function(e){return e.json()}).then(function(t){t.success&&e.loadData()})}}]),t}(m.PureComponent),v=function(e){return Object.assign({},e.sign.signScreen,{location:O.a.getLocation(e)})};C=Object(T.b)(v)(C),t.a=C},function(e,t){},function(e,t,n){"use strict";function r(e,t){return function(n,r){return n(a(e,t)),i(e,t).then(function(e){n(o(e))}).catch(function(e){n(s())})}}function a(e,t){return{type:l.b.SIGN.GET_INFO_REQUEST}}function i(e,t){var n=p.a.getItem(l.r.WX_ACCOUNT),r=p.a.getItem(l.r.WX_USER_OPENID),a=u.a.WECHAT_HANDLER,i={type:"7",action:"1",conditionParm:JSON.stringify({AccountGuid:n,OpenId:r})};return u.a.getData(a,i).then(function(e){return e.json()})}function o(e){return{type:l.b.SIGN.GET_INFO_SUCCESS,resp:e}}function s(){return{type:l.b.SIGN.GET_INFO_FAILURE}}function c(){return{type:l.b.SIGN.GO_BACK}}t.a=r,t.b=c;var l=n(1),u=n(8),p=(n(21),n(47))},function(e,t,n){e.exports=n.p+"static/media/btn-signin.73c714aa.png"},function(e,t,n){e.exports=n.p+"static/media/btn-signedin.38ac14ca.png"},function(e,t,n){e.exports=n.p+"static/media/bg-top.669c0350.jpg"},function(e,t,n){e.exports=n.p+"static/media/bg-rule.aef363dc.png"},function(e,t,n){e.exports=n.p+"static/media/day-active.cc92f516.png"},function(e,t,n){e.exports=n.p+"static/media/calendar_last_unfocused.053fc0ef.png"},function(e,t,n){e.exports=n.p+"static/media/calendar_next_unfocused.01b6af80.png"},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(28),c=(n.n(s),n(29)),l=n.n(c),u=n(16),p=(n.n(u),n(17)),d=n.n(p),h=n(11),E=(n.n(h),n(12)),m=n.n(E),f=n(18),T=(n.n(f),n(19)),I=n.n(T),g=n(39),S=(n.n(g),n(40)),_=n.n(S),b=n(655),O=(n.n(b),n(657)),L=n.n(O),y=n(0),C=n.n(y),v=n(2),N=n(10),R=n(1),w=n(682),D=n(115),A=(n.n(D),n(8)),k=n(14),P=n.n(k),F=n(296),U=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),G=L.a.Item,j=_.a.alert,M=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.code=n.props.history.location.state.code,n.groupList=n.props.history.location.state.groupList,n.headerInfo=n.props.history.location.state.headerInfo,n.journeyMapTapped=n.journeyMapTapped.bind(n),n.submitViewTapped=n.submitViewTapped.bind(n),n.renderRow=n.renderRow.bind(n),n.renderHeader=n.renderHeader.bind(n),n.onDayMenuSelected=n.onDayMenuSelected.bind(n),n.showDayMenu=n.showDayMenu.bind(n),n.handleDayVisibleChange=n.handleDayVisibleChange.bind(n),n.showRowMenu=n.showRowMenu.bind(n),n.onRowMenuSelected=n.onRowMenuSelected.bind(n),n.handleRowVisibleChange=n.handleRowVisibleChange.bind(n),n.addPointTapped=n.addPointTapped.bind(n),n.pointDetailTapped=n.pointDetailTapped.bind(n);for(var r=n.props.dataList?n.props.dataList:n.groupList,o=[],s=[],c=0;c<r.length;c++){o.push(!1);for(var l=[],u=0;u<r[c].length;u++)l.push(!1);s.push(l)}return n.state={menuVisibleList:o,dayRowVisibleList:s,isLoading:!1},n}return o(t,e),U(t,[{key:"componentDidMount",value:function(){if(!this.props.dataList){var e=this.headerInfo&&this.headerInfo.BeginDate.length>0?new Date(this.headerInfo.BeginDate.replace(" ","T")).formatDate("YYYY-MM-DD"):(new Date).formatDate("YYYY-MM-DD");this.props.dispatch(Object(w.a)(this.code,e)),this.props.dispatch(Object(w.b)(this.code,JSON.parse(JSON.stringify(this.groupList))))}if(this.props.addPointGroupList){var t=[].concat(r(this.props.addPointGroupList));this.props.dispatch(Object(w.c)(this.code)),this.props.dispatch(Object(w.b)(this.code,t))}this.restoreScrollViewPosition()}},{key:"componentDidUpdate",value:function(e,t,n){this.props.dataList,e.dataList}},{key:"render",value:function(){var e=this;return C.a.createElement("div",{className:"journeyEdit"},C.a.createElement(m.a,{mode:"dark",className:"navBar",icon:C.a.createElement(I.a,{type:"left"}),onLeftClick:function(){var t=e.code,n=e.props.dispatch;e.props.history.goBack(),n(Object(w.d)(t))},rightContent:C.a.createElement("div",{style:{color:"#fff",backgroundColor:"#00c6ad",fontSize:"14px",borderRadius:"4px",padding:"7px"},onClick:function(){return e.submitViewTapped()}},"\u5b8c\u6210")},"\u7f16\u8f91\u884c\u7a0b"),C.a.createElement(N.a,{ref:function(t){e.scrollView=t?t.getWrappedInstance():e.scrollView}},this.renderListView(),this.state.isLoading?C.a.createElement(d.a,{toast:!0,text:"Loading..."}):null))}},{key:"renderListView",value:function(){var e=this;if(this.props.dataList&&this.props.dataList.length>0)return C.a.createElement("div",{className:"listView",style:{padding:"10px"}},this.renderHeader(),C.a.createElement("div",{className:"rowBox"},this.props.dataList.map(function(t,n){return e.renderRow(t,n)})))}},{key:"renderHeader",value:function(){var e=this,t=this.loadAllPointCount();return C.a.createElement("div",{className:"headerBox",onClick:function(){return e.journeyMapTapped()}},C.a.createElement("img",{className:"headerBgImage",src:n(683),alt:""}),C.a.createElement("div",{className:"headerTitle"},"\u5df2\u6dfb\u52a0",t,"\u4e2a\u5730\u70b9\uff0c\u5728\u5730\u56fe\u4e2d\u67e5\u770b"))}},{key:"renderRow",value:function(e,t){var r=this,a=e&&e.length>0?e.length:0,i=this.props.dataList.length,o=this.getDayDate(t),s=[C.a.createElement(G,{key:"0"},"\u5411\u4e0a\u589e\u4e00\u5929"),C.a.createElement(G,{key:"1"},"\u5411\u4e0b\u589e\u4e00\u5929")];return 1===i&&0===t||s.push(C.a.createElement(G,{key:"2"},"\u5220\u9664")),0!==t&&s.push(C.a.createElement(G,{key:"3"},"\u5411\u4e0a\u79fb\u4e00\u5929")),i-1!==t&&s.push(C.a.createElement(G,{key:"4"},"\u5411\u4e0b\u79fb\u4e00\u5929")),C.a.createElement("div",{className:"dayBox",key:t},C.a.createElement("div",{className:"headBox"},C.a.createElement("div",{className:"headLeftBox"},C.a.createElement("img",{className:"leftIconImage",src:n(684),alt:""}),C.a.createElement("div",{className:"headDayInfo"},C.a.createElement("div",{className:"dayTitle"},"\u7b2c",parseInt(t,10)+1,"\u5929"),C.a.createElement("div",{className:"dayDateStr"},o))),C.a.createElement(L.a,{mask:!0,overlayClassName:"fortest",overlay:s,visible:this.state.menuVisibleList[t],align:{overflow:{adjustY:0,adjustX:0},offset:[-10,0]},onSelect:function(e){return r.onDayMenuSelected(e,t)},onVisibleChange:function(e){return r.handleDayVisibleChange(e,t)}},C.a.createElement("div",{onClick:function(){return r.showDayMenu(t)},style:{padding:"10px",width:"30px",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"}},C.a.createElement("img",{src:n(685),alt:""})))),C.a.createElement("div",{className:"pointBox"},a>0?e.map(function(e,n){return r.renderPointItemRow(e,n,a-1===n,parseInt(t,10))}):null),this.renderAddPointBox(parseInt(t,10)))}},{key:"renderPointItemRow",value:function(e,t,r,a){var i=this,o=r?"pointRowNoSplite":"pointRow",s=[C.a.createElement(G,{key:"0"},"\u5220\u9664")];return 0!==t&&s.push(C.a.createElement(G,{key:"1"},"\u5411\u4e0a\u79fb")),r||s.push(C.a.createElement(G,{key:"2"},"\u5411\u4e0b\u79fb")),C.a.createElement("div",{className:o,key:t},C.a.createElement("div",{className:"projectName",onClick:function(){return i.pointDetailTapped(e)}},e.Name),C.a.createElement(L.a,{mask:!0,overlayClassName:"fortest",overlay:s,visible:this.state.dayRowVisibleList[a][t],align:{overflow:{adjustY:0,adjustX:0},offset:[-10,0]},onSelect:function(e){return i.onRowMenuSelected(e,a,t)},onVisibleChange:function(e){return i.handleRowVisibleChange(e,a,t)}},C.a.createElement("div",{onClick:function(){return i.showRowMenu(a,t)},style:{padding:"10px",width:"30px",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"}},C.a.createElement("img",{style:{width:"30px",height:"20px",marginRight:"10px"},src:n(686),alt:""}))))}},{key:"renderAddPointBox",value:function(e){var t=this;return C.a.createElement("div",{className:"addPointBox"},C.a.createElement("div",{style:{flex:1}},"\u53bb\u6dfb\u52a0: "),C.a.createElement("div",{className:"addPointScroll"},C.a.createElement("div",{className:"selectPointBox",onClick:function(){return t.addPointTapped(R.h.You,e)}},C.a.createElement("img",{className:"selectIcon",src:n(297),alt:""}),C.a.createElement("div",{className:"selectTypeName"},"\u9644\u8fd1\u666f\u533a")),C.a.createElement("div",{className:"selectPointBox",onClick:function(){return t.addPointTapped(R.h.Zhu,e)}},C.a.createElement("img",{className:"selectIcon",src:n(298),alt:""}),C.a.createElement("div",{className:"selectTypeName"},"\u9644\u8fd1\u9152\u5e97")),C.a.createElement("div",{className:"selectPointBox",onClick:function(){return t.addPointTapped(R.h.CanTing,e)}},C.a.createElement("img",{className:"selectIcon",src:n(299),alt:""}),C.a.createElement("div",{className:"selectTypeName"},"\u9644\u8fd1\u9910\u5385")),C.a.createElement("div",{className:"selectPointBox",onClick:function(){return t.addPointTapped(R.h.Gou,e)}},C.a.createElement("img",{className:"selectIcon",src:n(300),alt:""}),C.a.createElement("div",{className:"selectTypeName"},"\u9644\u8fd1\u8d2d\u7269")),C.a.createElement("div",{className:"selectPointBox",onClick:function(){return t.addPointTapped(R.h.Yu,e)}},C.a.createElement("img",{className:"selectIcon",src:n(301),alt:""}),C.a.createElement("div",{className:"selectTypeName"},"\u9644\u8fd1\u5a31\u4e50"))))}},{key:"getDayDate",value:function(e){return new Date(this.props.beginDate).addDays(e).formatDate("YYYY-MM-DD")}},{key:"loadAllPointCount",value:function(){var e=0;if(this.props.dataList&&this.props.dataList.length>0)for(var t=0;t<this.props.dataList.length;t++){var n=this.props.dataList[t];e+=n&&n.length>0?n.length:0}return e}},{key:"updateAllMenuVisibleList",value:function(e){for(var t=[],n=[],r=0;r<e.length;r++){t.push(!1);for(var a=[],i=0;i<e[r].length;i++)a.push(!1);n.push(a)}this.setState({menuVisibleList:t,dayRowVisibleList:n})}},{key:"showDayMenu",value:function(e){var t=[].concat(r(this.state.menuVisibleList));t[e]=!0,this.setState({menuVisibleList:t})}},{key:"handleDayVisibleChange",value:function(e,t){var n=[].concat(r(this.state.menuVisibleList));n[t]=e,this.setState({menuVisibleList:n})}},{key:"onDayMenuSelected",value:function(e,t){var n=parseInt(e.key,10),a=[].concat(r(this.props.dataList));if(0===n){if(a.length>=this.props.journeyMaxDayCount)return this.updateAllMenuVisibleList(a),void _.a.alert("\u63d0\u793a","\u6700\u591a\u53ea\u80fd\u6dfb\u52a0"+this.props.journeyMaxDayCount+"\u5929\u7684\u884c\u7a0b!",[{text:"OK",style:"default",onPress:function(){}}]);if(0===t){var i=new Date(this.props.beginDate).addDays(-1).formatDate("YYYY-MM-DD");this.props.dispatch(Object(w.a)(this.code,i))}a.splice(t,0,[]),this.props.dispatch(Object(w.b)(this.code,a))}else if(1===n){if(a.length>=this.props.journeyMaxDayCount)return this.updateAllMenuVisibleList(a),void _.a.alert("\u63d0\u793a","\u6700\u591a\u53ea\u80fd\u6dfb\u52a0"+this.props.journeyMaxDayCount+"\u5929\u7684\u884c\u7a0b!",[{text:"OK",style:"default",onPress:function(){}}]);a.splice(t+1,0,[]),this.props.dispatch(Object(w.b)(this.code,a))}else if(2===n)a.splice(t,1),this.props.dispatch(Object(w.b)(this.code,a));else if(3===n){var o=a[t-1],s=a[t];a.splice(t-1,1,s),a.splice(t,1,o),this.props.dispatch(Object(w.b)(this.code,a))}else if(4===n){var c=a[t],l=a[t+1];a.splice(t+1,1,c),a.splice(t,1,l),this.props.dispatch(Object(w.b)(this.code,a))}this.updateAllMenuVisibleList(a)}},{key:"showRowMenu",value:function(e,t){var n=[].concat(r(this.state.dayRowVisibleList));n[e][t]=!0,this.setState({dayRowVisibleList:n})}},{key:"handleRowVisibleChange",value:function(e,t,n){var a=[].concat(r(this.state.dayRowVisibleList));a[t][n]=!1,this.setState({dayRowVisibleList:a})}},{key:"onRowMenuSelected",value:function(e,t,n){var a=[].concat(r(this.props.dataList)),i=parseInt(e.key,10);if(0===i)a[t].splice(n,1),this.props.dispatch(Object(w.b)(this.code,a));else if(1===i){var o=a[t],s=o[n-1],c=o[n];o.splice(n-1,1,c),o.splice(n,1,s),this.props.dispatch(Object(w.b)(this.code,a))}else if(2===i){var l=a[t],u=l[n],p=l[n+1];l.splice(n+1,1,u),l.splice(n,1,p),this.props.dispatch(Object(w.b)(this.code,a))}this.updateAllMenuVisibleList(a)}},{key:"journeyMapTapped",value:function(){this.cacheScrollOffset(),this.props.history.push({pathname:"/journey/mapLine",state:{code:this.code,groupList:this.props.dataList}})}},{key:"addPointTapped",value:function(e,t){this.cacheScrollOffset(),this.props.history.push({pathname:"/journey/addPoint",state:{code:this.code,pointType:e,groupList:this.props.dataList,dayIndex:t}})}},{key:"pointDetailTapped",value:function(e){this.cacheScrollOffset();var t=e.ProjectCode;t.indexOf("JQ")>=0?this.props.history.push("/scenic/detail/"+t):t.indexOf("JD")>=0?this.props.history.push("/hotel/detail/"+t):t.indexOf("CT")>=0?this.props.history.push("/restaurant/detail/"+t):t.indexOf("SD")>=0||t.indexOf("SQ")>=0?this.props.history.push("/shopping/detail/"+t):t.indexOf("YL")>=0&&this.props.history.push("/fun/detail/"+t)}},{key:"submitViewTapped",value:function(){var e=this;if(this.loadAllPointCount()<=0)return void l.a.info("\u8bf7\u81f3\u5c11\u9009\u62e9\u4e00\u4e2a\u5174\u8da3\u70b9!",2);for(var t=0,n=this.props.dataList,a=0;a<n.length;a++){0===n[a].length&&(t+=1)}if(t>0)j("\u63d0\u793a","\u5b58\u5728\u6ca1\u6709\u5174\u8da3\u70b9\u7684\u65e5\u671f,\u8be5\u65e5\u671f\u5c06\u88ab\u5220\u9664\uff0c\u662f\u5426\u4fdd\u5b58?",[{text:"\u53d6\u6d88",onPress:function(){}},{text:"\u786e\u5b9a",onPress:function(){for(var n=[].concat(r(e.props.dataList)),a=e.props.beginDate,i=0;i<t;i++)for(var o=[].concat(r(n)),s=0;s<o.length;s++)if(o[s].length<=0){0===s&&(a=new Date(a).addDays(1).formatDate("YYYY-MM-DD")),n.splice(s,1);break}e.updateAllMenuVisibleList(n),e.props.dispatch(Object(w.a)(e.code,a)),e.props.dispatch(Object(w.b)(e.code,n))}}]);else{var i=this.props.dataList,o=i.length!==this.groupList.length;if(!o)for(var s=0;s<i.length;s++){var c=i[s],u=this.groupList[s];if(o=c.length!==u.length)break;for(var p=0;p<c.length;p++){var d=c[p],h=u[p];if(o=d.Code!==h.Code)break}if(o)break}o?this.doSubmitEditDone():l.a.info("\u8bf7\u4fee\u6539\u884c\u7a0b\u540e\u9009\u62e9\u4fdd\u5b58!",2)}}},{key:"getEditJsonParmString",value:function(){for(var e=[],t=this.props.dataList,n=0;n<t.length;n++)for(var r=t[n],a=(n+1).toString(),i=0;i<r.length;i++){var o=r[i],s=(i+1).toString(),c={day:a,protype:o.projecttype,procode:o.Code&&o.Code.length>0?o.Code:"",proname:o.Name&&o.Name.length>0?o.Name:"",proshortname:o.ShortName&&o.ShortName.length>0?o.ShortName:"",price:o.Price&&o.Price.length>0?o.Price:"0.00",px:s,Remark:o.remark&&o.remark.length>0?o.remark:"",times:o.PlayTime&&o.PlayTime.length>0?o.PlayTime:"",district:o.District&&o.District.length>0?o.District:"",planproid:o.PlanProjectId&&o.PlanProjectId.length>0?o.PlanProjectId:"",plandayid:o.plandayId&&o.plandayId.length>0?o.plandayId:"",latitude:o.Latitude&&o.Latitude.length>0?o.Latitude:"",longitude:o.Longitude&&o.Longitude.length>0?o.Longitude:"",phone:o.Telephone&&o.Telephone.length>0?o.Telephone:"",address:o.Address&&o.Address.length>0?o.Address:"",imgurl:o.GetImage&&o.GetImage&&o.GetImage.MiddleImageFrontUrl?o.GetImage.MiddleImageFrontUrl:""};e.push(c)}return{curTime:this.props.beginDate,planMainID:this.headerInfo.PlanMainID,strJson:e,ApiCode:"EditTour"}}},{key:"doSubmitEditDone",value:function(){var e=this;this.setState({isLoading:!0});var t=this.getEditJsonParmString();A.a.postToPortal(R.q.JOURNEY.TourApi,t,null,!1).then(function(e){return e.json()}).then(function(t){e.setState({isLoading:!1}),t&&t.status&&0===parseInt(t.status,10)?j("\u63d0\u793a","\u4fee\u6539\u884c\u7a0b\u6210\u529f",[{text:"OK",style:"default",onPress:function(){var t=e.props.dispatch;e.props.history.goBack(),t(Object(F.c)(e.code)),t(Object(w.d)(e.code))}}]):j("\u63d0\u793a","\u4fee\u6539\u884c\u7a0b\u5931\u8d25",[{text:"OK",style:"default"}])}).catch(function(t){e.setState({isLoading:!1})})}},{key:"cacheScrollOffset",value:function(){var e=P.a.findDOMNode(this.scrollView).scrollTop;this.props.dispatch(Object(w.e)(this.code,e))}},{key:"restoreScrollViewPosition",value:function(){this.scrollView&&(isNaN(this.props.scrollViewOffset)?this.scrollView.scrollToY(0):this.scrollView.scrollToY(this.props.scrollViewOffset))}}]),t}(y.PureComponent),x=function(e,t){var n=e.journey.editScreen[t.history.location.state.code],r=e.journey.addPointScreen.groupList;return Object.assign({},n,{journeyMaxDayCount:e.system.journeyMaxDayCount,addPointGroupList:r})};M=Object(v.b)(x)(M),t.a=M},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return{type:c.b.JOURNEY.EDIT.GO_BACK,journeyId:e}}function a(e,t){return{type:c.b.JOURNEY.EDIT.DATA_LIST_CHANGE,journeyId:e,dataList:t}}function i(e,t){return{type:c.b.JOURNEY.EDIT.BEGIN_DATE_CHANGE,journeyId:e,beginDate:t}}function o(e){return{type:c.b.JOURNEY.ADDPOINT.DELETE_ADDPOINT_GROUPLIST,journeyId:e}}function s(e,t){return{type:c.b.JOURNEY.EDIT.SET_SCROLL_OFFSET,scrollViewOffset:t,journeyId:e}}t.d=r,t.b=a,t.a=i,t.c=o,t.e=s;var c=n(1)},function(e,t,n){e.exports=n.p+"static/media/route-map@2x.e0fc3a73.png"},function(e,t,n){e.exports=n.p+"static/media/img-item@2x.52c966ff.png"},function(e,t,n){e.exports=n.p+"static/media/menu@2x.31d0fdf3.png"},function(e,t,n){e.exports=n.p+"static/media/sequence@2x.a328c6ca.png"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(28),s=(n.n(o),n(29)),c=n.n(s),l=n(39),u=(n.n(l),n(40)),p=n.n(u),d=n(16),h=(n.n(d),n(17)),E=n.n(h),m=n(11),f=(n.n(m),n(12)),T=n.n(f),I=n(18),g=(n.n(I),n(19)),S=n.n(g),_=n(0),b=n.n(_),O=n(2),L=n(10),y=n(116),C=(n.n(y),n(15)),v=n(1),N=n(276),R=n(302),w=n(688),D=n(41),A=n(8),k=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),P=window.innerWidth,F=P-20,U=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.isEdit=!1,n.isEdit=!(!n.props.history.location.state||!n.props.history.location.state.isEdit)&&n.props.history.location.state.isEdit,n.addNewSiteClicking=n.addNewSiteClicking.bind(n),n.deleteSiteClicking=n.deleteSiteClicking.bind(n),n.onChangeSiteIndexClicking=n.onChangeSiteIndexClicking.bind(n),n.showImageBrowser=n.showImageBrowser.bind(n),n.submitButtonClicking=n.submitButtonClicking.bind(n),n.onLocationSelectClick=n.onLocationSelectClick.bind(n),n}return i(t,e),k(t,[{key:"componentDidMount",value:function(){if(!this.props.footmarkItem){var e=this.initFootmarkItem();this.props.dispatch(Object(N.d)(e,0))}if(this.props.selectPoint&&void 0!==this.props.selectPoint&&this.props.footmarkItem){var t=Object.assign({},this.props.selectPoint),n=Object.assign({},this.props.footmarkItem),r=Object.assign({},n.GetShowList[this.props.siteIndex]);r.Address=t.name,r.Latitude=t.location.lat,r.Longitude=t.location.lng,n.GetShowList[this.props.siteIndex]=r,this.props.dispatch(Object(R.a)()),this.props.dispatch(Object(N.d)(n,this.props.siteIndex))}}},{key:"initFootmarkItem",value:function(){return this.props.footmarkItem?this.props.footmarkItem:this.isEdit&&this.props.history.location.state.footmarkItem?this.props.history.location.state.footmarkItem:{CreateTime:(new Date).formatDate("YYYY-MM-DD HH:mm:ss"),Title:"",GetShowList:[this.initSiteItem()]}}},{key:"initSiteItem",value:function(){return{GetImage:{ImageList:[]},CreateTime:(new Date).formatDate("YYYY-MM-DD HH:mm"),Latitude:this.props.latitude,Longitude:this.props.longitude,Address:this.props.address,Content:""}}},{key:"render",value:function(){var e=this;return b.a.createElement("div",null,b.a.createElement(T.a,{mode:"dark",className:"navBar",icon:b.a.createElement(S.a,{type:"left"}),onLeftClick:function(){return e.goBackClicking()},rightContent:this.renderRightMenu()},this.isEdit?" \u7f16\u8f91\u8db3\u8ff9":"\u53d1\u5e03\u8db3\u8ff9"),b.a.createElement(L.a,{style:{backgroundColor:"#296fb1"}},b.a.createElement("div",{style:{margin:"10px",backgroundColor:"#fff",borderRadius:"3px",height:"calc( 100% - 20px )"}},this.renderTabbarView(),this.renderTabContentView()),this.props.isFetching?b.a.createElement(E.a,{toast:!0,text:"Loading..."}):null,b.a.createElement(D.a,{ref:function(t){e.photoBrowserView=t?t.getWrappedInstance():e.scrollView}})))}},{key:"renderRightMenu",value:function(){return b.a.createElement("div",{onClick:this.submitButtonClicking,style:{backgroundColor:"#00c6ad",fontSize:"14px",borderRadius:"3px",padding:"6px",color:"#fff"}},"\u53d1\u5e03")}},{key:"renderTabbarView",value:function(){var e=this;if(!this.props.tabs||this.props.tabs.length<=0)return null;var t=this.props.tabs.length;return b.a.createElement("div",{ref:function(t){e.topScrollView=t},style:{overflow:"scroll",display:"flex",flexDirection:"row",alignItems:"center",flex:1,backgroundColor:"#e1f0ff",borderRadius:"3px"}},this.props.tabs.map(function(r,a){return b.a.createElement("div",{key:a,onClick:function(){return e.onChangeSiteIndexClicking(a)},style:{minWidth:"100px",backgroundColor:a===e.props.siteIndex?"#fff":"#e1f0ff",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-around",height:"45px",borderRadius:"3px",borderTopRightRadius:"15px"}},b.a.createElement("div",{style:{color:"#3f7ab2",fontSize:"14px",textAlign:"center",flex:2.5,width:"80px"}},r.title),1!==t||0!==a?b.a.createElement("div",{onClick:function(t){t.stopPropagation(),t.nativeEvent.stopImmediatePropagation(),e.deleteSiteClicking(a)},style:{flex:1,height:"45px",marginRight:"5px",display:"flex",alignItems:"center",justifyContent:"center"}},b.a.createElement("img",{style:{width:"17px"},src:n(277),alt:""})):null,a>=e.props.siteIndex-1&&a<e.props.siteIndex+1?null:b.a.createElement("img",{style:{width:"1px",height:"30px"},src:n(699),alt:""}))}),t<5?b.a.createElement("div",{style:{paddingLeft:"10px",paddingRight:"10px",height:"45px",display:"flex",alignItems:"center",justifyContent:"center"},onClick:this.addNewSiteClicking},b.a.createElement("img",{style:{width:"20px"},src:n(700),alt:""})):null)}},{key:"renderTabContentView",value:function(){return!this.props.tabs||this.props.tabs.length<=0?null:b.a.createElement(w.a,{siteIndex:this.props.siteIndex,showImageBrowser:this.showImageBrowser,onLocationSelectClick:this.onLocationSelectClick})}},{key:"goBackClicking",value:function(){var e=this.props.dispatch;this.props.history.goBack(),e(Object(N.b)())}},{key:"onLocationSelectClick",value:function(e){this.props.history.push("/map/chooseAddress/"+e.Address+"/"+e.Latitude+"/"+e.Longitude)}},{key:"addNewSiteClicking",value:function(){var e=this,t=this.props.footmarkItem;t.GetShowList.push(this.initSiteItem());var n=t.GetShowList.length-1;this.props.dispatch(Object(N.a)(t,n)).then(function(){var t=100*e.props.footmarkItem.GetShowList.length;F<t&&(e.topScrollView.scrollLeft=t-F+70)})}},{key:"deleteSiteClicking",value:function(e){var t=this.props.siteIndex,n=t===e?e>0?e-1:e:t>e?t-1:t,r=this.props.footmarkItem;r.GetShowList.splice(e,1),this.props.dispatch(Object(N.d)(r,n))}},{key:"onChangeSiteIndexClicking",value:function(e){e!==this.props.siteIndex&&this.props.dispatch(Object(N.e)(e))}},{key:"showImageBrowser",value:function(e,t){this.photoBrowserView&&this.photoBrowserView.open(e,t)}},{key:"submitButtonClicking",value:function(){var e=this,t=this.isInputValid();return t>=0?void p.a.alert("\u63d0\u793a","\u8bf7\u586b\u5199\u5b8c\u6574"+this.props.tabs[t].title+"!",[{text:"\u786e\u5b9a",style:"default"}]):this.props.footmarkItem.GetShowList.length>0&&(!this.props.footmarkItem.Title||null===this.props.footmarkItem.Title||0===this.props.footmarkItem.Title.length)||this.isEdit&&this.props.footmarkItem.Title.length>0?void p.a.prompt("\u8db3\u8ff9\u6807\u9898","\u8bf7\u8f93\u5165\u60a8\u7684\u8db3\u8ff9\u6807\u9898",[{text:"\u53d6\u6d88"},{text:"\u786e\u5b9a",onPress:function(t){var n=Object.assign({},e.props.footmarkItem);n.Title=t,e.props.dispatch(Object(N.a)(n,e.props.siteIndex)).then(function(){if(!t||t.length<=0)return void c.a.info("\u8db3\u8ff9\u6807\u9898\u4e0d\u80fd\u4e3a\u7a7a!",1);e.submitViewTapped()})}}],"default",this.props.footmarkItem.Title):void this.submitViewTapped()}},{key:"isInputValid",value:function(){for(var e=-1,t=0;t<this.props.footmarkItem.GetShowList.length;t++){var n=this.props.footmarkItem.GetShowList[t];if(!(n.Content&&n.Content.length>0&&n.Address&&n.Address.length>0&&n.CreateTime&&n.CreateTime.length>0&&n.GetImage&&n.GetImage.ImageList&&n.GetImage.ImageList.length>0)){e=t;break}}return e}},{key:"submitViewTapped",value:function(){for(var e=this,t=[],n=[],r=0;r<this.props.footmarkItem.GetShowList.length;r++){var a=this.props.footmarkItem.GetShowList[r],i={Code:a.Code&&a.Code.length>0?a.Code:"",Content:a.Content,Address:a.Address,CreateTime:a.CreateTime,Longitude:a.Longitude,Latitude:a.Latitude,Sort:(r+1).toString()};if(t.push(i),a&&a.GetImage&&a.GetImage.ImageList&&a.GetImage.ImageList.length>0)for(var o=0;o<a.GetImage.ImageList.length;o++){var s=a.GetImage.ImageList[o],l="site_"+(r+1)+"_"+(o+1)+".jpg",u=void 0;s.file?u={isRenameFile:!0,file:s.file.file,fileName:l}:s.SmallImgSrc&&s.SmallImgSrc.length,u&&(u.fieldName=l,n.push(u))}}var p=this.isEdit?this.props.footmarkItem.Code:"",d={jsonParams:{Code:p,Title:this.props.footmarkItem.Title&&null!==this.props.footmarkItem.Title?this.props.footmarkItem.Title:"",UserID:this.props.userId,CreateTime:this.props.footmarkItem.CreateTime,ShowList:t},type:this.isEdit?1:0};this.props.dispatch(Object(N.c)(!0)),A.a.postToPortal(v.q.FOOTMARK.PUBLISH,d,null,!0,n).then(function(e){return e.json()}).then(function(t){e.props.dispatch(Object(N.c)(!1)),"0"===t.status?(c.a.info((e.isEdit?"\u7f16\u8f91":"\u53d1\u5e03")+"\u8db3\u8ff9\u6210\u529f!",1),e.goBackClicking()):c.a.info((e.isEdit?"\u7f16\u8f91":"\u53d1\u5e03")+"\u8db3\u8ff9\u5931\u8d25!",1)}).catch(function(t){e.props.dispatch(Object(N.c)(!1)),c.a.info("\u63a5\u53e3\u5f02\u5e38\uff0c\u8bf7\u91cd\u8bd5",1)})}}]),t}(_.PureComponent),G=function(e,t){var n=e.footmark.createScreen;return Object.assign({},n,{latitude:e.system.latitude,longitude:e.system.longitude,address:e.system.address,userId:C.a.getUserId(e),selectPoint:e.map.chooseAddress.selectPoint})};U=Object(O.b)(G)(U),t.a=U},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(163),s=(n.n(o),n(164)),c=n.n(s),l=n(689),u=(n.n(l),n(693)),p=n.n(u),d=n(71),h=(n.n(d),n(72)),E=n.n(h),m=n(0),f=n.n(m),T=n(2),I=n(9),g=n.n(I),S=n(276),_=n(1),b=n(8),O=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),L=function(e){var t=e.extra,r=e.onClick;e.children;return f.a.createElement("div",{onClick:r,style:{padding:"10px",backgroundColor:"#e1f0ff",borderRadius:"3px",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"}},f.a.createElement("div",{style:{display:"flex"}},f.a.createElement("img",{src:n(697),alt:"",style:{height:"18px",marginRight:"10px"}}),f.a.createElement("div",{style:{color:"#7eaad4",fontSize:"13px"}},t&&t.length>0?t:"\u8bf7\u9009\u62e9\u65f6\u95f4")),f.a.createElement("img",{src:n(55),alt:"",style:{height:"12px"}}))},y=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.copyOfImageList=[],n.isFirst=!0,n.inputOnChange=n.inputOnChange.bind(n),n.showImageBrowser=n.showImageBrowser.bind(n),n.onImageChange=n.onImageChange.bind(n),n.onLocationClicking=n.onLocationClicking.bind(n),n.onTimeClicking=n.onTimeClicking.bind(n),n.removecopyOfImageList=n.removecopyOfImageList.bind(n),n}return i(t,e),O(t,[{key:"render",value:function(){var e=this;return f.a.createElement("div",{className:"createFootmarkView",style:{backgroundColor:"#fff",height:"calc( 100% - 70px )",padding:"10px"},ref:function(t){e.listView=t}},this.renderContentTextView(),this.renderImagePickerView(),this.renderSiteInfoSelectView())}},{key:"renderContentTextView",value:function(){var e=this;return f.a.createElement("div",null,f.a.createElement(E.a,{value:this.props.siteItem.Content&&this.props.siteItem.Content.length>0?this.props.siteItem.Content:"",placeholder:"\u5728\u6b64\u8f93\u5165\u60a8\u60f3\u8bf4\u7684\u8bdd",rows:3,count:300,onChange:function(t){return e.inputOnChange(t)}}),f.a.createElement("img",{src:n(698),alt:"",style:{width:"100%"}}))}},{key:"renderImagePickerView",value:function(){var e=this,t=this.getImageFileList();return f.a.createElement("div",null,f.a.createElement(p.a,{files:t,onChange:function(t,n,r){return e.onImageChange(t,n,r)},onImageClick:function(t,n){return e.showImageBrowser(t,n)},selectable:t.length<4,multiple:!0}),f.a.createElement("div",null,"\u6700\u591a\u53ef\u53d1",4,"\u5f20"))}},{key:"getImageFileList",value:function(){for(var e=[],t=this.props.siteItem.GetImage&&this.props.siteItem.GetImage.ImageList&&this.props.siteItem.GetImage.ImageList.length>0?this.props.siteItem.GetImage.ImageList:[],n=0;n<t.length;n++){var r=t[n];e.push(r.file?r.file:{url:r.SmallImgSrc}),this.isFirst&&this.copyOfImageList.push({PicID:r.PicID})}return this.isFirst=!1,e}},{key:"renderSiteInfoSelectView",value:function(){var e=this,t=this.props.siteItem.CreateTime&&this.props.siteItem.CreateTime.length>0?this.props.siteItem.CreateTime:"";return t=t.length>0&&t.indexOf("-")>=0?t.replace(/-/g,"/"):t,f.a.createElement("div",{style:{marginTop:"20px",marginBottom:"10px"}},f.a.createElement("div",{onClick:this.onLocationClicking,style:{padding:"10px",marginBottom:"10px",backgroundColor:"#e1f0ff",borderRadius:"3px",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"}},f.a.createElement("div",{style:{display:"flex"}},f.a.createElement("img",{src:n(169),alt:"",style:{height:"18px",marginRight:"10px"}}),f.a.createElement("div",{style:{color:"#00c6ad",fontSize:"13px"}},this.props.siteItem.Address&&this.props.siteItem.Address.length>0?this.props.siteItem.Address:"\u8bf7\u9009\u62e9\u5730\u70b9")),f.a.createElement("img",{src:n(55),alt:"",style:{height:"12px"}})),f.a.createElement(c.a,{key:1,value:new Date(t),onChange:function(t){return e.onTimeClicking(t)}},f.a.createElement(L,null)))}},{key:"inputOnChange",value:function(e){var t=Object.assign({},this.props.siteItem);t.Content=e,this.props.dispatch(Object(S.f)(this.props.siteIndex,t))}},{key:"onImageChange",value:function(e,t,n){"remove"===t&&n+1<=this.copyOfImageList.length&&this.copyOfImageList[n].PicID&&this.deleteImageRequest(this.copyOfImageList[n],n);for(var r=Object.assign({},this.props.siteItem),a=[],i=0;i<e.length;i++){var o=e[i];a.push(o.file?{file:o}:{SmallImgSrc:o.url})}r.GetImage.ImageList=a,this.props.dispatch(Object(S.f)(this.props.siteIndex,r))}},{key:"deleteImageRequest",value:function(e,t){var n=this,r={ID:e.PicID};b.a.postToPortal(_.q.FOOTMARK.DeleteImage,r,null,!0).then(function(e){return e.text()}).then(function(e){"true"===e&&n.removecopyOfImageList(t)}).catch(function(e){})}},{key:"removecopyOfImageList",value:function(e){e>-1&&this.copyOfImageList.splice(e,1)}},{key:"showImageBrowser",value:function(e,t){for(var n=[],r=0;r<this.props.siteItem.GetImage.ImageList.length;r++){var a=this.props.siteItem.GetImage.ImageList[r],i=a.file?a.file.url:a.SmallImgSrc.replace("Small","Large");n.push(i)}this.props.showImageBrowser(n,e)}},{key:"onLocationClicking",value:function(){this.props.onLocationSelectClick(this.props.siteItem)}},{key:"onTimeClicking",value:function(e){var t=Object.assign({},this.props.siteItem);t.CreateTime=e.formatDate("YYYY-MM-DD HH:mm"),this.props.dispatch(Object(S.f)(this.props.siteIndex,t))}}]),t}(m.PureComponent);y.propTypes={onLocationSelectClick:g.a.func,showImageBrowser:g.a.func,siteIndex:g.a.number};var C=function(e,t){return{siteItem:e.footmark.createScreen.footmarkItem.GetShowList[t.siteIndex]}};y=Object(T.b)(C,null,null,{withRef:!0})(y),t.a=y},,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/footmark_time@2x.609a9f2f.png"},function(e,t,n){e.exports=n.p+"static/media/footmark_input-box@2x.408d88f9.png"},function(e,t,n){e.exports=n.p+"static/media/footmark_send-dashed@2x.1ea91ac2.png"},function(e,t,n){e.exports=n.p+"static/media/footmark_add@2x.5ec14016.png"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(34),s=(n.n(o),n(35)),c=n.n(s),l=n(11),u=(n.n(l),n(12)),p=n.n(u),d=n(18),h=(n.n(d),n(19)),E=n.n(h),m=n(0),f=n.n(m),T=n(2),I=n(10),g=n(702),S=n(20),_=n(1),b=n(155),O=n(69),L=(n.n(O),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),y=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.tabs=[{title:"\u95e8\u7968",orderType:_.n.TICKET},{title:"\u9152\u5e97",orderType:_.n.HOTEL},{title:"\u7ebf\u8def",orderType:_.n.LINE}],n.onItemClick=n.onItemClick.bind(n),n.goBack=n.goBack.bind(n),n}return i(t,e),L(t,[{key:"render",value:function(){var e=this,t=window.innerHeight-45,n=window.innerHeight-89;return f.a.createElement("div",null,f.a.createElement(p.a,{mode:"dark",className:"navBar",icon:f.a.createElement(E.a,{type:"left"}),onLeftClick:this.goBack},"\u6211\u7684\u8ba2\u5355"),f.a.createElement(I.a,null,f.a.createElement(c.a,{tabs:this.tabs,ref:function(e){return S.a.updateComponentHeight(e,t)},initialPage:this.props.selectedTabIndex,prerenderingSiblingsNumber:0,onChange:function(t,n){e.props.dispatch(Object(b.e)(n))},onTabClick:function(e,t){console.log("onTabClick",t,e)}},this.tabs.map(function(t,r){return f.a.createElement(g.a,{key:r,ref:function(t){t&&(e.tabs[r].listView=t.getWrappedInstance())},onItemClick:e.onItemClick,orderType:t.orderType,height:n})}))))}},{key:"onItemClick",value:function(e){if(e){for(var t=0;t<this.tabs.length;t++){var n=this.tabs[t].listView;n&&n.cacheScrollOffset()}var r=this.tabs[this.props.selectedTabIndex].orderType;r===_.n.SPECIAL?this.props.history.push("/specialShop/order-detail/"+e.OrderNo):this.props.history.push({pathname:"/order/detail",search:"?orderNo="+e.OrderNo+"&orderType="+r,state:{basicInfo:e}})}}},{key:"goBack",value:function(){var e=this.props.dispatch;this.props.history.goBack(),e(Object(b.c)())}}]),t}(m.PureComponent),C=function(e){return{selectedTabIndex:e.order.listScreen.selectedTabIndex}};y=Object(T.b)(C)(y),t.a=y},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(24),s=(n.n(o),n(25)),c=n.n(s),l=n(16),u=(n.n(l),n(17)),p=n.n(u),d=n(26),h=(n.n(d),n(27)),E=n.n(h),m=n(0),f=n.n(m),T=n(2),I=n(9),g=n.n(I),S=n(14),_=n.n(S),b=n(155),O=n(32),L=n(15),y=n(20),C=n(1),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),N=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.renderRow=n.renderRow.bind(n),n.onRefresh=n.onRefresh.bind(n),n.loadNextPage=n.loadNextPage.bind(n),n.renderFooter=n.renderFooter.bind(n);var i=new E.a.DataSource({rowHasChanged:function(e,t){return e!==t},sectionHeaderHasChanged:function(e,t){return e!==t}});return n.state={dataSource:i.cloneWithRows(n.props.dataList?n.props.dataList:[])},n}return i(t,e),v(t,[{key:"componentDidMount",value:function(){this.props.dataList||this.loadData(this.props.inputKeyword),this.listView&&!isNaN(this.props.listViewOffset)&&this.listView.scrollTo(0,this.props.listViewOffset)}},{key:"componentDidUpdate",value:function(e,t,n){this.props.dataList!==e.dataList&&this.setState({dataSource:this.state.dataSource.cloneWithRows(this.props.dataList?this.props.dataList:[])})}},{key:"render",value:function(){var e=this;return f.a.createElement("div",{className:"scenicListBox",style:{height:this.props.height}},this.renderListView(),this.props.isFetching||this.props.dataList&&0!==this.props.dataList.length?null:f.a.createElement(O.a,{style:{height:this.props.height},onClick:function(){return e.onRefresh(e.props.inputKeyword)}}),this.props.isFetching&&0===this.props.pageIndex?f.a.createElement(p.a,{toast:!0,text:"Loading..."}):null)}},{key:"renderListView",value:function(){var e=this;if(this.props.dataList&&this.props.dataList.length>0){var t=function(e,t){return f.a.createElement("div",{key:e+"-"+t,style:{height:1,borderBottom:"0.5px solid #dddddd"}})};return f.a.createElement(E.a,{ref:function(t){e.listView=t,y.a.fixListViewHeightIssue(t,e.props.height)},dataSource:this.state.dataSource,renderRow:this.renderRow,renderSeparator:t,style:{height:this.props.height,overflow:"auto"},pullToRefresh:f.a.createElement(c.a,{refreshing:this.props.isFetching,onRefresh:this.onRefresh}),onEndReached:this.loadNextPage,renderFooter:this.renderFooter,initialListSize:this.props.dataList.length,pageSize:20,scrollRenderAheadDistance:500,scrollEventThrottle:50,onEndReachedThreshold:20})}}},{key:"isEmptyString",value:function(e){return!e||0===e.length}},{key:"onRefresh",value:function(e){var t=this;this.props.dispatch(Object(b.a)(this.props.orderType)).then(function(){t.loadData(e)})}},{key:"loadNextPage",value:function(){this.loadData()}},{key:"renderFooter",value:function(){return this.props.isFetching&&!0===this.props.hasMore?f.a.createElement("div",{className:"loadingMore"},f.a.createElement(p.a,{text:"Loading..."})):null}},{key:"renderRow",value:function(e,t,n){var r=this;if(!e||void 0===e)return null;var a=e.GetImage&&e.GetImage.ImageFrontUrl?e.GetImage.ImageFrontUrl:"";return f.a.createElement("div",{key:n,className:"scenicListItem",onClick:function(){r.props.onItemClick&&r.props.onItemClick(e)}},f.a.createElement("div",{style:{backgroundImage:"url("+a+")"},className:"scenicListItemImg"}),f.a.createElement("div",{className:"scenicListItemTextBox"},f.a.createElement("div",{className:"orderListItemName"},e.OrderName),f.a.createElement("div",{className:"orderListTrafficDayRow"},f.a.createElement("div",{className:"orderListItemOthers"},this.getOrderNumber(e)," | \u5171\u8ba1\uff1a",f.a.createElement("span",{className:"orderListItemPrice"},"\xa5",this.getSumPrice(e))),f.a.createElement("div",{style:{flex:1}}),f.a.createElement("div",{className:"orderListItemOthers"},L.a.getStatusName(this.getOrderStatus(e)))),f.a.createElement("div",{className:"orderListItemDate"},this.getDateLabel(e))))}},{key:"loadData",value:function(e){if(!this.props.isFetching&&!1!==this.props.hasMore){var t=this.props.pageIndex>=0?this.props.pageIndex+1:0;this.props.dispatch(Object(b.b)(this.props.userId,this.props.orderType,t))}}},{key:"cacheScrollOffset",value:function(){if(this.listView){var e=_.a.findDOMNode(this.listView).scrollTop;this.props.dispatch(Object(b.d)(this.props.orderType,e))}}},{key:"getDateLabel",value:function(e){return this.props.orderType===C.n.HOTEL?"\u5165\u4f4f\u65f6\u95f4:"+new Date(e.PlaySDate).formatDate("YYYY-MM-DD"):this.props.orderType===C.n.LINE?"\u53d1\u56e2\u65f6\u95f4"+new Date(e.PlaySDate).formatDate("YYYY-MM-DD"):"\u6e38\u73a9\u65f6\u95f4:"+new Date(e.PlayDate).formatDate("YYYY-MM-DD")}},{key:"getSumPrice",value:function(e){return this.props.orderType===C.n.HOTEL?e.AmountPrice:this.props.orderType===C.n.LINE?e.AmountPrice:e.SumPrice}},{key:"getOrderStatus",value:function(e){return this.props.orderType===C.n.SPECIAL?e.OrderSTATUS:parseInt(e.OrderStatus,10)}},{key:"getOrderNumber",value:function(e){if(this.props.orderType===C.n.HOTEL){return new Date(e.PlayEDate).diffDays(new Date(e.PlaySDate))+"\u5929"+e.OrderNumber+"\u623f"}return this.props.orderType,C.n.TICKET,e.OrderNumber+"\u5f20"}}]),t}(m.PureComponent);N.propTypes={onItemClick:g.a.func};var R=function(e,t){var n=L.a.getUserId(e),r=e.order.listScreen.groups[t.orderType];return Object.assign({selectedTabIndex:e.order.listScreen.selectedTabIndex},r,{userId:n})};N=Object(T.b)(R,null,null,{withRef:!0})(N),t.a=N},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(28),s=(n.n(o),n(29)),c=n.n(s),l=n(39),u=(n.n(l),n(40)),p=n.n(u),d=n(16),h=(n.n(d),n(17)),E=n.n(h),m=n(11),f=(n.n(m),n(12)),T=n.n(f),I=n(18),g=(n.n(I),n(19)),S=n.n(g),_=n(0),b=n.n(_),O=n(2),L=n(10),y=n(1),C=n(36),v=n.n(C),N=n(704),R=n(69),w=(n.n(R),n(15)),D=n(8),A=n(155),k=n(47),P=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),F=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.showProductDetail=n.showProductDetail.bind(n),n.orderDetailOperateTapped=n.orderDetailOperateTapped.bind(n),n.searchParams=v.a.parse(e.location.search),n}return i(t,e),P(t,[{key:"componentDidMount",value:function(){this.props.detailFetched||this.loadOrderDetail()}},{key:"componentWillUnmount",value:function(){this.modalDialog&&(this.modalDialog.close(),this.modalDialog=void 0)}},{key:"render",value:function(){var e=this;return b.a.createElement("div",null,b.a.createElement(T.a,{mode:"dark",className:"navBar",icon:b.a.createElement(S.a,{type:"left"}),onLeftClick:function(){var t=e.searchParams.orderNo,n=e.props.dispatch;e.props.history.goBack(),n(Object(N.e)(t))}},"\u8ba2\u5355\u8be6\u60c5"),b.a.createElement(L.a,{ref:function(t){e.scrollView=t?t.getWrappedInstance():e.scrollView},style:{backgroundColor:"#f3f3f3"}},this.renderOrderDetails(),this.props.isFetching?b.a.createElement(E.a,{toast:!0,text:"Loading..."}):null,this.props.operateList&&this.props.operateList.length>0?b.a.createElement("div",{className:"orderDetailFooterBar"},this.props.operateList.map(function(t,n){return b.a.createElement("div",{key:n,className:"orderDetailFooterItem orderDetailFooterItemButton",onClick:function(){return e.orderDetailOperateTapped(t)}},t.operateTitle)})):null))}},{key:"renderOrderDetails",value:function(){if(!this.props.detailItem)return null;var e=this.props.operateList&&this.props.operateList.length>0?49:0;return b.a.createElement("div",{className:"orderDetailContentView",style:{bottom:e+"px"}},this.renderStatusView(),this.renderProductView(),this.renderOrderBasicInfoView(),this.renderTicketVistorViews())}},{key:"renderOrderBasicInfoView",value:function(){var e=this.props.detailItem;return b.a.createElement("div",{className:"orderDetailBasicInfoRows"},b.a.createElement("div",{className:"orderDetailBasicInfoRow"},b.a.createElement("div",{className:"orderDetailBasicInfoLabel"},"\u8d2d\u4e70\u6570\u91cf"),b.a.createElement("div",{className:"orderDetailBasicInfoValue"},this.getOrderNumber())),b.a.createElement("div",{className:"orderDetailBasicInfoRow"},b.a.createElement("div",{className:"orderDetailBasicInfoLabel"},"\u5355\u4ef7"),b.a.createElement("div",{className:"orderDetailBasicInfoValue"},this.getUnitPrice())),b.a.createElement("div",{className:"orderDetailBasicInfoRow"},b.a.createElement("div",{className:"orderDetailBasicInfoLabel"},this.getOrderPlayDateLabel()),b.a.createElement("div",{className:"orderDetailBasicInfoValue"},this.getOrderPlayDate())),this.renderLineTravelName(),b.a.createElement("div",{className:"orderDetailBasicInfoSplit"}),b.a.createElement("div",{className:"orderDetailBasicInfoRow"},b.a.createElement("div",{className:"orderDetailBasicInfoLabel"},"\u8ba2\u5355\u53f7"),b.a.createElement("div",{className:"orderDetailBasicInfoValue"},e.OrderNo)),b.a.createElement("div",{className:"orderDetailBasicInfoRow"},b.a.createElement("div",{className:"orderDetailBasicInfoLabel"},"\u521b\u5efa\u65f6\u95f4"),b.a.createElement("div",{className:"orderDetailBasicInfoValue"},e.OrderTime)),b.a.createElement("div",{className:"orderDetailBasicInfoSplit"}),b.a.createElement("div",{className:"orderDetailBasicInfoRow"},b.a.createElement("div",{className:"orderDetailBasicInfoLabel"},"\u8d2d\u4e70\u4eba"),b.a.createElement("div",{className:"orderDetailBasicInfoValue"},e.Creator)),b.a.createElement("div",{className:"orderDetailBasicInfoRow"},b.a.createElement("div",{className:"orderDetailBasicInfoLabel"},"\u8054\u7cfb\u7535\u8bdd"),b.a.createElement("div",{className:"orderDetailBasicInfoValue"},e.TelPhone)))}},{key:"renderTicketVistorViews",value:function(){var e=this,t=this.searchParams.orderType,n=this.props.detailItem;if(t!==y.n.TICKET||!n.GetTicketList||0===n.GetTicketList.length)return null;var r=this.props.detailItem.OrderStatus;return b.a.createElement("div",{className:"orderDetailBasicInfoRows"},b.a.createElement("div",{className:"orderDetailStatusFlag"},w.a.getStatusName(r)),b.a.createElement("div",{className:"orderDetailBasicInfoSplit"}),n.GetTicketList.map(function(t,r){return e.renderTicketVisitorView(t,r,r===n.GetTicketList.length-1)}))}},{key:"renderTicketVisitorView",value:function(e,t,n){var r=e.VisitorInfos?e.VisitorInfos.split(","):null;return!r||r.length<2?null:b.a.createElement("div",{className:"orderDetailTicketVisitorRow",key:t},b.a.createElement("div",{className:"orderDetailBasicInfoRow"},b.a.createElement("div",{className:"orderDetailBasicInfoLabel"},"\u6e38\u73a9\u4eba"),b.a.createElement("div",{className:"orderDetailBasicInfoValue"},r[0])),b.a.createElement("div",{className:"orderDetailBasicInfoRow"},b.a.createElement("div",{className:"orderDetailBasicInfoLabel"},"\u8eab\u4efd\u8bc1"),b.a.createElement("div",{className:"orderDetailBasicInfoValue"},r[1])),n?null:b.a.createElement("div",{className:"orderDetailBasicInfoSplit"}))}},{key:"showProductDetail",value:function(){var e=this.searchParams.orderType;e===y.n.HOTEL?this.props.history.push("/hotel/detail/"+this.getShopCode()):e===y.n.TICKET?this.props.history.push("/scenic/detail/"+this.getShopCode()):e===y.n.LINE&&this.props.history.push("/line/detail/"+this.getShopCode())}},{key:"getShopCode",value:function(){var e=this.searchParams.orderType,t=this.props.detailItem;if(e===y.n.HOTEL)return this.props.detailItem.Code;if(e===y.n.TICKET)return this.props.detailItem.ShopCode;if(e===y.n.LINE){return(t.GetLineList?t.GetLineList[0]:null).ProductNo}}},{key:"renderLineTravelName",value:function(){var e=this.searchParams.orderType,t=this.props.detailItem,n=t.GetLineList?t.GetLineList[0]:null;return e===y.n.LINE&&n?b.a.createElement("div",{className:"orderDetailBasicInfoRow"},b.a.createElement("div",{className:"orderDetailBasicInfoLabel"},"\u65c5\u884c\u793e"),b.a.createElement("div",{className:"orderDetailBasicInfoValue"},n.TravelName)):null}},{key:"getOrderPlayDateLabel",value:function(){var e=this.searchParams.orderType;return e===y.n.HOTEL?"\u5165\u4f4f\u65f6\u95f4":e===y.n.TICKET?"\u4f7f\u7528\u65e5\u671f":e===y.n.LINE?"\u7ebf\u8def\u73ed\u671f":""}},{key:"getOrderPlayDate",value:function(){var e=this.searchParams.orderType,t=this.props.detailItem;return e===y.n.HOTEL?new Date(t.PlaySDate).formatDate("YYYY-MM-DD")+" ~ "+new Date(t.PlayEDate).formatDate("YYYY-MM-DD"):e===y.n.TICKET?new Date(t.PlaySDate).formatDate("YYYY-MM-DD"):e===y.n.LINE?new Date(t.PlaySDate).formatDate("YYYY-MM-DD"):""}},{key:"getOrderNumber",value:function(){var e=this.searchParams.orderType,t=this.props.detailItem;if(e===y.n.HOTEL){return t.OrderNumber+"\u95f4"+new Date(t.PlayEDate).diffDays(new Date(t.PlaySDate))+"\u5929"}return e===y.n.TICKET?t.OrderNumber+"\u5f20":e===y.n.LINE?t.OrderNumber:""}},{key:"getUnitPrice",value:function(){var e=this.searchParams.orderType,t=this.props.detailItem,n=t.GetTicketList?t.GetTicketList[0]:null,r=t.GetHotelList?t.GetHotelList[0]:null,a=t.GetLineList?t.GetLineList[0]:null;return e===y.n.HOTEL&&r?"\xa5"+r.SalePrice:e===y.n.TICKET&&n?"\xa5"+n.SalePrice:e===y.n.LINE&&a?"\xa5"+a.SalePrice:""}},{key:"renderProductView",value:function(){var e=this.props.detailItem.GetImage?this.props.detailItem.GetImage.ImageFrontUrl:"";return b.a.createElement("div",{className:"orderDetailProductRow",onClick:this.showProductDetail},b.a.createElement("div",{style:{backgroundImage:"url("+e+")"},className:"orderDetailProductImage"}),b.a.createElement("div",{className:"orderDetailProductText"},b.a.createElement("div",{className:"orderDetailProductTitle"},this.props.detailItem.LineCnName?this.props.detailItem.LineCnName:this.props.detailItem.OrderName),b.a.createElement("div",{className:"orderDetailProductPrice"},"\u8ba2\u5355\u603b\u4ef7\uff1a",b.a.createElement("span",{className:"orderDetailProductPriceLabel"},"\xa5"),b.a.createElement("span",{className:"orderDetailProductPriceValue"},this.props.detailItem.AmountPrice))),b.a.createElement("div",{style:{flex:1}}),b.a.createElement("img",{className:"arrowRight",src:n(55),alt:""}))}},{key:"renderStatusView",value:function(){var e=this.props.detailItem.OrderStatus,t={backgroundColor:e>=4?"#deffeb":"#ffdfdd",color:e>=4?"#43c276":"#ef5848"};return b.a.createElement("div",{className:"orderDetailStatusText",style:t},w.a.getStatusName(e))}},{key:"loadOrderDetail",value:function(){var e=this.searchParams.orderNo,t=this.searchParams.orderType;this.props.dispatch(Object(N.b)(e,t))}},{key:"orderDetailOperateTapped",value:function(e){var t=e.operateType;t===y.j.ORDER_OPERATE_CANCEL?this.orderCancelTapped():t===y.j.ORDER_OPERATE_GOPAY?this.goPayTapped():t===y.j.ORDER_OPERATE_DELETE?this.orderDeleteTapped():t===y.j.ORDER_OPERATE_REFUND?this.orderRefundTapped():t===y.j.ORDER_OPERATE_BUYAGAIN?this.buyAgainTapped():t===y.j.ORDER_OPERATE_REFUNDRESON?this.refundReasonTapped():t===y.j.ORDER_OPERATE_GOCOMMENT?this.goCommentTapped():t===y.j.ORDER_OPERATE_REFUND_REFUSERESON&&this.refundRefuseReasonTapped()}},{key:"orderCancelTapped",value:function(){var e=this;this.modalDialog=p.a.alert("\u53d6\u6d88\u8ba2\u5355","\u786e\u5b9a\u53d6\u6d88\u8ba2\u5355?",[{text:"\u518d\u8003\u8651\u4e0b",onPress:function(){e.modalDialog=void 0}},{text:"\u786e\u5b9a",onPress:function(){e.modalDialog=void 0;var t={ConditionParams:{Params:{OrderNo:e.props.detailItem.OrderNo,UserID:e.props.userId,Message:"\u884c\u7a0b\u53d8\u66f4"}}},n=void 0,r=e.searchParams.orderType;r===y.n.HOTEL?n=y.q.ELEMENTS.Hotel_CancelOrder:r===y.n.TICKET?n=y.q.ELEMENTS.AttractionsCancelOrder:r===y.n.LINE&&(n=y.q.ELEMENTS.CancelLineOrder),D.a.postToPortalWithUrl(D.a.HOST_E_BUSINESS,n,t).then(function(e){return e.json()}).then(function(t){t&&"0"===t.status&&(e.props.dispatch(Object(A.a)(e.searchParams.orderType)),e.loadOrderDetail())})}}])}},{key:"goPayTapped",value:function(){var e=this,t=k.a.getItem(y.r.WX_USER_OPENID);if(!t||0===t.length||"undefined"===typeof WeixinJSBridge)return void c.a.fail("\u8bf7\u5728\u5fae\u4fe1\u5ba2\u6237\u7aef\u6253\u5f00\u94fe\u63a5");var n=this.searchParams.orderNo,r=this.searchParams.orderType;this.props.dispatch(Object(N.a)(n,r,this.props.detailItem.OrderSTATUS)).then(function(){e.props.orderStatusChanged?c.a.fail("\u8ba2\u5355\u72b6\u6001\u5df2\u53d1\u751f\u6539\u53d8"):e.props.dispatch(Object(N.c)(e.props.detailItem.OrderName,e.props.detailItem.OrderNo,e.props.detailItem.AmountPrice,t)).then(function(){e.props.payParams?window.WeixinJSBridge.invoke("getBrandWCPayRequest",e.props.payParams,function(t){"get_brand_wcpay_request:ok"===t.err_msg?(Object(N.d)(e.props.detailItem,r),c.a.success("\u652f\u4ed8\u6210\u529f!"),e.loadOrderDetail()):c.a.fail("\u652f\u4ed8\u5931\u8d25!"),console.log("\u652f\u4ed8\u7ed3\u679c\uff1a"+JSON.stringify(t))}):e.props.payFailure&&p.a.alert("\u652f\u4ed8\u5931\u8d25",e.props.payFailure)})})}},{key:"orderDeleteTapped",value:function(){var e=this;this.modalDialog=p.a.alert("\u5220\u9664\u8ba2\u5355","\u786e\u5b9a\u5220\u9664\u8ba2\u5355?",[{text:"\u518d\u8003\u8651\u4e0b",onPress:function(){e.modalDialog=void 0}},{text:"\u786e\u5b9a",onPress:function(){e.modalDialog=void 0;var t={ConditionParams:{Params:{OrderNo:e.props.detailItem.OrderNo,UserID:e.props.userId,Message:"\u884c\u7a0b\u53d8\u66f4"}}},n=void 0,r=e.searchParams.orderType;r===y.n.HOTEL?n=y.q.ELEMENTS.Hotel_DeleteOrder:r===y.n.TICKET?n=y.q.ELEMENTS.AttractionsDeleteOrder:r===y.n.LINE&&(n=y.q.ELEMENTS.DeleteLineOrder),D.a.postToPortalWithUrl(D.a.HOST_E_BUSINESS,n,t).then(function(e){return e.json()}).then(function(t){if(t&&"0"===t.status){e.props.dispatch(Object(A.a)(e.searchParams.orderType));var n=e.searchParams.orderNo,r=e.props.dispatch;e.props.history.goBack(),r(Object(N.e)(n))}})}}])}},{key:"orderRefundTapped",value:function(){var e=this;this.modalDialog=p.a.prompt("\u7533\u8bf7\u9000\u6b3e","\u8bf7\u8f93\u5165\u60a8\u7684\u7533\u8bf7\u9000\u6b3e\u539f\u56e0",[{text:"\u53d6\u6d88",onPress:function(){e.modalDialog=void 0}},{text:"\u786e\u5b9a",onPress:function(t){if(e.modalDialog=void 0,t.length<=0)return void c.a.info("\u7533\u8bf7\u9000\u6b3e\u539f\u56e0\u4e0d\u80fd\u4e3a\u7a7a!",void 0,void 0,!1);var n=void 0,r=void 0,a=e.searchParams.orderType;a===y.n.HOTEL?(r=y.q.ELEMENTS.Hotel_RefundApply,n={ConditionParams:{Params:{OrderNo:e.props.detailItem.OrderNo,OrderStatus:e.props.detailItem.OrderStatus,Message:t}}}):a===y.n.TICKET?(r=y.q.ELEMENTS.AttractionsRefundApply,n={ConditionParams:{Params:{OrderNo:e.props.detailItem.OrderNo,UserID:e.props.userId,Message:t}}}):a===y.n.LINE&&(r=y.q.ELEMENTS.LineRefundApply,n={ConditionParams:{Params:{OrderNo:e.props.detailItem.OrderNo,OrderStatus:e.props.detailItem.OrderStatus,Message:t}}}),D.a.postToPortalWithUrl(D.a.HOST_E_BUSINESS,r,n).then(function(e){return e.json()}).then(function(t){t&&"0"===t.status?(e.props.dispatch(Object(A.a)(e.searchParams.orderType)),e.loadOrderDetail()):c.a.fail("\u60a8\u5df2\u8fdb\u884c\u8fc7\u6b64\u64cd\u4f5c\uff0c\u4e0d\u80fd\u91cd\u590d\u7533\u8bf7\uff01",void 0,void 0,!1)})}}],"default","\u884c\u7a0b\u53d8\u66f4")}},{key:"buyAgainTapped",value:function(){this.showProductDetail()}},{key:"refundReasonTapped",value:function(){var e=this;this.modalDialog=p.a.alert("\u67e5\u770b\u9000\u6b3e\u7533\u8bf7\u539f\u56e0",this.props.detailItem.RefundAppCause,[{text:"\u786e\u5b9a",onPress:function(){e.modalDialog=void 0}}])}},{key:"refundRefuseReasonTapped",value:function(){var e=this;this.modalDialog=p.a.alert("\u67e5\u770b\u9000\u6b3e\u62d2\u7edd\u539f\u56e0",this.props.detailItem.RefundCause,[{text:"\u786e\u5b9a",onPress:function(){e.modalDialog=void 0}}])}},{key:"goCommentTapped",value:function(){this.props.history.push("/order/comments/"+this.getShopCode()+"/"+this.searchParams.orderNo+"/"+this.searchParams.orderType)}}]),t}(_.PureComponent),U=function(e,t){var n=v.a.parse(t.location.search),r=t.history.location&&t.history.location.state?t.history.location.state.basicInfo:null;r=r?{detailItem:r}:{detailItem:{}};var a=e.order.detailScreen[n.orderNo];return r=Object.assign({},r,a||{}),Object.assign({},r,{detailFetched:a&&a.detailItem,userId:w.a.getUserId(e)})};F=Object(O.b)(U)(F),t.a=F},function(e,t,n){"use strict";function r(e){return{type:L.b.ORDER.DETAIL.GO_BACK,orderNo:e}}function a(e,t){return function(n,r){return n(m(e)),h(e,t).then(function(r){r=r&&r.results&&r.results.length>0?r.results[0]:r;var a=E(r,t);if(r&&a&&void 0!==a){var i=_(r,a,t);n(s(e,i))}n(f(e,r))}).catch(function(t){n(T(e,t))})}}function i(e,t){var n=v.a.getItem(L.r.WX_ACCOUNT),r=v.a.getItem(L.r.WX_USER_OPENID);if(!n||!r)return void console.error("\u5fae\u4fe1\u7528\u6237\u4fe1\u606f\u4e0d\u80fd\u4e3a\u7a7a\uff01");var a=void 0,i=void 0,o={AccountGuid:n,OpenId:r,url:""},s=e.LineCnName?e.LineCnName:e.OrderName;t===L.n.HOTEL?(o.messageType="HotelBookingSuccess",i={first:"\u9152\u5e97\u623f\u8d39\u652f\u4ed8\u6210\u529f",keyword1:e.OrderNo,keyword2:new Date(e.PlaySDate).formatDate("YYYY-MM-DD")+" ~ "+new Date(e.PlayEDate).formatDate("YYYY-MM-DD"),keyword3:s,keyword4:e.OrderNumber,keyword5:"\u65e0",remark:"\u6709\u4efb\u4f55\u7591\u95ee\uff0c\u8bf7\u8054\u7cfb\u5ba2\u670d"}):t===L.n.TICKET?(o.messageType="TicketBookingSuccess",i={first:"\u95e8\u7968\u652f\u4ed8\u6210\u529f",keyword1:e.OrderNo,keyword2:new Date(e.PlaySDate).formatDate("YYYY-MM-DD"),keyword3:s,keyword4:e.OrderNumber,keyword5:"\u65e0",remark:"\u6709\u4efb\u4f55\u7591\u95ee\uff0c\u8bf7\u8054\u7cfb\u5ba2\u670d"}):t===L.n.LINE&&(o.messageType="LineBookingSuccess",i={first:"\u7ebf\u8def\u652f\u4ed8\u6210\u529f",keyword1:e.OrderNo,keyword2:new Date(e.PlaySDate).formatDate("YYYY-MM-DD"),keyword3:s,keyword4:e.OrderNumber,keyword5:"\u65e0",remark:"\u6709\u4efb\u4f55\u7591\u95ee\uff0c\u8bf7\u8054\u7cfb\u5ba2\u670d"}),i&&(o.jsonData=i,a={type:51,action:20,conditionParm:o},y.a.postData(y.a.WECHAT_HANDLER,a).then(function(e){return e.json()}))}function o(e,t,n){return function(r,a){return r(I(e)),h(e,t).then(function(a){a=a&&a.results&&a.results.length>0?a.results[0]:a;var i=!1,o=E(a,t);if(a&&n&&void 0!==n){i=n!==o;var c=_(a,o);r(s(e,c))}r(g(e,a,i))}).catch(function(t){r(S(e,t))})}}function s(e,t){return{type:L.b.ORDER.DETAIL.SET_DETAIL_ORDER_OPERATE_LIST,orderNo:e,operateList:t}}function c(e,t,n,r){return function(a,i){return a(u(t)),l(e,t,n,r).then(function(e){a(p(t,e))}).catch(function(e){a(d(t,e))})}}function l(e,t,n,r){return y.a.postToPayArgsData(e,t,n,r).then(function(e){return e.json()})}function u(e){return{type:L.b.ORDER.DETAIL.GET_PAY_PARAMS_REQUEST,orderNo:e}}function p(e,t){return t&&t.IsSuccess&&t.Result?{type:L.b.ORDER.DETAIL.GET_PAY_PARAMS_SUCCESS,orderNo:e,payParams:t.Result}:{type:L.b.ORDER.DETAIL.GET_PAY_PARAMS_FAILURE,orderNo:e,payFailure:t&&t.Message?t.Message:"\u83b7\u53d6\u652f\u4ed8\u53c2\u6570\u5931\u8d25!"}}function d(e,t){return{type:L.b.ORDER.DETAIL.GET_PAY_PARAMS_FAILURE,orderNo:e,payFailure:"\u83b7\u53d6\u652f\u4ed8\u53c2\u6570\u5931\u8d25!"}}function h(e,t){var n={ConditionParams:{Params:{OrderNo:e}}},r=void 0;return t===L.n.HOTEL?r=L.q.ELEMENTS.Hotel_GetOrderDetail:t===L.n.TICKET?r=L.q.ELEMENTS.AttractionsOrderDetail:t===L.n.LINE&&(r=L.q.ELEMENTS.GetLineOrderDetail),y.a.postToPortalWithUrl(y.a.HOST_E_BUSINESS,r,n).then(function(e){return e.json()})}function E(e,t){return t===L.n.SPECIAL?e.OrderSTATUS:e.OrderStatus}function m(e){return{type:L.b.ORDER.DETAIL.GET_DETAIL_REQUEST,orderNo:e}}function f(e,t){return{type:L.b.ORDER.DETAIL.GET_DETAIL_SUCCESS,orderNo:e,detailItem:t}}function T(e,t){return{type:L.b.ORDER.DETAIL.GET_DETAIL_FAILURE,orderNo:e,message:t}}function I(e){return{type:L.b.ORDER.DETAIL.CHECK_STATUS_REQUEST,orderNo:e}}function g(e,t,n){return{type:L.b.ORDER.DETAIL.CHECK_STATUS_SUCCESS,orderNo:e,detailItem:t,orderStatusChanged:n}}function S(e,t){return{type:L.b.ORDER.DETAIL.CHECK_STATUS_FAILURE,orderNo:e,message:t}}function _(e,t,n){var r=parseInt(t,10),a=e.RefundCause&&void 0!==e.RefundCause,i=e.RefundAppCause&&void 0!==e.RefundAppCause,o=[];return i&&o.push(b(L.j.ORDER_OPERATE_REFUNDRESON)),a&&o.push(b(L.j.ORDER_OPERATE_REFUND_REFUSERESON)),r===L.m.ORDER_STATUS_PAY?(o.push(b(L.j.ORDER_OPERATE_CANCEL)),o.push(b(L.j.ORDER_OPERATE_GOPAY)),o.push(b(L.j.ORDER_OPERATE_DELETE))):r===L.m.ORDER_STATUS_PAID?(O()&&o.push(b(L.j.ORDER_OPERATE_REFUND)),o.push(b(L.j.ORDER_OPERATE_BUYAGAIN))):r===L.m.ORDER_STATUS_CANCEL?o.push(b(L.j.ORDER_OPERATE_DELETE)):r===L.m.ORDER_STATUS_Consumption?(e.IsComment<=0&&o.push(b(L.j.ORDER_OPERATE_GOCOMMENT)),o.push(b(L.j.ORDER_OPERATE_DELETE))):r===L.m.ORDER_STATUS_REFUNDED&&o.push(b(L.j.ORDER_OPERATE_DELETE)),o}function b(e){return{operateType:e,operateTitle:C.a.getOrderOperateTypeName(e)}}function O(e,t,n){if(t===L.m.ORDER_STATUS_PAID&&n===L.n.LINE){var r=new Date(e.PlaySDate),a=new Date;return r.addDays(-3).isAfter(a)}return!0}t.e=r,t.b=a,t.d=i,t.a=o,t.c=c;var L=n(1),y=n(8),C=n(15),v=n(47)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(28),s=(n.n(o),n(29)),c=n.n(s),l=n(16),u=(n.n(l),n(17)),p=n.n(u),d=n(11),h=(n.n(d),n(12)),E=n.n(h),m=n(18),f=(n.n(m),n(19)),T=n.n(f),I=n(0),g=n.n(I),S=n(2),_=n(10),b=n(1),O=n(60),L=n(69),y=(n.n(L),n(15)),C=n(706),v=n(708),N=n(712),R=n(713),w=n(8),D=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),A=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.showVisitor=n.showVisitor.bind(n),n.goOrderBookTapped=n.goOrderBookTapped.bind(n),n}return i(t,e),D(t,[{key:"componentDidMount",value:function(){var e=this;this.props.dispatch(Object(O.c)()).then(function(){if(e.props.price.priceItem)for(var t=e.props.visitor.dataList,n=e.props.visitor.selectDataList,r=0;r<n.length;r++){for(var a=!1,i=0;i<t.length;i++)if(n[r].UserName===t[i].UserName&&n[r].IDCard===t[i].IDCard){a=!0;break}a||""!==n[r].UserName&&""!==n[r].IDCard&&t.push(Object.assign({},n[r]))}else e.loadData()}),this.props.orderType!==b.n.HOTEL||this.props.bookingItem.startDate||(this.props.history.location&&this.props.history.location.state&&this.props.history.location.state.startDate&&this.props.history.location.state.endDate?this.props.dispatch(Object(O.g)(this.props.history.location.state)):this.props.dispatch(Object(O.g)({startDate:(new Date).formatDate("YYYY-MM-DD"),endDate:(new Date).addDays(1).formatDate("YYYY-MM-DD"),hotelName:this.props.history.location.state.hotelName})))}},{key:"render",value:function(){var e=this;return g.a.createElement("div",null,g.a.createElement(E.a,{mode:"dark",className:"navBar",icon:g.a.createElement(T.a,{type:"left"}),onLeftClick:function(){var t=e.props.dispatch;e.props.history.goBack(),t(Object(O.f)())}},this.getBookingTitle()),g.a.createElement(_.a,{ref:function(t){e.scrollView=t?t.getWrappedInstance():e.scrollView},style:{backgroundColor:"#f3f3f3"}},this.renderBasicViews(),this.renderVisitorViews(),this.props.isFetching?g.a.createElement(p.a,{toast:!0,text:"Loading..."}):null,g.a.createElement("div",{className:"orderBookingFooterBar"},g.a.createElement("div",{className:"orderBookingFooterItem orderBookingFooterItemLeft"},g.a.createElement("div",{className:"orderBookingFooterPriceLabel"},"\u8ba2\u5355\u603b\u4ef7\uff1a",g.a.createElement("span",{className:"orderBookingFooterPriceLabel2"},"\xa5")),g.a.createElement("div",{className:"orderBookingFooterPrice"},this.props.bookingItem.totalPrice.toFixed(2))),g.a.createElement("div",{className:"orderBookingFooterItem orderBookingFooterItemRight",onClick:this.goOrderBookTapped},"\u7acb\u5373\u652f\u4ed8"))))}},{key:"loadData",value:function(){var e=this;this.props.dispatch(Object(O.d)(this.props.productCode,this.props.orderType)).then(function(){if(e.props.visitor.dataList||e.props.dispatch(Object(O.e)(e.props.userId)).then(function(){var t=[];e.props.visitor.dataList&&e.props.visitor.dataList.length>0?t[t.length]=Object.assign({},e.props.visitor.dataList[0]):t.push({ID:"",UserName:"",IDCard:""}),e.props.dispatch(Object(O.a)(t))}),e.props.orderType===b.n.HOTEL){var t=new Date(e.props.bookingItem.startDate),n=new Date(e.props.bookingItem.endDate);e.props.dispatch(Object(O.g)({unitPrice:e.basicView.getUnitPrice(t,n),orderDay:(n.getTime()-t.getTime())/864e5}))}e.props.orderType!==b.n.TICKET&&e.props.orderType!==b.n.LINE||e.props.dispatch(Object(O.g)({unitPrice:parseFloat(e.basicView.getDatePrice(e.props.bookingItem.playDate))}))})}},{key:"renderBasicViews",value:function(){var e=this;return this.props.orderType===b.n.HOTEL?g.a.createElement(N.a,{ref:function(t){return e.basicView=t?t.getWrappedInstance():void 0}}):this.props.orderType===b.n.TICKET?g.a.createElement(C.a,{ref:function(t){return e.basicView=t?t.getWrappedInstance():void 0}}):this.props.orderType===b.n.LINE?g.a.createElement(R.a,{ref:function(t){return e.basicView=t?t.getWrappedInstance():void 0}}):void 0}},{key:"renderVisitorViews",value:function(){return g.a.createElement(v.a,{showVisitor:this.showVisitor})}},{key:"showVisitor",value:function(){this.props.history.push("/order/booking/visitor")}},{key:"getBookingTitle",value:function(){return this.props.orderType===b.n.HOTEL?"\u9152\u5e97\u9884\u8ba2":this.props.orderType===b.n.TICKET?"\u95e8\u7968\u9884\u8ba2":this.props.orderType===b.n.LINE?"\u7ebf\u8def\u9884\u8ba2":void 0}},{key:"goOrderBookTapped",value:function(){this.checkFormValid()&&(this.props.orderType===b.n.HOTEL&&this.requestHotelOrderBooking(),this.props.orderType===b.n.TICKET&&this.requestTicketOrderBooking(),this.props.orderType===b.n.LINE&&this.requestLineOrderBooking())}},{key:"checkFormValid",value:function(){for(var e=0;e<this.props.visitor.selectDataList.length;e++){var t=this.props.visitor.selectDataList[e];if(!t.UserName||0===t.UserName.length||!t.IDCard||0===t.IDCard.length)return c.a.fail("\u8bf7\u5b8c\u5584\u6e38\u5ba2\u4fe1\u606f",void 0,void 0,!1),!1}return 11!==this.props.bookingItem.userInfo.PhoneNumber.length?(c.a.fail("\u8bf7\u5b8c\u5584\u624b\u673a\u53f7\u4fe1\u606f",void 0,void 0,!1),!1):this.props.orderType!==b.n.LINE&&this.props.orderType!==b.n.HOTEL||0!==this.props.bookingItem.userInfo.Name||(c.a.fail("\u8bf7\u5b8c\u5584\u59d3\u540d\u4fe1\u606f",void 0,void 0,!1),!1)}},{key:"requestTicketOrderBooking",value:function(){for(var e=this,t="",n="",r=[],a=0;a<this.props.visitor.selectDataList.length;a++){var i=this.props.visitor.selectDataList[a];r.push({IsSave:"1",CustomerName:i.UserName,CustomerIDCard:i.IDCard,CustomerID:i.ID&&void 0!==i.ID&&parseInt(i.ID,10)>0?i.ID:""}),0===a&&(t=i.IDCard,n=i.UserName)}var o=this.props.bookingItem.userInfo.PhoneNumber;this.props.bookingItem.userInfo&&(n=this.props.bookingItem.userInfo.Name);var s={OrderNo:"",OrderName:this.props.price.priceItem.CnName,OrderType:"0",OrderSource:b.l.WeiXin,GroupNo:"",RecommendCode:"",TotalSalePrice:this.props.bookingItem.totalPrice,PayType:b.k.WeiXine,UserID:this.props.userId,IDCard:t,UserPhone:o,Person:n,LeaveMsg:"",Product:[{ProductNo:this.props.productCode,ProductName:this.props.price.priceItem.CnName,TokenID:"",PlayDate:this.props.bookingItem.playDate,SalePrice:this.props.bookingItem.unitPrice,OrderNumber:this.props.bookingItem.orderNumber,Customer:r,Business:[{BusinessCode:this.props.shopCode,BusinessName:this.props.history.location.state.scenicName||"",BusinessType:"7",BusinessRelation:"",LocalTravelAgency:""}]}]},l={ConditionParams:{Params:s}};w.a.postToPortalWithUrl(w.a.HOST_E_BUSINESS,b.q.ELEMENTS.TicketOrder,l).then(function(e){return e.json()}).then(function(t){if("0"===t.status){var n=t.results;e.getOrderDetail(n.OrderNo&&n.OrderNo.length>0?n.OrderNo[0]:"")}else c.a.fail(t.message)}).catch(function(t){console.log("error: "+t),e.setState({isLoading:!1})})}},{key:"requestHotelOrderBooking",value:function(){for(var e=this,t="",n="",r=[],a=0;a<this.props.visitor.selectDataList.length;a++){var i=this.props.visitor.selectDataList[a];r.push({CusName:i.UserName,CusIDCard:i.IDCard,CusID:i.ID&&void 0!==i.ID&&parseInt(i.ID,10)>0?i.ID:""}),0===a&&(t=i.IDCard,n=i.UserName)}for(var o=this.props.bookingItem.userInfo.PhoneNumber,s=[],l=(new Date(this.props.bookingItem.endDate).getTime()-new Date(this.props.bookingItem.startDate).getTime())/864e5,u=0;u<l;u++){var p=new Date(this.props.bookingItem.startDate).addDays(u),d=this.basicView.getDatePrice(p.formatDate("YYYY-MM-DD"));s.push({SalePrice:d,StayDay:p.formatDate("YYYY-MM-DD")})}this.props.bookingItem.userInfo&&(n=this.props.bookingItem.userInfo.Name);var h={OrderName:this.props.price.priceItem.CnName,OrderType:"1",OrderSource:b.l.WeiXin,TotalSalePrice:this.props.bookingItem.totalPrice.toFixed(2),PayType:b.k.WeiXine,UserID:this.props.userId,IDCard:t,UserPhone:o,Person:n,RecommendCode:"",LeaveMsg:"",Hotel:{HotelCode:this.props.shopCode,HotelName:this.props.bookingItem.hotelName,HotelType:"1",Room:{RoomNo:this.props.productCode,RoomName:this.props.price.priceItem.CnName,RoomCount:this.props.bookingItem.orderNumber,PriceDays:s,Roomer:r}}},E={ConditionParams:{Params:h}};w.a.postToPortalWithUrl(w.a.HOST_E_BUSINESS,b.q.ELEMENTS.CreateHotelOrder,E).then(function(e){return e.json()}).then(function(t){if("0"===t.status){var n=t.results;e.getOrderDetail(n.OrderNo&&n.OrderNo.length>0?n.OrderNo[0]:"")}else c.a.fail(t.message)}).catch(function(t){console.log("error: "+t),e.setState({isLoading:!1})})}},{key:"requestLineOrderBooking",value:function(){for(var e=this,t="",n="",r=[],a=0;a<this.props.visitor.selectDataList.length;a++){var i=this.props.visitor.selectDataList[a];r.push({IsSave:"1",CusName:i.UserName,CusIDCard:i.IDCard,CusID:i.ID&&void 0!==i.ID&&parseInt(i.ID,10)>0?i.ID:""}),0===a&&(t=i.IDCard,n=i.UserName)}var o=this.props.bookingItem.userInfo.PhoneNumber;this.props.bookingItem.userInfo&&(n=this.props.bookingItem.userInfo.Name);var s={OrderName:this.props.price.priceItem.CnName,OrderType:"2",OrderSource:b.l.WeiXin,TotalSalePrice:this.props.bookingItem.totalPrice,PayType:b.k.WeiXine,UserID:this.props.userId,IDCard:t,UserPhone:o,Person:n,LeaveMsg:"",Product:[{ProductNo:this.props.productCode,ProductName:this.props.price.priceItem.CnName,PlayDate:this.props.bookingItem.playDate,SalePrice:this.props.bookingItem.unitPrice,OrderNumber:this.props.bookingItem.orderNumber,Customer:r,Business:[{BusinessCode:this.props.shopCode,BusinessName:this.props.history.location.state.lineName||"",BusinessType:"8"}]}]},l={ConditionParams:{Params:s}};w.a.postToPortalWithUrl(w.a.HOST_E_BUSINESS,b.q.ELEMENTS.CreateLineOrder,l).then(function(e){return e.json()}).then(function(t){if("0"===t.status){var n=t.results;e.getOrderDetail(n.OrderNo&&n.OrderNo.length>0?n.OrderNo[0]:"")}else c.a.fail(t.message)}).catch(function(t){console.log("error: "+t),e.setState({isLoading:!1})})}},{key:"getOrderDetail",value:function(e){this.showOrderDetailScreen(e)}},{key:"goToPay",value:function(){}},{key:"showOrderDetailScreen",value:function(e){this.props.history.push({pathname:"/order/detail",search:"?orderNo="+e+"&orderType="+this.props.orderType,state:{basicInfo:void 0}})}}]),t}(I.PureComponent),k=function(e,t){var n=e.order.bookingScreen;return Object.assign({},n,{userInfo:y.a.getUserInfo(e),userId:y.a.getUserId(e),shopCode:t.match.params.shopCode,productCode:t.match.params.productCode,orderType:t.match.params.orderType,isFetching:n.price.isFetching||n.visitor.isFetching})};A=Object(S.b)(k)(A),t.a=A},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(28),s=(n.n(o),n(29)),c=n.n(s),l=n(110),u=(n.n(l),n(111)),p=n.n(u),d=n(0),h=n.n(d),E=n(2),m=n(60),f=(n(21),n(83)),T=n.n(f),I=n(20),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),S=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showDatePicker:!1},n.handlePhoneNumberChange=n.handlePhoneNumberChange.bind(n),n.diffOrderNumber=n.diffOrderNumber.bind(n),n.increaseOrderNumber=n.increaseOrderNumber.bind(n),n.showPlayDateChooser=n.showPlayDateChooser.bind(n),n.onDateChooserCancel=n.onDateChooserCancel.bind(n),n.onDateChooserConfirm=n.onDateChooserConfirm.bind(n),n}return i(t,e),g(t,[{key:"render",value:function(){var e=this;return this.props.price.priceItem?h.a.createElement("div",{className:"inlineCalendar"},this.renderOrderNameView(),this.renderUserInfoView(),this.props.price&&this.props.price.priceItem?h.a.createElement(p.a,{type:"one",title:"\u8bf7\u9009\u62e9\u6e38\u73a9\u65e5\u671f",ref:function(e){return I.a.fixCalendarHeightIssue(e,window.innerHeight-45)},locale:T.a,visible:this.state.showDatePicker,onCancel:this.onDateChooserCancel,onConfirm:this.onDateChooserConfirm,getDateExtra:function(t){if(t.getTime()>=e.minDate.getTime()&&t.getTime()<=e.maxDate.getTime()||t.formatDate("YYYY-MM-DD")===e.minDate.formatDate("YYYY-MM-DD"))return{info:"\xa5"+e.getDatePrice(t.formatDate("YYYY-MM-DD"))}},defaultDate:this.minDate,minDate:this.minDate,maxDate:this.maxDate}):null):null}},{key:"getDatePrice",value:function(e){if(this.props.price.priceItem.NewPriceList&&this.props.price.priceItem.NewPriceList.length>0)for(var t=0;t<this.props.price.priceItem.NewPriceList.length;t++){var n=this.props.price.priceItem.NewPriceList[t];if(n.ToDay===e)return n.NewPrice}return this.props.price.priceItem.DefaultPrice}},{key:"renderOrderNameView",value:function(){return h.a.createElement("div",{className:"orderBookingOrderName"},this.props.price.priceItem.CnName)}},{key:"renderUserInfoView",value:function(){return this.props.bookingItem.userInfo?h.a.createElement("div",{className:"orderBookingNewDiv"},h.a.createElement("div",{className:"orderBookingUserInfoHeader"},h.a.createElement("img",{className:"orderBookingUserInfoHeaderLeftIcon",src:n(707),alt:""}),h.a.createElement("span",{className:"orderBookingUserInfoHeaderText"},"\u9884\u8ba2\u4eba\u4fe1\u606f")),h.a.createElement("div",{className:"orderBookingUserPhoneRow"},h.a.createElement("div",{className:"orderBookingUserPhoneLabel"},"\u624b\u673a\u53f7\uff1a"),h.a.createElement("input",{value:this.props.bookingItem.userInfo.PhoneNumber,className:"orderBookingUserPhoneInput",placeholder:"\u8bf7\u8f93\u5165\u9884\u8ba2\u4eba\u624b\u673a\u53f7",type:"number",onChange:this.handlePhoneNumberChange})),h.a.createElement("div",{className:"orderBookingUserInfoTips"},"*\u4e3a\u786e\u4fdd\u80fd\u6536\u5230\u8ba2\u7968\u77ed\u4fe1\uff0c\u8bf7\u786e\u4fdd\u624b\u673a\u53f7\u771f\u5b9e\u6709\u6548"),this.renderPlayDateViews(),this.renderTicketNumberView()):null}},{key:"onDateChooserCancel",value:function(){this.setState({showDatePicker:!1})}},{key:"onDateChooserConfirm",value:function(e,t){this.setState({showDatePicker:!1}),e&&this.props.dispatch(Object(m.g)({playDate:e.formatDate("YYYY-MM-DD"),unitPrice:parseFloat(this.getDatePrice(e.formatDate("YYYY-MM-DD")))}))}},{key:"renderPlayDateViews",value:function(){var e=this,t=new Date((new Date).formatDate("YYYY-MM-DD")),r=new Date((new Date).addDays(1).formatDate("YYYY-MM-DD")),a=t.formatDate("MM-DD"),i=r.formatDate("MM-DD"),o=t.formatDate("YYYY-MM-DD"),s=r.formatDate("YYYY-MM-DD"),c=this.props.price?this.props.price.priceItem:null,l=!1,u=!1;if(c){var p=new Date(c.UpTime),d=new Date(c.DownTime);t.getTime()>=p.getTime()&&t.getTime()<=d.getTime()?(l=!0,this.minDate=t):this.minDate=p,r.getTime()>=p.getTime()&&r.getTime()<=d.getTime()&&(u=!0),this.maxDate=d}var E=-1;return E=this.props.bookingItem.playDate===o?0:this.props.bookingItem.playDate===s?1:2,h.a.createElement("div",{className:"orderBookingLeftRightRow"},h.a.createElement("div",{className:"orderBookingLeft"},"\u6e38\u73a9\u65f6\u95f4"),h.a.createElement("div",{className:"orderBookingTicketDateRow"},h.a.createElement("div",{className:0===E&&l?"orderBookingTicketDateItem orderBookingTicketDateItemSelected":"orderBookingTicketDateItem",onClick:function(){return e.choosePlayDate(o,l)}},h.a.createElement("div",{className:"orderBookingTicketDateLabel"},"\u4eca\u5929 ",a),l?h.a.createElement("div",{className:"orderBookingMoney"},"\xa5",this.getDatePrice(o)):h.a.createElement("div",{className:"orderBookingBottom"},"\u4e0d\u53ef\u8ba2"),0===E&&l?h.a.createElement("img",{className:"orderBookingItemSelected",src:n(114),alt:""}):null),h.a.createElement("div",{className:1===E&&l?"orderBookingTicketDateItem orderBookingTicketDateItemSelected":"orderBookingTicketDateItem",onClick:function(){return e.choosePlayDate(s,u)}},h.a.createElement("div",{className:"orderBookingTicketDateLabel"},"\u660e\u5929 ",i),u?h.a.createElement("div",{className:"orderBookingMoney"},"\xa5",this.getDatePrice(s)):h.a.createElement("div",{className:"orderBookingBottom"},"\u4e0d\u53ef\u8ba2"),1===E&&l?h.a.createElement("img",{className:"orderBookingItemSelected",src:n(114),alt:""}):null),h.a.createElement("div",{className:2===E?"orderBookingTicketDateItem orderBookingTicketDateItemSelected":"orderBookingTicketDateItem",style:2===E?{}:{flexDirection:"row"},onClick:this.showPlayDateChooser},2===E?h.a.createElement("div",{className:"orderBookingTicketDateItemNormal"},h.a.createElement("div",{className:"orderBookingTicketDateLabel"},this.props.bookingItem.playDate),h.a.createElement("div",{className:"orderBookingMoney"},"\xa5",this.getDatePrice(this.props.bookingItem.playDate))):h.a.createElement("div",{className:"orderBookingTicketDateItemMore"},h.a.createElement("div",{className:"orderBookingTicketDateLabel"},"\u66f4\u591a\u65e5\u671f"),h.a.createElement("img",{src:n(55),alt:""})),2===E?h.a.createElement("img",{className:"orderBookingItemSelected",src:n(114),alt:""}):null)))}},{key:"choosePlayDate",value:function(e,t){t&&e&&this.props.dispatch(Object(m.g)({playDate:e,unitPrice:parseFloat(this.getDatePrice(e))}))}},{key:"renderTicketNumberView",value:function(){return h.a.createElement("div",{className:"orderBookingLeftRightRow"},h.a.createElement("div",{className:"orderBookingLeft"},"\u9884\u8ba2\u7968\u6570"),h.a.createElement("div",{className:"orderBookingNumberRow"},h.a.createElement("div",{className:"orderBookingNumberButton orderBookingNumberButtonLeft",onClick:this.diffOrderNumber},"-"),h.a.createElement("div",{className:"orderBookingNumberText"},this.props.bookingItem.orderNumber),h.a.createElement("div",{className:"orderBookingNumberButton orderBookingNumberButtonRight",onClick:this.increaseOrderNumber},"+")))}},{key:"diffOrderNumber",value:function(){if(!(this.props.bookingItem.orderNumber<=1)){this.props.dispatch(Object(m.g)({orderNumber:this.props.bookingItem.orderNumber-1}));var e=this.props.visitor.selectDataList;e.splice(e.length-1,1),this.props.dispatch(Object(m.a)(e))}}},{key:"increaseOrderNumber",value:function(){if(this.props.bookingItem.orderNumber>=10)return void c.a.show("\u6700\u591a\u9009\u62e910\u4f4d\u6e38\u5ba2");this.props.dispatch(Object(m.g)({orderNumber:this.props.bookingItem.orderNumber+1}));var e=this.props.visitor.selectDataList,t={ID:"",UserName:"",IDCard:""};e.push(t),this.props.dispatch(Object(m.a)(e))}},{key:"handlePhoneNumberChange",value:function(e){var t=Object.assign({},this.props.bookingItem.userInfo);t.PhoneNumber=e.target.value,t.Phone=e.target.value,this.props.dispatch(Object(m.h)(t))}},{key:"showPlayDateChooser",value:function(){this.setState({showDatePicker:!0})}}]),t}(d.PureComponent),_=function(e,t){var n=e.order.bookingScreen;return Object.assign({},n)};S=Object(E.b)(_,null,null,{withRef:!0})(S),t.a=S},function(e,t,n){e.exports=n.p+"static/media/book-information@2x.4a92454b.png"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(28),s=(n.n(o),n(29)),c=n.n(s),l=n(0),u=n.n(l),p=n(2),d=n(9),h=n.n(d),E=(n(21),n(15)),m=n(60),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),T=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),f(t,[{key:"render",value:function(){return u.a.createElement("div",{className:"orderBookingVisitorBox"},this.renderHeader(),this.renderVisitorList())}},{key:"renderHeader",value:function(){var e=this;return u.a.createElement("div",{className:"orderBookingVisitorHeader"},u.a.createElement("div",{className:"orderBookingVisitorHeaderLeft"},u.a.createElement("img",{src:n(709),alt:"",className:"orderBookingUserInfoHeaderLeftIcon"}),u.a.createElement("span",{className:"orderBookingVisitorHeaderText"},"\u6e38\u5ba2\u4fe1\u606f"),this.props.selectDataList&&this.props.selectDataList.length!==this.props.orderNumber?u.a.createElement("span",{className:"orderBookingVisitorHeaderInfo"},"(\u8fd8\u9700\u6dfb\u52a0",this.props.orderNumber-this.props.selectDataList.length,"\u4f4d\u6e38\u73a9\u4eba\u4fe1\u606f)"):null),u.a.createElement("div",{className:"orderBookingVisitorHeaderRight",onClick:function(){return e.props.showVisitor()}},u.a.createElement("span",null,"\u9009\u62e9\u6e38\u5ba2"),u.a.createElement("img",{src:n(710),alt:"",className:"orderBookingVisitorHeaderRightIcon"})))}},{key:"renderVisitorList",value:function(){var e=this;if(this.props.dataList&&this.props.selectDataList){var t=n(711);return u.a.createElement("div",{className:"orderBookingVisitorListBox"},u.a.createElement("div",{className:"orderBookingVisitorList"},this.props.dataList.map(function(t,r){return e.ifVisitorChecked(t)?u.a.createElement("div",{key:r,className:"orderBookingVisitorListItemChecked",onClick:function(){return e.itemSelect(t)}},t.UserName,u.a.createElement("img",{src:n(114),alt:"",className:"orderBookingVisitorListItemCheckIcon"})):u.a.createElement("div",{key:r,className:"orderBookingVisitorListItem",onClick:function(){return e.itemSelect(t)}},t.UserName)})),u.a.createElement("div",{className:"orderBookingVisitorFormList"},this.props.selectDataList.map(function(n,r){return u.a.createElement("div",{key:r,className:"orderBookingVisitorFormListItem"},u.a.createElement("div",{className:"orderBookingVisitorFormListItemContent"},u.a.createElement("div",{className:"orderBookingVisitorFormListItemContentName"},u.a.createElement("div",{className:"orderBookingVisitorFormListItemContentNameTitle"},"\u59d3\u540d"),u.a.createElement("input",{type:"text",placeholder:"\u8bf7\u8f93\u5165\u59d3\u540d",value:n.UserName,className:"orderBookingVisitorFormListItemContentNameInput",onChange:function(t){return e.onChangeName(t,r)},onBlur:function(t){return e.onBlur(r)}})),u.a.createElement("div",{className:"orderBookingVisitorFormListItemContentName"},u.a.createElement("div",{className:"orderBookingVisitorFormListItemContentNameTitle"},"\u8eab\u4efd\u8bc1\u53f7"),u.a.createElement("input",{type:"text",placeholder:"\u8bf7\u8f93\u5165\u8eab\u4efd\u8bc1\u53f7",value:n.IDCard,className:"orderBookingVisitorFormListItemContentNameInput",onChange:function(t){return e.onChangeIdCard(t,r)},onBlur:function(t){return e.onBlur(r)}})),u.a.createElement("div",{className:"orderBookingVisitorFormListItemCornerBg",style:{backgroundImage:"url("+t+")"}},u.a.createElement("div",{className:"orderBookingVisitorFormListItemCornerNum"},r+1))))})))}}},{key:"ifVisitorChecked",value:function(e){for(var t=0;t<this.props.selectDataList.length;t++)if(this.props.selectDataList[t].UserName===e.UserName&&this.props.selectDataList[t].IDCard===e.IDCard)return!0;return!1}},{key:"itemSelect",value:function(e){var t=0;this.props.selectDataList.forEach(function(e){""!==e.UserName&&""!==e.IDCard&&t++});var n=this.props.selectDataList;if(this.ifVisitorChecked(e)){for(var r=0;r<n.length;r++)if(n[r].UserName===e.UserName&&n[r].IDCard===e.IDCard){n.splice(r,1),n[n.length]={ID:"",UserName:"",IDCard:""};break}}else t===this.props.orderNumber?c.a.info("\u60a8\u53ea\u9700\u8981\u9009\u62e9"+this.props.orderNumber+"\u4f4d\u6e38\u73a9\u4eba"):n[t]=Object.assign({},e);this.props.dispatch(Object(m.a)(n))}},{key:"onChangeName",value:function(e,t){var n=this.props.selectDataList;n[t].UserName=e.target.value,this.props.dispatch(Object(m.a)(n))}},{key:"onChangeIdCard",value:function(e,t){var n=this.props.selectDataList;n[t].IDCard=e.target.value,this.props.dispatch(Object(m.a)(n))}},{key:"onBlur",value:function(e){var t=Object.assign({},this.props.selectDataList[e]),n=this.props.dataList,r=this.props.selectDataList;if(""!==t.UserName&&""!==t.IDCard){if(!E.a.ValidateIdcard(t.IDCard))return c.a.info("\u8eab\u4efd\u8bc1\u53f7\u683c\u5f0f\u4e0d\u6b63\u786e!"),t={ID:"",UserName:t.UserName,IDCard:""},r[e]=t,void this.props.dispatch(Object(m.a)(r));if(0===n.length)n.push({ID:"",UserName:t.UserName,IDCard:t.IDCard});else for(var a=0;a<n.length;a++){if(n[a].UserName===t.UserName&&n[a].IDCard===t.IDCard){for(var i=0,o=0;o<r.length;o++)r[o].UserName===t.UserName&&r[o].IDCard===t.IDCard&&i++;i>=2&&(t={ID:"",UserName:"",IDCard:""},c.a.info("\u6e38\u5ba2\u4fe1\u606f\u91cd\u590d"),r[e]=t,this.props.dispatch(Object(m.a)(r)));break}a===n.length-1&&n.push({ID:"",UserName:t.UserName,IDCard:t.IDCard})}this.props.dispatch(Object(m.b)(n))}}}]),t}(l.PureComponent);T.propTypes={showVisitor:h.a.func};var I=function(e,t){return Object.assign({},e.order.bookingScreen.visitor,{orderNumber:e.order.bookingScreen.bookingItem.orderNumber})};T=Object(p.b)(I,null,null,{withRef:!0})(T),t.a=T},function(e,t,n){e.exports=n.p+"static/media/book-tourism@2x.20824839.png"},function(e,t,n){e.exports=n.p+"static/media/arrow_right_green.bf5dcaf3.png"},function(e,t,n){e.exports=n.p+"static/media/corner@2x.3395bea2.png"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(28),s=(n.n(o),n(29)),c=n.n(s),l=n(110),u=(n.n(l),n(111)),p=n.n(u),d=n(0),h=n.n(d),E=n(2),m=n(60),f=(n(21),n(20)),T=n(83),I=n.n(T),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),S=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showDatePicker:!1},n.diffOrderNumber=n.diffOrderNumber.bind(n),n.increaseOrderNumber=n.increaseOrderNumber.bind(n),n.onDateChooserCancel=n.onDateChooserCancel.bind(n),n.onDateChooserConfirm=n.onDateChooserConfirm.bind(n),n.showDateChooser=n.showDateChooser.bind(n),n.handlePhoneNumberChange=n.handlePhoneNumberChange.bind(n),n.handleUserNameChange=n.handleUserNameChange.bind(n),n}return i(t,e),g(t,[{key:"render",value:function(){var e=this,t=this.props.price?this.props.price.priceItem:null;return t&&(this.minDate=new Date(t.UpTime),this.maxDate=new Date(t.DownTime),(new Date).getTime()>=this.minDate.getTime()&&(this.minDate=new Date)),h.a.createElement("div",{className:"inlineCalendar"},this.renderUserInfoViews(),this.renderRoomInfo(),this.renderBookingInfo(),h.a.createElement(p.a,{type:"range",title:"\u8bf7\u9009\u62e9\u5165\u79bb\u65e5\u671f",ref:function(e){return f.a.fixCalendarHeightIssue(e,window.innerHeight-45)},locale:I.a,visible:this.state.showDatePicker,onCancel:this.onDateChooserCancel,onConfirm:this.onDateChooserConfirm,getDateExtra:function(t){return e.minDate&&e.maxDate?t.getTime()>=e.minDate.getTime()&&t.getTime()<=e.maxDate.getTime()||t.formatDate("YYYY-MM-DD")===e.minDate.formatDate("YYYY-MM-DD")?{info:"\xa5"+e.getDatePrice(t.formatDate("YYYY-MM-DD"))}:void 0:null},minDate:this.minDate,maxDate:this.maxDate}))}},{key:"getDatePrice",value:function(e){if(this.props.price.priceItem.NewPriceList&&this.props.price.priceItem.NewPriceList.length>0)for(var t=0;t<this.props.price.priceItem.NewPriceList.length;t++){var n=this.props.price.priceItem.NewPriceList[t];if(n.ToDay===e)return n.NewPrice}return this.props.price.priceItem.DefaultPrice}},{key:"renderBookingInfo",value:function(){return h.a.createElement("div",{className:"orderBookingNewDiv"},h.a.createElement("div",{className:"orderBookingUserInfoHeader"},h.a.createElement("span",{className:"orderBookingUserInfoHeaderText"},"\u9884\u8ba2\u4fe1\u606f")),h.a.createElement("div",{className:"orderBookingLeftRightRow",onClick:this.showDateChooser},h.a.createElement("div",{className:"orderBookingLeft"},"\u5165\u79bb\u65f6\u95f4"),h.a.createElement("div",{className:"orderBookingNumberRow"},this.props.bookingItem.startDate," ~ ",this.props.bookingItem.endDate,h.a.createElement("img",{className:"orderBookingDateIcon",src:n(278),alt:""}))),h.a.createElement("div",{className:"orderBookingLeftRightRow"},h.a.createElement("div",{className:"orderBookingLeft"},"\u6570\u91cf"),h.a.createElement("div",{className:"orderBookingNumberRow"},h.a.createElement("div",{className:"orderBookingNumberButton orderBookingNumberButtonLeft",onClick:this.diffOrderNumber},"-"),h.a.createElement("div",{className:"orderBookingNumberText"},this.props.bookingItem.orderNumber),h.a.createElement("div",{className:"orderBookingNumberButton orderBookingNumberButtonRight",onClick:this.increaseOrderNumber},"+"))))}},{key:"diffOrderNumber",value:function(){if(!(this.props.bookingItem.orderNumber<=1)){this.props.dispatch(Object(m.g)({orderNumber:this.props.bookingItem.orderNumber-1}));var e=this.props.visitor.selectDataList;e.splice(e.length-1,1),this.props.dispatch(Object(m.a)(e))}}},{key:"increaseOrderNumber",value:function(){if(this.props.bookingItem.orderNumber>=10)return void c.a.show("\u6700\u591a\u9009\u62e910\u95f4\u623f");this.props.dispatch(Object(m.g)({orderNumber:this.props.bookingItem.orderNumber+1}));var e=this.props.visitor.selectDataList,t={ID:"",UserName:"",IDCard:""};e.push(t),this.props.dispatch(Object(m.a)(e))}},{key:"renderRoomInfo",value:function(){return this.props.price.priceItem?h.a.createElement("div",{className:"orderBookingNewDiv"},h.a.createElement("div",{className:"orderBookingUserInfoHeader"},h.a.createElement("span",{className:"orderBookingUserInfoHeaderText orderBookingHotelRoomName"},this.props.price.priceItem.CnName)),h.a.createElement("div",{className:"orderBookingLeftRightRow"},h.a.createElement("div",{className:"orderBookingLeft"},"\u5165\u4f4f\u5929\u6570"),h.a.createElement("div",{className:"orderBookingNumberRow"},this.getRoomDaysLabel())),h.a.createElement("div",{className:"orderBookingLeftRightRow"},h.a.createElement("div",{className:"orderBookingLeft"},"\u5355\u4ef7"),h.a.createElement("div",{className:"orderBookingNumberRow orderBookingMoney"},"\xa5",this.props.bookingItem.unitPrice.toFixed(2)))):null}},{key:"getRoomDays",value:function(){if(this.props.bookingItem.startDate&&this.props.bookingItem.endDate)return(new Date(this.props.bookingItem.endDate).getTime()-new Date(this.props.bookingItem.startDate).getTime())/864e5}},{key:"getRoomDaysLabel",value:function(){return this.getRoomDays()+"\u5929"}},{key:"renderUserInfoViews",value:function(){return this.props.bookingItem.userInfo?h.a.createElement("div",{className:"orderBookingNewDiv"},h.a.createElement("div",{className:"orderBookingUserInfoHeader"},h.a.createElement("span",{className:"orderBookingUserInfoHeaderText"},"\u8054\u7cfb\u4eba\u4fe1\u606f")),h.a.createElement("div",{className:"orderBookingUserPhoneRow"},h.a.createElement("div",{className:"orderBookingUserPhoneLabel"},"\u59d3\u540d\uff1a"),h.a.createElement("input",{value:this.props.bookingItem.userInfo.Name,className:"orderBookingUserPhoneInput",placeholder:"\u8bf7\u586b\u5199\u771f\u5b9e\u59d3\u540d",type:"text",onChange:this.handleUserNameChange})),h.a.createElement("div",{className:"orderBookingUserPhoneRow"},h.a.createElement("div",{className:"orderBookingUserPhoneLabel"},"\u7535\u8bdd\uff1a"),h.a.createElement("input",{value:this.props.bookingItem.userInfo.PhoneNumber,className:"orderBookingUserPhoneInput",placeholder:"\u8bf7\u586b\u5199\u8054\u7cfb\u7535\u8bdd",type:"number",onChange:this.handlePhoneNumberChange}))):null}},{key:"onDateChooserCancel",value:function(){this.setState({showDatePicker:!1})}},{key:"onDateChooserConfirm",value:function(e,t){var n=e.formatDate("YYYY-MM-DD"),r=t.formatDate("YYYY-MM-DD");if(n===r)return void c.a.fail("\u5165\u79bb\u65f6\u95f4\u4e0d\u80fd\u76f8\u540c",void 0,void 0,!1);this.setState({showDatePicker:!1}),e&&t&&this.props.dispatch(Object(m.g)({startDate:n,endDate:r,unitPrice:this.getUnitPrice(e,t),orderDay:(t.getTime()-e.getTime())/864e5}))}},{key:"getUnitPrice",value:function(e,t){for(var n=(t.getTime()-e.getTime())/864e5,r=0,a=0;a<n;a++){var i=e.addDays(a);r+=parseFloat(this.getDatePrice(i.formatDate("YYYY-MM-DD")))}return 1*r/n}},{key:"showDateChooser",value:function(){this.setState({showDatePicker:!0})}},{key:"handlePhoneNumberChange",value:function(e){var t=Object.assign({},this.props.bookingItem.userInfo);t.PhoneNumber=e.target.value,t.Phone=e.target.value,this.props.dispatch(Object(m.h)(t))}},{key:"handleUserNameChange",value:function(e){var t=Object.assign({},this.props.bookingItem.userInfo);t.Name=e.target.value,this.props.dispatch(Object(m.h)(t))}}]),t}(d.PureComponent),_=function(e,t){var n=e.order.bookingScreen;return Object.assign({},n)};S=Object(E.b)(_,null,null,{withRef:!0})(S),t.a=S},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(28),s=(n.n(o),n(29)),c=n.n(s),l=n(110),u=(n.n(l),n(111)),p=n.n(u),d=n(0),h=n.n(d),E=n(2),m=n(60),f=(n(21),n(20)),T=n(83),I=n.n(T),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),S=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showDatePicker:!1},n.diffOrderNumber=n.diffOrderNumber.bind(n),n.increaseOrderNumber=n.increaseOrderNumber.bind(n),n.onDateChooserCancel=n.onDateChooserCancel.bind(n),n.onDateChooserConfirm=n.onDateChooserConfirm.bind(n),n.showDateChooser=n.showDateChooser.bind(n),n.handlePhoneNumberChange=n.handlePhoneNumberChange.bind(n),n.handleUserNameChange=n.handleUserNameChange.bind(n),n}return i(t,e),g(t,[{key:"render",value:function(){var e=this,t=this.props.price?this.props.price.priceItem:null;return t&&(this.minDate=new Date(t.UpTime),this.maxDate=new Date(t.DownTime),(new Date).getTime()>=this.minDate.getTime()&&(this.minDate=new Date)),h.a.createElement("div",{className:"inlineCalendar"},this.renderUserInfoViews(),this.renderBookingInfo(),h.a.createElement(p.a,{type:"one",title:"\u8bf7\u9009\u62e9\u53d1\u56e2\u65e5\u671f",ref:function(e){return f.a.fixCalendarHeightIssue(e,window.innerHeight-45)},locale:I.a,visible:this.state.showDatePicker,onCancel:this.onDateChooserCancel,onConfirm:this.onDateChooserConfirm,getDateExtra:function(t){return e.minDate&&e.maxDate?t.getTime()>=e.minDate.getTime()&&t.getTime()<=e.maxDate.getTime()||t.formatDate("YYYY-MM-DD")===e.minDate.formatDate("YYYY-MM-DD")?{info:"\xa5"+e.getDatePrice(t.formatDate("YYYY-MM-DD"))}:void 0:null},minDate:this.minDate,maxDate:this.maxDate}))}},{key:"renderBookingInfo",value:function(){return h.a.createElement("div",{className:"orderBookingNewDiv"},h.a.createElement("div",{className:"orderBookingUserInfoHeader"},h.a.createElement("span",{className:"orderBookingUserInfoHeaderText"},"\u9884\u8ba2\u4fe1\u606f")),h.a.createElement("div",{className:"orderBookingLeftRightRow",onClick:this.showDateChooser},h.a.createElement("div",{className:"orderBookingLeft"},"\u53d1\u56e2\u65f6\u95f4"),h.a.createElement("div",{className:"orderBookingNumberRow"},this.props.bookingItem.playDate,h.a.createElement("img",{className:"orderBookingDateIcon",src:n(278),alt:""}))),h.a.createElement("div",{className:"orderBookingLeftRightRow"},h.a.createElement("div",{className:"orderBookingLeft"},"\u6570\u91cf"),h.a.createElement("div",{className:"orderBookingNumberRow"},h.a.createElement("div",{className:"orderBookingNumberButton orderBookingNumberButtonLeft",onClick:this.diffOrderNumber},"-"),h.a.createElement("div",{className:"orderBookingNumberText"},this.props.bookingItem.orderNumber),h.a.createElement("div",{className:"orderBookingNumberButton orderBookingNumberButtonRight",onClick:this.increaseOrderNumber},"+"))))}},{key:"diffOrderNumber",value:function(){if(!(this.props.bookingItem.orderNumber<=1)){this.props.dispatch(Object(m.g)({orderNumber:this.props.bookingItem.orderNumber-1}));var e=this.props.visitor.selectDataList;e.splice(e.length-1,1),this.props.dispatch(Object(m.a)(e))}}},{key:"increaseOrderNumber",value:function(){if(this.props.bookingItem.orderNumber>=10)return void c.a.show("\u6700\u591a\u9009\u62e910\u5f20");this.props.dispatch(Object(m.g)({orderNumber:this.props.bookingItem.orderNumber+1}));var e=this.props.visitor.selectDataList,t={ID:"",UserName:"",IDCard:""};e.push(t),this.props.dispatch(Object(m.a)(e))}},{key:"renderUserInfoViews",value:function(){return this.props.bookingItem.userInfo?h.a.createElement("div",{className:"orderBookingNewDiv"},h.a.createElement("div",{className:"orderBookingUserInfoHeader"},h.a.createElement("span",{className:"orderBookingUserInfoHeaderText"},"\u8054\u7cfb\u4eba\u4fe1\u606f")),h.a.createElement("div",{className:"orderBookingUserPhoneRow"},h.a.createElement("div",{className:"orderBookingUserPhoneLabel"},"\u59d3\u540d\uff1a"),h.a.createElement("input",{value:this.props.bookingItem.userInfo.Name,className:"orderBookingUserPhoneInput",placeholder:"\u8bf7\u586b\u5199\u771f\u5b9e\u59d3\u540d",type:"text",onChange:this.handleUserNameChange})),h.a.createElement("div",{className:"orderBookingUserPhoneRow"},h.a.createElement("div",{className:"orderBookingUserPhoneLabel"},"\u7535\u8bdd\uff1a"),h.a.createElement("input",{value:this.props.bookingItem.userInfo.PhoneNumber,className:"orderBookingUserPhoneInput",placeholder:"\u8bf7\u586b\u5199\u8054\u7cfb\u7535\u8bdd",type:"number",onChange:this.handlePhoneNumberChange}))):null}},{key:"onDateChooserCancel",value:function(){this.setState({showDatePicker:!1})}},{key:"onDateChooserConfirm",value:function(e,t){this.setState({showDatePicker:!1}),e&&this.props.dispatch(Object(m.g)({playDate:e.formatDate("YYYY-MM-DD"),unitPrice:parseFloat(this.getDatePrice(e.formatDate("YYYY-MM-DD")))}))}},{key:"showDateChooser",value:function(){this.setState({showDatePicker:!0})}},{key:"handlePhoneNumberChange",value:function(e){var t=Object.assign({},this.props.bookingItem.userInfo);t.PhoneNumber=e.target.value,t.Phone=e.target.value,this.props.dispatch(Object(m.h)(t))}},{key:"handleUserNameChange",value:function(e){var t=Object.assign({},this.props.bookingItem.userInfo);t.Name=e.target.value,this.props.dispatch(Object(m.h)(t))}},{key:"getDatePrice",value:function(e){if(this.props.price.priceItem.NewPriceList&&this.props.price.priceItem.NewPriceList.length>0)for(var t=0;t<this.props.price.priceItem.NewPriceList.length;t++){var n=this.props.price.priceItem.NewPriceList[t];if(n.ToDay===e)return n.NewPrice}return this.props.price.priceItem.DefaultPrice}}]),t}(d.PureComponent),_=function(e,t){var n=e.order.bookingScreen;return Object.assign({},n)};S=Object(E.b)(_,null,null,{withRef:!0})(S),t.a=S},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(28),s=(n.n(o),n(29)),c=n.n(s),l=n(11),u=(n.n(l),n(12)),p=n.n(u),d=n(18),h=(n.n(d),n(19)),E=n.n(h),m=n(0),f=n.n(m),T=n(2),I=n(10),g=n(69),S=(n.n(g),n(15)),_=n(8),b=n(1),O=n(60),L=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),L(t,[{key:"render",value:function(){var e=this;return f.a.createElement("div",null,f.a.createElement(p.a,{mode:"dark",className:"navBar",icon:f.a.createElement(E.a,{type:"left"}),onLeftClick:function(){e.confirm()},rightContent:f.a.createElement("div",{style:{display:"flex",alignItems:"center",height:"100%"}},f.a.createElement("div",{style:{color:"white"},onClick:function(){return e.confirm()}},"\u786e\u5b9a"))},"\u9009\u62e9\u6e38\u5ba2"),f.a.createElement(I.a,{ref:function(t){e.scrollView=t?t.getWrappedInstance():e.scrollView},style:{backgroundColor:"#f3f3f3"}},this.renderHeader(),this.renderList()))}},{key:"renderHeader",value:function(){var e=this;return f.a.createElement("div",{className:"bookingVisitorListHeader"},f.a.createElement("div",{className:"bookingVisitorListHeaderTip"},"\u9009\u62e9\u5b8c\u6bd5\uff0c\u8bf7\u70b9\u51fb\u53f3\u4e0a\u89d2\u7684\u786e\u5b9a\u6309\u94ae\u3002"),f.a.createElement("div",{className:"bookingVisitorListHeaderAdd",onClick:function(){return e.showAdd()}},"\u65b0\u589e\u6e38\u5ba2"))}},{key:"renderList",value:function(){var e=this;if(this.props.dataList){var t=n(715),r=n(716);return f.a.createElement("div",{className:"bookingVisitorListContent"},this.props.dataList.map(function(a,i){return""!==a.ID?f.a.createElement("div",{key:i,className:"bookingVisitorListItem",onClick:function(){return e.onCheckChange(a)}},e.ifVisitorChecked(a)?f.a.createElement("img",{src:r,alt:"",className:"bookingVisitorListItemIcon"}):f.a.createElement("img",{src:t,alt:"",className:"bookingVisitorListItemIcon"}),f.a.createElement("div",{className:"bookingVisitorListItemContent"},f.a.createElement("div",{className:"bookingVisitorListItemContentName"},a.UserName),f.a.createElement("div",null,"\u8eab\u4efd\u8bc1\u53f7",f.a.createElement("span",{className:"bookingVisitorListItemContentIdCard"},a.IDCard))),f.a.createElement("img",{src:n(717),alt:"",className:"bookingVisitorListItemIcon",onClick:function(t){return e.deleteVisitor(t,a)}})):null}))}}},{key:"confirm",value:function(){var e=0;if(this.props.selectDataList.forEach(function(t){""!==t.UserName&&e++}),0===e)return void c.a.info("\u8bf7\u9009\u62e9\u6e38\u5ba2!");this.goBack()}},{key:"goBack",value:function(){this.props.history.goBack()}},{key:"showAdd",value:function(){this.props.history.push("/order/booking/visitor/add")}},{key:"ifVisitorChecked",value:function(e){for(var t=0;t<this.props.selectDataList.length;t++)if(this.props.selectDataList[t].UserName===e.UserName&&this.props.selectDataList[t].IDCard===e.IDCard)return!0;return!1}},{key:"onCheckChange",value:function(e){if(this.ifVisitorChecked(e)){for(var t=this.props.selectDataList,n=0;n<t.length;n++)if(e.UserName===t[n].UserName&&e.IDCard===t[n].IDCard){t.splice(n,1),t[t.length]={ID:"",UserName:"",IDCard:""};break}this.props.dispatch(Object(O.a)(t))}else{var r=0;if(this.props.selectDataList.forEach(function(e){""!==e.UserName&&r++}),r===this.props.orderNumber)c.a.info("\u5df2\u9009\u62e9\u5b8c\u6bd5!");else{var a=this.props.selectDataList;a[r]=Object.assign({},e),this.props.dispatch(Object(O.a)(a))}}}},{key:"deleteVisitor",value:function(e,t){var n=this;e.stopPropagation();var r={ConditionParams:{Params:{id:t.ID}}};_.a.postToPortalWithUrl(_.a.HOST_E_BUSINESS,b.q.VISITOR.DeleteVisitors,r).then(function(e){return e.json()}).then(function(e){if(e&&"0"===e.status){for(var r=n.props.selectDataList,a=0;a<r.length;a++)if(t.UserName===r[a].UserName&&t.IDCard===r[a].IDCard){r.splice(a,1),r[r.length]={ID:"",UserName:"",IDCard:""};break}n.props.dispatch(Object(O.e)(n.props.userId)).then(function(){n.props.dispatch(Object(O.a)(r))})}})}}]),t}(m.PureComponent),C=function(e,t){return Object.assign({},e.order.bookingScreen.visitor,{orderNumber:e.order.bookingScreen.bookingItem.orderNumber,userId:S.a.getUserId(e)})};y=Object(T.b)(C)(y),t.a=y},function(e,t,n){e.exports=n.p+"static/media/icon_order_unchecked.48cc2cf3.png"},function(e,t,n){e.exports=n.p+"static/media/icon_order_checked.091529b0.png"},function(e,t,n){e.exports=n.p+"static/media/delete.0a4abca3.png"},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(719),c=(n.n(s),n(721)),l=n.n(c),u=n(11),p=(n.n(u),n(12)),d=n.n(p),h=n(18),E=(n.n(h),n(19)),m=n.n(E),f=n(0),T=n.n(f),I=n(2),g=n(10),S=n(152),_=(n.n(S),n(78)),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),O=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={value:n.props.history.location.state.value},n.submitInfo=n.submitInfo.bind(n),n}return o(t,e),b(t,[{key:"render",value:function(){var e=this;return T.a.createElement("div",null,T.a.createElement(d.a,{mode:"dark",className:"navBar",icon:T.a.createElement(m.a,{type:"left"}),rightContent:this.renderRightMenu(),onLeftClick:function(){return e.props.history.goBack()}},this.props.history.location.state.title),T.a.createElement(g.a,{style:{backgroundColor:"#efeff4",fontWeight:"300"}},T.a.createElement(l.a,{placeholder:"\u8bf7\u8f93\u5165\u60a8\u7684"+this.props.history.location.state.title,clear:!0,defaultValue:this.props.history.location.state.value,onChange:function(t){e.setState({value:t})},onBlur:function(e){console.log("onBlur",e)}},this.props.history.location.state.title)))}},{key:"renderRightMenu",value:function(){return this.state.value&&0!==this.state.value.length?T.a.createElement("div",{className:"updateUserInfoItemButton",onClick:this.submitInfo},"\u786e\u5b9a"):null}},{key:"submitInfo",value:function(){this.props.dispatch(Object(_.j)(r({},this.props.history.location.state.key,this.state.value))),this.props.history.goBack()}}]),t}(f.PureComponent),L=function(e){return Object.assign({},e.me.userInfo.tmpUserInfo)};O=Object(I.b)(L)(O),t.a=O},,,,,,,,,,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(28),s=(n.n(o),n(29)),c=n.n(s),l=n(11),u=(n.n(l),n(12)),p=n.n(u),d=n(18),h=(n.n(d),n(19)),E=n.n(h),m=n(0),f=n.n(m),T=n(2),I=n(10),g=n(69),S=(n.n(g),n(15)),_=(n(21),n(8)),b=n(1),O=n(60),L=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={name:"",idCard:""},n}return i(t,e),L(t,[{key:"render",value:function(){var e=this;return f.a.createElement("div",null,f.a.createElement(p.a,{mode:"dark",className:"navBar",icon:f.a.createElement(E.a,{type:"left"}),onLeftClick:function(){e.goBack()},rightContent:f.a.createElement("div",{style:{display:"flex",alignItems:"center",height:"100%"}},f.a.createElement("div",{style:{color:"white"},onClick:function(){return e.add()}},"\u6dfb\u52a0"))},"\u65b0\u589e\u6e38\u5ba2"),f.a.createElement(I.a,{ref:function(t){e.scrollView=t?t.getWrappedInstance():e.scrollView},style:{backgroundColor:"#f3f3f3"}},this.renderPage()))}},{key:"renderPage",value:function(){var e=this;return f.a.createElement("div",{className:"bookingVisitorAddBox"},f.a.createElement("div",{className:"bookingVisitorAddName"},f.a.createElement("div",{className:"bookingVisitorAddNameTitle"},"\u59d3\u540d"),f.a.createElement("input",{type:"text",placeholder:"\u8bf7\u586b\u5199\u771f\u5b9e\u59d3\u540d",value:this.state.name,className:"bookingVisitorAddNameInput",onChange:function(t){return e.valueChange(t,0)}})),f.a.createElement("div",{className:"bookingVisitorAddName"},f.a.createElement("div",{className:"bookingVisitorAddNameTitle"},"\u8eab\u4efd\u8bc1\u53f7"),f.a.createElement("input",{type:"text",placeholder:"\u8bf7\u586b\u5199\u8eab\u4efd\u8bc1\u53f7",value:this.state.idCard,className:"bookingVisitorAddNameInput",onChange:function(t){return e.valueChange(t,1)}})))}},{key:"add",value:function(){var e=this;if(""===this.state.name)return void c.a.info("\u8bf7\u586b\u5199\u771f\u5b9e\u59d3\u540d",1);if(""===this.state.idCard)return void c.a.info("\u8bf7\u586b\u5199\u8eab\u4efd\u8bc1\u53f7",1);if(!S.a.ValidateIdcard(this.state.idCard))return void c.a.info("\u8eab\u4efd\u8bc1\u53f7\u683c\u5f0f\u4e0d\u6b63\u786e",1);var t={ConditionParams:{Params:{UserID:this.props.userInfo.ID,UserName:this.state.name,IDCard:this.state.idCard}}};_.a.postToPortalWithUrl(_.a.HOST_E_BUSINESS,b.q.VISITOR.AddVisitors,t).then(function(e){return e.json()}).then(function(t){t&&"0"===t.status?(c.a.info("\u6dfb\u52a0\u6210\u529f!",1),e.props.dispatch(Object(O.e)(e.props.userInfo.ID)),e.goBack()):c.a.info(t.message,1)})}},{key:"goBack",value:function(){this.props.history.goBack()}},{key:"valueChange",value:function(e,t){0===t?this.setState({name:e.target.value}):this.setState({idCard:e.target.value})}}]),t}(m.PureComponent),C=function(e,t){return{userInfo:S.a.getUserInfo(e)}};y=Object(T.b)(C)(y),t.a=y},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(16),s=(n.n(o),n(17)),c=n.n(s),l=n(11),u=(n.n(l),n(12)),p=n.n(u),d=n(0),h=n.n(d),E=n(2),m=n(10),f=n(730),T=n(23),I=n(54),g=n(731),S=(n.n(g),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),_=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),S(t,[{key:"componentDidMount",value:function(){this.props.data||this.loadData()}},{key:"render",value:function(){var e=this,t=window.innerHeight,r=n(732);return h.a.createElement("div",{className:"weatherPage"},h.a.createElement(p.a,{mode:"dark",className:"navBar",leftContent:h.a.createElement(T.a,{ref:function(t){e.LeftContentView=t?t.getWrappedInstance():e.scrollView},goBackAction:f.b,history:this.props.history}),onLeftClick:function(){e.LeftContentView.goHome()}},I.a.instance.weatherCityName),h.a.createElement(m.a,{ref:function(t){e.scrollView=t?t.getWrappedInstance():e.scrollView},style:{height:t,backgroundColor:"#efeff4",marginTop:0,backgroundImage:"url("+r+")"}},this.renderPage(),this.props.isFetching?h.a.createElement(c.a,{toast:!0,text:"Loading..."}):null))}},{key:"renderPage",value:function(){var e=this;if(this.props.data)return h.a.createElement("div",{className:"weatherBox"},h.a.createElement("div",{className:"weatherToday"},h.a.createElement("div",{className:"weatherTodayIcon",style:{backgroundImage:"url("+this.getWeatherIcon(this.props.data.weather_data[0].dayPictureUrl)+")"}}),h.a.createElement("div",{className:"weatherTodayTemp"},this.props.data.weather_data[0].temperature)),h.a.createElement("div",{className:"weatherThreeDay"},h.a.createElement("div",{className:"weatherSituation"},"4d",h.a.createElement("span",null,"24h")),h.a.createElement("div",{className:"weatherThreeDayRow"},this.props.data.weather_data.slice(1).map(function(t,n){return h.a.createElement("div",{className:"weatherThreeDayRowItem",key:n},h.a.createElement("div",{className:"weatherThreeDayRowItemDate"},t.date),h.a.createElement("div",{className:"weatherThreeDayRowItemIcon",style:{backgroundImage:"url("+e.getWeatherIcon(t.dayPictureUrl)+")"}}),h.a.createElement("div",{className:"weatherThreeDayRowItemTemp"},t.temperature),h.a.createElement("div",{className:"weatherThreeDayRowItemQuality"},t.wind))}))))}},{key:"loadData",value:function(){this.props.dispatch(Object(f.a)())}},{key:"getWeatherIcon",value:function(e){var t=[{key:"qing",value:n(214)},{key:"yin",value:n(215)},{key:"duoyun",value:n(216)},{key:"wu",value:n(217)},{key:"mai",value:n(218)},{key:"fuchen",value:n(219)},{key:"yangsha",value:n(220)},{key:"shachenbao",value:n(221)},{key:"qiangshachenbao",value:n(222)},{key:"zhenyu",value:n(223)},{key:"leizhenyu",value:n(224)},{key:"leizhenyubanyoubingbao",value:n(225)},{key:"xiaoyu",value:n(226)},{key:"xiaoyuzhuanzhongyu",value:n(100)},{key:"zhongyu",value:n(100)},{key:"zhongyuzhuandayu",value:n(101)},{key:"dayu",value:n(101)},{key:"dayuzhuanbaoyu",value:n(102)},{key:"baoyu",value:n(102)},{key:"baoyuzhuandabaoyu",value:n(103)},{key:"dabaoyu",value:n(103)},{key:"dabaoyuzhuantedabaoyu",value:n(104)},{key:"tedabaoyu",value:n(104)},{key:"dongyu",value:n(227)},{key:"yujiaxue",value:n(228)},{key:"zhenxue",value:n(229)},{key:"xiaoxue",value:n(230)},{key:"xiaoxuezhuanzhongxue",value:n(105)},{key:"zhongxue",value:n(105)},{key:"zhongxuezhuandaxue",value:n(106)},{key:"daxue",value:n(106)},{key:"daxuezhuanbaoxue",value:n(107)},{key:"baoxue",value:n(107)}],r=e;if(r&&null!==r&&""!==r)for(var a=0;a<t.length;a++)if(r.indexOf(t[a].key)>-1){r=t[a].value;break}return r}}]),t}(d.PureComponent),b=function(e){return Object.assign({},e.weather.weatherScreen)};_=Object(E.b)(b)(_),t.a=_},function(e,t,n){"use strict";function r(){return{type:l.b.WEATHER.GO_BACK}}function a(){return function(e,t){return e(o()),i().then(function(t){d.a.setItem("HOME_WEATHER",t),d.a.setItem("HOME_WEATHER_TIME",(new Date).getTime()),t=t.results&&t.results.length>0?t.results[0]:null,e(s(t))}).catch(function(t){e(c(t))})}}function i(){var e=p.a.HOST_WEATHER,t={location:u.a.instance.weatherCityName,output:"json",ak:"wzkXpn7CyH8zOpOfFzUYaXnr96M6pq3e"};return p.a.getDataWithJsonp(e,t)}function o(){return{type:l.b.WEATHER.GET_WEATHER_REQUEST}}function s(e){return{type:l.b.WEATHER.GET_WEATHER_SUCCESS,resp:e}}function c(e){return{type:l.b.WEATHER.GET_WEATHER_FAILURE,message:e}}t.b=r,t.a=a;var l=n(1),u=n(54),p=n(8),d=n(47)},function(e,t){},function(e,t,n){e.exports=n.p+"static/media/weather-bg.c8228fe2.jpg"},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(28),c=(n.n(s),n(29)),l=n.n(c),u=n(16),p=(n.n(u),n(17)),d=n.n(p),h=n(71),E=(n.n(h),n(72)),m=n.n(E),f=n(11),T=(n.n(f),n(12)),I=n.n(T),g=n(18),S=(n.n(g),n(19)),_=n.n(S),b=n(0),O=n.n(b),L=n(2),y=n(1),C=n(10),v=n(69),N=(n.n(v),n(15)),R=n(8),w=n(734),D=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),A=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={grades:[5,5,5,5],comments:"",isFetching:!1},n.submitComments=n.submitComments.bind(n),n}return o(t,e),D(t,[{key:"render",value:function(){var e=this;return O.a.createElement("div",null,O.a.createElement(I.a,{mode:"dark",className:"navBar",icon:O.a.createElement(_.a,{type:"left"}),onLeftClick:function(){e.props.history.goBack()}},"\u8ba2\u5355\u70b9\u8bc4"),O.a.createElement(C.a,{style:{backgroundColor:"#f3f3f3",marginLeft:"8px",marginRight:"8px"}},O.a.createElement("div",{style:{height:"8px"}}),O.a.createElement(m.a,{placeholder:"\u6211\u8981\u70b9\u8bc4...",onChange:function(t){return e.setState({comments:t})},rows:5,count:100}),this.renderStarRows(),O.a.createElement("div",{className:"orderCommentsButton",onClick:this.submitComments},"\u70b9\u8bc4"),this.state.isFetching?O.a.createElement(d.a,{toast:!0,text:"Loading..."}):null))}},{key:"renderStarRows",value:function(){return O.a.createElement("div",{className:"orderCommentsStarRows"},O.a.createElement("div",{className:"orderCommentsStarRow"},this.renderStarView(0),O.a.createElement("div",{className:"orderCommentsStarLRSpace"}),this.renderStarView(1)),O.a.createElement("div",{className:"orderCommentsStarRow"},this.renderStarView(2),O.a.createElement("div",{className:"orderCommentsStarLRSpace"}),this.renderStarView(3)))}},{key:"renderStarView",value:function(e){var t=this,n=["\u4ef7\u683c","\u670d\u52a1","\u8bbe\u65bd","\u73af\u5883"];return this.props.match.params.orderType===y.n.HOTEL?n=["\u536b\u751f","\u8bbe\u65bd","\u73af\u5883","\u670d\u52a1"]:this.props.match.params.orderType===y.n.LINE&&(n=["\u884c\u7a0b","\u4ea4\u901a","\u4f4f\u5bbf","\u5bfc\u6e38"]),O.a.createElement("div",{className:"orderCommentsStarItem"},O.a.createElement("div",{className:"orderCommentsStarLabel"},n[e]),O.a.createElement("div",{className:"orderCommentsStars"},Array(5).fill(0).map(function(n,r){return t.renderStarImage(e,r)})))}},{key:"renderStarImage",value:function(e,t){var a=this;return O.a.createElement("div",{key:t,className:"orderCommentsStarIcon",onClick:function(){var n=[].concat(r(a.state.grades));n[e]=t+1,a.setState({grades:n})}},this.state.grades[e]>=t+1?O.a.createElement("img",{src:n(108),alt:""}):O.a.createElement("img",{src:n(109),alt:""}))}},{key:"submitComments",value:function(){var e=this;if(!this.state.comments||0===this.state.comments.length)return void l.a.info("\u8bf7\u8f93\u5165\u70b9\u8bc4\u5185\u5bb9",void 0,void 0,!1);this.setState({isFetching:!0});var t={UserID:this.props.userId,Code:this.props.match.params.shopCode,Content:this.state.comments,Grade1:this.state.grades[0],Grade2:this.state.grades[1],Grade3:this.state.grades[2],Grade4:this.state.grades[3],OrderNo:this.props.match.params.orderNo};R.a.postToPortal(y.q.ME.AddComment,t,null,!0).then(function(e){return e.json()}).then(function(t){e.setState({isFetching:!1}),"0"===t.status?(e.props.dispatch(Object(w.a)(e.props.match.params.orderNo)),l.a.success("\u70b9\u8bc4\u6210\u529f",void 0,void 0,!1),e.props.history.goBack()):l.a.fail(t.results||t.message||"\u70b9\u8bc4\u5931\u8d25",void 0,void 0,!1)})}}]),t}(b.PureComponent),k=function(e,t){return{userId:N.a.getUserId(e)}};A=Object(L.b)(k)(A),t.a=A},function(e,t,n){"use strict";function r(e){return{type:a.b.COMMENTS.ADD_ORDER_COMMENTS_SUCCESS,orderNo:e}}t.a=r;var a=n(1)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(24),s=(n.n(o),n(25)),c=n.n(s),l=n(16),u=(n.n(l),n(17)),p=n.n(u),d=n(11),h=(n.n(d),n(12)),E=n.n(h),m=n(18),f=(n.n(m),n(19)),T=n.n(f),I=n(26),g=(n.n(I),n(27)),S=n.n(g),_=n(0),b=n.n(_),O=n(2),L=n(10),y=n(20),C=n(32),v=n(736),N=n(737),R=(n.n(N),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),w=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.renderRow=n.renderRow.bind(n),n.onRefresh=n.onRefresh.bind(n),n.loadNextPage=n.loadNextPage.bind(n),n.renderFooter=n.renderFooter.bind(n);var i=new S.a.DataSource({rowHasChanged:function(e,t){return e!==t},sectionHeaderHasChanged:function(e,t){return e!==t}});return n.state={dataSource:i.cloneWithRows(n.props.dataList?n.props.dataList:[])},n}return i(t,e),R(t,[{key:"componentDidMount",value:function(){this.props.dataList&&0!==this.props.dataList.length||this.loadData()}},{key:"componentDidUpdate",value:function(e,t,n){this.props.dataList!==e.dataList&&this.setState({dataSource:this.state.dataSource.cloneWithRows(this.props.dataList?this.props.dataList:[])})}},{key:"render",value:function(){var e=this,t=window.innerHeight-45;return b.a.createElement("div",null,b.a.createElement(E.a,{mode:"dark",className:"navBar",icon:b.a.createElement(T.a,{type:"left"}),onLeftClick:function(){var t=e.props.code,n=e.props.dispatch;e.props.history.goBack(),n(Object(v.c)(t))}},"\u8bc4\u8bba\u5217\u8868"),b.a.createElement(L.a,{style:{backgroundColor:"#efeff4"}},this.renderListView(),this.props.isFetching||this.props.dataList&&0!==this.props.dataList.length?null:b.a.createElement(C.a,{style:{height:t+"px"},onClick:this.onRefresh}),this.props.isFetching&&1===this.props.pageIndex?b.a.createElement(p.a,{toast:!0,text:"Loading..."}):null))}},{key:"renderListView",value:function(){if(!this.props.dataList||0===this.props.dataList.length)return null;var e=window.innerHeight-45;return b.a.createElement(S.a,{ref:function(t){y.a.fixListViewHeightIssue(t,e)},dataSource:this.state.dataSource,renderRow:this.renderRow,style:{height:e+"px",overflow:"auto",backgroundColor:"#efeff4"},pullToRefresh:b.a.createElement(c.a,{refreshing:this.props.isFetching,onRefresh:this.onRefresh}),onEndReached:this.loadNextPage,renderFooter:this.renderFooter,initialListSize:this.props.dataList.length,pageSize:20,scrollRenderAheadDistance:500,scrollEventThrottle:50,onEndReachedThreshold:20})}},{key:"onRefresh",value:function(){var e=this;this.props.dispatch(Object(v.a)(this.props.code)).then(function(){e.loadData()})}},{key:"loadNextPage",value:function(){this.loadData()}},{key:"renderFooter",value:function(){return this.props.isFetching&&!0===this.props.hasMore?b.a.createElement("div",{className:"loadingMore"},b.a.createElement(p.a,{text:"Loading..."})):null}},{key:"renderRow",value:function(e,t,n){return b.a.createElement("div",{key:n,className:"commentsListItem"},b.a.createElement("div",{style:{backgroundColor:"#efeff4",height:"10px"}}),b.a.createElement("div",{className:"commentsListItemTop"},b.a.createElement("div",{className:"commentsListItemIcon",style:e.GetUserAvatar?{backgroundImage:"url("+e.GetUserAvatar+")"}:null}),b.a.createElement("div",{className:"commentsListItemTopRight"},b.a.createElement("div",{className:"commentsListItemTopFirstLine"},b.a.createElement("div",{className:"commentsListItemName"},e.NickName?e.NickName:"\u4f5a\u540d"),b.a.createElement("div",{style:{flex:1}}),b.a.createElement("div",{className:"commentsListItemTime"},e.CoomentDate)),b.a.createElement("div",{className:"commentsListItemTopSecondLine"},"\u8bc4\u5206\xa0:\xa0"))),b.a.createElement("div",{className:"commentsListItemBottom"},e.CommentContent))}},{key:"loadData",value:function(){if(!this.props.isFetching&&!1!==this.props.hasMore){var e=this.props.pageIndex?this.props.pageIndex+1:1;this.props.dispatch(Object(v.b)(this.props.code,e))}}}]),t}(_.PureComponent),D=function(e,t){var n=t.match.params.code;return Object.assign({code:n},e.comments.listScreen.groups[n])};w=Object(O.b)(D)(w),t.a=w},function(e,t,n){"use strict";function r(e,t){return function(n,r){return n(c(e,t)),s(e,t).then(function(r){n(l(e,t,r?r.results:{}))}).catch(function(t){n(u(e,t))})}}function a(e){return{type:p.b.COMMENTS.LIST.GO_BACK,code:e}}function i(e){return function(t,n){return t(o(e)),new Promise(function(e){e()})}}function o(e){return{type:p.b.COMMENTS.LIST.DELETE,code:e}}function s(e,t){var n={Code:e,PageIndex:t,PageSize:p.o};return d.a.postToPortal(p.q.ME.GetCommentList,n,null,!0).then(function(e){return e.json()})}function c(e,t){return{type:p.b.COMMENTS.LIST.GET_LIST_REQUEST,code:e,pageIndex:t}}function l(e,t,n){return{type:p.b.COMMENTS.LIST.GET_LIST_SUCCESS,code:e,pageIndex:t,result:n}}function u(e,t){return{type:p.b.COMMENTS.LIST.GET_LIST_FAILURE,code:e,message:t}}t.b=r,t.c=a,t.a=i;var p=n(1),d=n(8)},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(34),s=(n.n(o),n(35)),c=n.n(s),l=n(11),u=(n.n(l),n(12)),p=n.n(u),d=n(18),h=(n.n(d),n(19)),E=n.n(h),m=n(0),f=n.n(m),T=n(2),I=n(10),g=n(20),S=n(1),_=n(280),b=n(281),O=(n.n(b),n(739)),L=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.tabs=[{title:"\u666f\u533a",entityType:S.e.EntityType_Attraction},{title:"\u9152\u5e97",entityType:S.e.EntityType_Hotel},{title:"\u7ebf\u8def",entityType:S.e.EntityType_Route},{title:"\u9910\u5385",entityType:S.e.EntityType_Restaurant},{title:"\u8d2d\u7269",entityType:S.e.EntityType_Shopping},{title:"\u5a31\u4e50",entityType:S.e.EntityType_Entertainment}],n.onItemClick=n.onItemClick.bind(n),n.goBack=n.goBack.bind(n),n}return i(t,e),L(t,[{key:"render",value:function(){var e=this,t=window.innerHeight-45,n=window.innerHeight-89;return f.a.createElement("div",null,f.a.createElement(p.a,{mode:"dark",className:"navBar",icon:f.a.createElement(E.a,{type:"left"}),onLeftClick:this.goBack},"\u6211\u7684\u6536\u85cf"),f.a.createElement(I.a,null,f.a.createElement(c.a,{tabs:this.tabs,ref:function(e){return g.a.updateComponentHeight(e,t)},initialPage:this.props.selectedTabIndex,prerenderingSiblingsNumber:0,onChange:function(t,n){e.props.dispatch(Object(_.e)(n))},onTabClick:function(e,t){console.log("onTabClick",t,e)}},this.tabs.map(function(t,r){return f.a.createElement(O.a,{key:r,ref:function(t){t&&(e.tabs[r].listView=t.getWrappedInstance())},onItemClick:e.onItemClick,entityType:t.entityType,height:n})}))))}},{key:"onItemClick",value:function(e){if(e){for(var t=0;t<this.tabs.length;t++){var n=this.tabs[t].listView;n&&n.cacheScrollOffset()}var r=this.tabs[this.props.selectedTabIndex].entityType;r===S.e.EntityType_Attraction?this.props.history.push("/scenic/detail/"+e.Code):r===S.e.EntityType_Hotel?this.props.history.push("/hotel/detail/"+e.Code):r===S.e.EntityType_Route?this.props.history.push("/line/detail/"+e.Code):r===S.e.EntityType_Restaurant?this.props.history.push("/restaurant/detail/"+e.Code):r===S.e.EntityType_Shopping?this.props.history.push("/shopping/detail/"+e.Code):r===S.e.EntityType_Entertainment?this.props.history.push("/fun/detail/"+e.Code):r===S.e.EntityType_FarmHouse&&this.props.history.push("/farm-house/detail/"+e.Code)}}},{key:"goBack",value:function(){var e=this.props.dispatch;this.props.history.goBack(),e(Object(_.c)())}}]),t}(m.PureComponent),C=function(e){return{selectedTabIndex:e.me.collect.selectedTabIndex}};y=Object(T.b)(C)(y),t.a=y},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(24),s=(n.n(o),n(25)),c=n.n(s),l=n(16),u=(n.n(l),n(17)),p=n.n(u),d=n(26),h=(n.n(d),n(27)),E=n.n(h),m=n(0),f=n.n(m),T=n(2),I=n(9),g=n.n(I),S=n(14),_=n.n(S),b=n(280),O=n(20),L=n(32),y=n(15),C=n(281),v=(n.n(C),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),N=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.renderRow=n.renderRow.bind(n),n.onRefresh=n.onRefresh.bind(n),n.loadNextPage=n.loadNextPage.bind(n),n.renderFooter=n.renderFooter.bind(n);var i=new E.a.DataSource({rowHasChanged:function(e,t){return e!==t},sectionHeaderHasChanged:function(e,t){return e!==t}});return n.state={dataSource:i.cloneWithRows(n.props.dataList?n.props.dataList:[])},n}return i(t,e),v(t,[{key:"componentDidMount",value:function(){this.props.dataList||this.loadData(this.props.entityType),this.listView&&!isNaN(this.props.listViewOffset)&&this.listView.scrollTo(0,this.props.listViewOffset)}},{key:"componentDidUpdate",value:function(e,t,n){this.props.dataList!==e.dataList&&this.setState({dataSource:this.state.dataSource.cloneWithRows(this.props.dataList?this.props.dataList:[])})}},{key:"render",value:function(){return f.a.createElement("div",{className:"scenicListBox",style:{height:this.props.height}},this.renderListView(),this.props.isFetching||this.props.dataList&&0!==this.props.dataList.length?null:f.a.createElement(L.a,{style:{height:this.props.height},onClick:this.onRefresh}),this.props.isFetching&&1===this.props.pageIndex?f.a.createElement(p.a,{toast:!0,text:"Loading..."}):null)}},{key:"renderListView",value:function(){var e=this;if(this.props.dataList&&this.props.dataList.length>0){var t=function(e,t){return f.a.createElement("div",{key:e+"-"+t,style:{height:1,borderBottom:"0.5px solid #dddddd"}})};return f.a.createElement(E.a,{ref:function(t){e.listView=t,O.a.fixListViewHeightIssue(t,e.props.height)},dataSource:this.state.dataSource,renderRow:this.renderRow,renderSeparator:t,style:{height:this.props.height,overflow:"auto"},pullToRefresh:f.a.createElement(c.a,{refreshing:this.props.isFetching,onRefresh:this.onRefresh}),onEndReached:this.loadNextPage,renderFooter:this.renderFooter,initialListSize:this.props.dataList.length,pageSize:20,scrollRenderAheadDistance:500,scrollEventThrottle:50,onEndReachedThreshold:20})}}},{key:"onRefresh",value:function(){var e=this;this.props.dispatch(Object(b.a)(this.props.entityType)).then(function(){e.loadData()})}},{key:"loadNextPage",value:function(){this.loadData()}},{key:"renderFooter",value:function(){return this.props.isFetching&&!0===this.props.hasMore?f.a.createElement("div",{className:"loadingMore"},f.a.createElement(p.a,{text:"Loading..."})):null}},{key:"renderRow",value:function(e,t,n){var r=this,a=e.GetImage&&e.GetImage.SmallImageFrontUrl?e.GetImage.SmallImageFrontUrl:"";return f.a.createElement("div",{key:n,className:"newsListItem",onClick:function(){r.props.onItemClick&&r.props.onItemClick(e)}},f.a.createElement("div",{style:{backgroundImage:"url("+a+")"},className:"scenicListItemImg"}),f.a.createElement("div",{className:"collectListItemTextBox"},f.a.createElement("div",{className:"scenicListItemName"},e.CnName),f.a.createElement("div",{className:"colllectListItemOthers"},e.Address)))}},{key:"loadData",value:function(){if(!this.props.isFetching&&!1!==this.props.hasMore){var e=this.props.pageIndex?this.props.pageIndex+1:1;this.props.dispatch(Object(b.b)(this.props.userId,this.props.entityType,e))}}},{key:"cacheScrollOffset",value:function(){if(this.listView){var e=_.a.findDOMNode(this.listView).scrollTop;this.props.dispatch(Object(b.d)(this.props.entityType,e))}}}]),t}(m.PureComponent);N.propTypes={onItemClick:g.a.func};var R=function(e,t){var n=y.a.getUserId(e),r=e.me.collect.groups[t.entityType];return Object.assign({},r,{userId:n})};N=Object(T.b)(R,null,null,{withRef:!0})(N),t.a=N},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(34),s=(n.n(o),n(35)),c=n.n(s),l=n(16),u=(n.n(l),n(17)),p=n.n(u),d=n(11),h=(n.n(d),n(12)),E=n.n(h),m=n(0),f=n.n(m),T=n(2),I=n(10),g=n(23),S=n(741),_=n(20),b=n(156),O=n(157),L=(n.n(O),n(15)),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),C=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.listViewList=[],n.onItemClick=n.onItemClick.bind(n),n.goBack=n.goBack.bind(n),n.postForumTapped=n.postForumTapped.bind(n),n}return i(t,e),y(t,[{key:"componentDidMount",value:function(){this.props.groups.dataList||this.loadData()}},{key:"render",value:function(){var e=this;return f.a.createElement("div",{className:this.props.isFromNativeApp?"isFromNativeApp":null},this.props.isFromNativeApp?null:f.a.createElement(E.a,{mode:"dark",className:"navBar",leftContent:f.a.createElement(g.a,{ref:function(t){e.leftContentView=t?t.getWrappedInstance():e.scrollView},goBackAction:b.e,history:this.props.history}),onLeftClick:function(){e.leftContentView.goHome()},rightContent:f.a.createElement("div",{onClick:this.postForumTapped,class:"forumList_rightButton"},f.a.createElement("img",{className:"forumListScreen_rightIcon",src:n(287),alt:""}))},"\u8bba\u575b"),f.a.createElement(I.a,null,this.renderTabsView(),this.props.groups.isFetching?f.a.createElement(p.a,{toast:!0,text:"Loading..."}):null))}},{key:"renderTabsView",value:function(){var e=this;if(!this.props.groups.dataList||0===this.props.groups.dataList.length)return null;var t=window.innerHeight-45,n=window.innerHeight-89,r=this.props.groups.dataList;return r.forEach(function(e,t){return e.title=e.SectionName}),f.a.createElement(c.a,{tabs:r,ref:function(e){return _.a.updateComponentHeight(e,t)},initialPage:this.props.groups.selectedIndex,prerenderingSiblingsNumber:0,onChange:function(t,n){e.props.dispatch(Object(b.d)(n)).then(function(){e.searchDataList(n)})},onTabClick:function(e,t){console.log("onTabClick",t,e)}},r.map(function(t,r){return f.a.createElement(S.a,{key:r,ref:function(t){t&&(e.listViewList[r]=t.getWrappedInstance())},onItemClick:e.onItemClick,sectionID:t.SectionID,height:n})}))}},{key:"searchDataList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;e=void 0===e?this.props.groups.selectedIndex:e;var t=this.listViewList[e];t&&t.searchDataList()}},{key:"onItemClick",value:function(e){if(e){for(var t=0;t<this.listViewList.length;t++){var n=this.listViewList[t];n&&n.cacheScrollOffset()}this.props.history.push("/forum/detail/"+e.ThreadID)}}},{key:"goBack",value:function(){var e=this.props.dispatch;this.props.history.goBack(),e(Object(b.e)())}},{key:"loadData",value:function(){this.props.dispatch(Object(b.b)())}},{key:"postForumTapped",value:function(){if(!this.props.userId)return void this.props.history.push("/me/login");this.props.history.push("/forum/post")}}]),t}(m.Component),v=function(e){return Object.assign({},e.forum.listScreen,{userId:L.a.getUserId(e),isFromNativeApp:e.native.isFromNativeApp})};C=Object(T.b)(v)(C),t.a=C},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(24),s=(n.n(o),n(25)),c=n.n(s),l=n(16),u=(n.n(l),n(17)),p=n.n(u),d=n(26),h=(n.n(d),n(27)),E=n.n(h),m=n(0),f=n.n(m),T=n(2),I=n(9),g=n.n(I),S=n(14),_=n.n(S),b=n(156),O=n(20),L=n(32),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),C=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.renderRow=n.renderRow.bind(n),n.onRefresh=n.onRefresh.bind(n),n.loadNextPage=n.loadNextPage.bind(n),n.renderFooter=n.renderFooter.bind(n);var i=new E.a.DataSource({rowHasChanged:function(e,t){return e!==t},sectionHeaderHasChanged:function(e,t){return e!==t}});return n.state={dataSource:i.cloneWithRows(n.props.dataList?n.props.dataList:[])},n}return i(t,e),y(t,[{key:"componentDidMount",value:function(){this.props.dataList&&0!==this.props.dataList.length||this.loadData(),this.listView&&!isNaN(this.props.listViewOffset)&&this.listView.scrollTo(0,this.props.listViewOffset)}},{key:"componentDidUpdate",value:function(e,t){var n=this;this.props.dataList!==e.dataList&&this.setState({dataSource:this.state.dataSource.cloneWithRows(this.props.dataList?this.props.dataList:[])}),this.props.sectionID!==e.sectionID&&this.props.dispatch(Object(b.a)(this.props.sectionID)).then(function(){n.loadData()})}},{key:"render",value:function(){var e=this;return f.a.createElement("div",{className:"scenicListBox",style:{height:this.props.height}},this.renderListView(),this.props.isFetching||this.props.dataList&&0!==this.props.dataList.length?null:f.a.createElement(L.a,{style:{height:this.props.height},onClick:function(){return e.onRefresh(e.props.inputKeyword)}}),this.props.isFetching&&1===this.props.pageIndex?f.a.createElement(p.a,{toast:!0,text:"Loading..."}):null)}},{key:"renderListView",value:function(){var e=this;if(this.props.dataList&&this.props.dataList.length>0){var t=function(e,t){return f.a.createElement("div",{key:e+"-"+t,style:{height:1,borderBottom:"0.5px solid #dddddd"}})};return f.a.createElement(E.a,{ref:function(t){e.listView=t,O.a.fixListViewHeightIssue(t,e.props.height)},dataSource:this.state.dataSource,renderRow:this.renderRow,renderSeparator:t,style:{height:this.props.height,overflow:"auto"},pullToRefresh:f.a.createElement(c.a,{refreshing:this.props.isFetching,onRefresh:function(){return e.onRefresh()}}),onEndReached:this.loadNextPage,renderFooter:this.renderFooter,initialListSize:this.props.dataList.length,pageSize:20,scrollRenderAheadDistance:500,scrollEventThrottle:50,onEndReachedThreshold:20})}}},{key:"searchDataList",value:function(){this.props.isFetching||this.props.dataList&&this.props.dataList.length>0||this.onRefresh()}},{key:"isEmptyString",value:function(e){return!e||0===e.length}},{key:"onRefresh",value:function(){var e=this;this.props.dispatch(Object(b.a)(this.props.sectionID)).then(function(){e.loadData()})}},{key:"loadNextPage",value:function(){this.loadData()}},{key:"renderFooter",value:function(){return this.props.isFetching&&!0===this.props.hasMore?f.a.createElement("div",{className:"loadingMore"},f.a.createElement(p.a,{text:"Loading..."})):null}},{key:"renderRow",value:function(e,t,r){var a=this;return f.a.createElement("div",{key:r,className:"scenicListItem",onClick:function(){a.props.onItemClick&&a.props.onItemClick(e)}},f.a.createElement("div",{className:"forumListItemTextBox"},f.a.createElement("div",{className:"scenicListItemName"},e.title),f.a.createElement("div",{className:"forumListSecondRow"},f.a.createElement("div",{className:"foodListItemOthers",style:{flex:3}},"\u4f5c\u8005\uff1a",e.UserName),f.a.createElement("div",{className:"forumListBottomItemRight"},f.a.createElement("img",{className:"newsListIcon",src:n(80),alt:""}),f.a.createElement("div",{className:"newsListItemOthers"},e.ClickCount),f.a.createElement("div",{style:{flex:1}}),f.a.createElement("img",{className:"newsListIcon",src:n(148),alt:""}),f.a.createElement("div",{className:"newsListItemOthers"},e.CommentTotal)))))}},{key:"loadData",value:function(){if(!this.props.isFetching&&!1!==this.props.hasMore){var e=this.props.pageIndex?this.props.pageIndex+1:1;this.props.dispatch(Object(b.c)(this.props.sectionID,e))}}},{key:"cacheScrollOffset",value:function(){if(this.listView){var e=_.a.findDOMNode(this.listView).scrollTop;this.props.dispatch(Object(b.f)(this.props.sectionID,e))}}}]),t}(m.Component);C.propTypes={onItemClick:g.a.func};var v=function(e,t){var n=e.forum.listScreen.tabs[t.sectionID];return Object.assign({},n)};C=Object(T.b)(v,null,null,{withRef:!0})(C),t.a=C},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(28),s=(n.n(o),n(29)),c=n.n(s),l=n(39),u=(n.n(l),n(40)),p=n.n(u),d=n(86),h=(n.n(d),n(87)),E=n.n(h),m=n(71),f=(n.n(m),n(72)),T=n.n(f),I=n(16),g=(n.n(I),n(17)),S=n.n(g),_=n(11),b=(n.n(_),n(12)),O=n.n(b),L=n(18),y=(n.n(L),n(19)),C=n.n(y),v=n(0),N=n.n(v),R=n(2),w=n(10),D=n(743),A=n(157),k=(n.n(A),n(15)),P=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),F="\u8bf7\u8f93\u5165\u56de\u590d\u5185\u5bb9",U=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showCommentsInput:!1,placeholder:F,comments:""},n.showCommentsButtonView=n.showCommentsButtonView.bind(n),n.sendComments=n.sendComments.bind(n),n}return i(t,e),P(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){var e=this,t=this.props.contentItem?N.a.createElement("div",{className:"forumDetailRightMenu",onClick:function(){return e.showCommentsButtonView()}},N.a.createElement("img",{src:n(252),alt:""})):null;return N.a.createElement("div",{className:this.props.isFromNativeApp?"isFromNativeApp":null},this.props.isFromNativeApp?null:N.a.createElement(O.a,{mode:"dark",className:"navBar",icon:N.a.createElement(C.a,{type:"left"}),rightContent:t,onLeftClick:function(){var t=e.props.match.params.code,n=e.props.dispatch;e.props.history.goBack(),n(Object(D.c)(t))}},"\u8bba\u575b\u8be6\u60c5"),N.a.createElement(w.a,{ref:function(t){e.scrollView=t?t.getWrappedInstance():e.scrollView}},this.renderHeaderView(),this.renderContentView(),this.renderResponseView(),this.props.isFetching?N.a.createElement(S.a,{toast:!0,text:"Loading..."}):null),N.a.createElement(p.a,{popup:!0,visible:this.state.showCommentsInput,onClose:function(){return e.setState({showCommentsInput:!1})},animationType:"slide-up"},N.a.createElement(T.a,{ref:function(t){return e.commentsInputView=t},autoHeight:!0,placeholder:this.state.placeholder,onChange:function(t){return e.setState({comments:t})},rows:5,count:"500"}),N.a.createElement(E.a,{className:"forumDetailSendButton",type:"primary",onClick:this.sendComments,loading:this.props.isFetching&&this.state.comments,disabled:this.props.isFetching||!this.state.comments},"\u53d1\u9001")))}},{key:"renderHeaderView",value:function(){return this.props.contentItem?N.a.createElement("div",null,N.a.createElement("div",{className:"newsDetailHeaderRow"},N.a.createElement("div",{className:"newsDetailHeaderName"},this.props.contentItem.title),N.a.createElement("div",{className:"newsListSecondRow"},N.a.createElement("div",{className:"forumDetailItemOthers"},"\u4f5c\u8005\uff1a",N.a.createElement("div",{className:"forumDetailUserIcon",style:{backgroundImage:"url("+this.props.contentItem.GetUserAvatar+")"}}),this.props.contentItem.Nickname),N.a.createElement("div",{style:{flex:1}}),N.a.createElement("div",{className:"forumDetailItemOthers"},"\u65f6\u95f4\uff1a",this.props.contentItem.CreateTime))),N.a.createElement("div",{className:"newsDetailSplitLine"})):null}},{key:"renderContentView",value:function(){return this.props.contentItem?N.a.createElement("div",{className:"newsDetailHtml",dangerouslySetInnerHTML:{__html:this.props.contentItem.Content}}):null}},{key:"renderResponseView",value:function(){var e=this;if(!this.props.contentItem)return null;var t=this.props.responseList?this.props.responseList.length:0;return N.a.createElement(N.a.Fragment,null,N.a.createElement("div",{className:"forumDetailCommentsViewHeader"},N.a.createElement("div",{className:"forumDetailCommentsViewHeaderText"},"\u8bc4\u8bba(",t,")"),N.a.createElement("div",{style:{flex:1}}),N.a.createElement("div",{className:"forumDetailCommentsViewHeaderButton",onClick:function(){return e.showCommentsButtonView()}},"\u6211\u8981\u8bc4\u8bba")),t<=0?null:this.props.responseList.map(function(t,n){return e.renderResponseItemView(t,n)}))}},{key:"renderResponseItemView",value:function(e,t){var r=this;return N.a.createElement("div",{key:e.ResponseID,className:"forumDetailResponseBox"},N.a.createElement("div",{className:"footmarkCommentsViewCommentsItemIcon",style:{backgroundImage:"url("+e.GetUserAvatar+")"}}),N.a.createElement("div",{className:"footmarkCommentsViewCommentsItemRight"},N.a.createElement("div",{className:"footmarkCommentsViewCommentsItemHeaderText"},N.a.createElement("div",{className:"footmarkCommentsViewCommentsItemNameRow"},N.a.createElement("div",{className:"footmarkCommentsViewCommentsItemName"},e.Nickname),N.a.createElement("div",{style:{flex:1}}),N.a.createElement("div",{className:"footmarkCommentsViewCommentsItemNameRowCommentsButton",onClick:function(){r.showCommentsButtonView("\u56de\u590d@"+e.Nickname,e)}},N.a.createElement("img",{src:n(168),alt:""}))),N.a.createElement("div",{className:"footmarkItemHeaderDate"},e.CreateTime)),N.a.createElement("div",{className:"footmarkCommentsViewCommentsItemText"},e.RNickname&&e.RNickname.length>0?this.renderReplyHeader(e):null,N.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.Content}})),N.a.createElement("div",{className:"footmarkCommentsViewCommentsItemRightSplit"})))}},{key:"renderReplyHeader",value:function(e){return N.a.createElement("div",null,"\u56de\u590d ",N.a.createElement("span",{className:"forumDetailCommentsNotification"},"@",e.RNickname),"\xa0\xa0\uff1a")}},{key:"loadData",value:function(){this.props.dispatch(Object(D.a)(this.props.match.params.code))}},{key:"toLoginPage",value:function(){this.props.history.push("/me/login")}},{key:"showCommentsButtonView",value:function(e,t){var n=this;this.props.userId||this.toLoginPage(),this.selectedItem=t,e=e||F,this.setState({showCommentsInput:!0,placeholder:e},function(){n.commentsInputView&&n.commentsInputView.focus()})}},{key:"sendComments",value:function(){var e=this;if(!this.state.comments)return c.a.fail(F),void this.commentsInputView.focus();var t={tid:this.props.contentItem.ThreadID,uid:this.props.userId,content:this.state.comments,pid:this.selectedItem?this.selectedItem.ResponseID:""};this.props.dispatch(Object(D.b)(this.props.match.params.code,t)).then(function(){e.props.successMessage&&c.a.success(e.props.successMessage,void 0,void 0,!1),e.setState({showCommentsInput:!1,comments:""}),e.selectedItem=void 0,e.loadData()})}}]),t}(v.Component),G=function(e,t){var n=e.forum.detailScreen[t.match.params.code];return Object.assign({},n,{userId:k.a.getUserId(e),isFromNativeApp:e.native.isFromNativeApp})};U=Object(R.b)(G)(U),t.a=U},function(e,t,n){"use strict";function r(e){return{type:E.b.FORUM.DETAIL.GO_BACK,code:e}}function a(e){return function(t,n){var r=n();return t(p(e)),u(e,r).then(function(n){var r=n.results&&n.results.length>0?n.results[0]:{};t(d(e,r))}).catch(function(n){t(h(e,n))})}}function i(e,t){return function(n,r){return n(s(e)),o(e,t).then(function(t){var r=t.results&&t.results.length>0?t.results[0]:{};n(c(e,r))}).catch(function(t){n(l(e,t))})}}function o(e,t){return m.a.postToPortal(E.q.FORUM.ForumThreadResponseInsert,t,void 0,!0).then(function(e){return e.json()})}function s(e){return{type:E.b.FORUM.DETAIL.SEND_COMMENTS_REQUEST,code:e}}function c(e,t){return{type:E.b.FORUM.DETAIL.SEND_COMMENTS_SUCCESS,code:e}}function l(e,t){return{type:E.b.FORUM.DETAIL.SEND_COMMENTS_FAILURE,code:e,message:t}}function u(e,t){var n=f.a.getUserId(t);n=n||"";var r={id:e,PageIndex:1,PageSize:E.a,isMgr:0,type:0,uid:n};return m.a.getFromPortal(E.q.FORUM.ForumThreadDetail,r).then(function(e){return e.json()})}function p(e){return{type:E.b.FORUM.DETAIL.GET_DETAIL_REQUEST,code:e}}function d(e,t){return{type:E.b.FORUM.DETAIL.GET_DETAIL_SUCCESS,code:e,contentItem:t.Thread&&t.Thread.length>0?t.Thread[0]:void 0,responseList:t.Response}}function h(e,t){return{type:E.b.FORUM.DETAIL.GET_DETAIL_FAILURE,code:e,message:t}}t.c=r,t.a=a,t.b=i;var E=n(1),m=n(8),f=n(15)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(11),s=(n.n(o),n(12)),c=n.n(s),l=n(18),u=(n.n(l),n(19)),p=n.n(u),d=n(0),h=n.n(d),E=n(2),m=n(10),f=n(282),T=n(84),I=n(115),g=(n.n(I),n(15)),S=n(36),_=n.n(S),b=n(1),O=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),L=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onItemClick=n.onItemClick.bind(n),n}return i(t,e),O(t,[{key:"render",value:function(){var e=this,t=window.innerHeight-45,n=(this.props.friendsType===b.g.FANS?"\u7c89\u4e1d":"\u5173\u6ce8")+"\u5217\u8868";return h.a.createElement("div",null,h.a.createElement(c.a,{mode:"dark",className:"navBar",icon:h.a.createElement(p.a,{type:"left"}),onLeftClick:function(){e.props.dispatch(Object(T.a)(e.props.targetUserId,e.props.userId,e.props.friendsType)),e.props.history.goBack()}},n),h.a.createElement(m.a,null,h.a.createElement(f.a,{friendsType:this.props.friendsType,targetUserId:this.props.targetUserId,onItemClick:this.onItemClick,height:t,ref:function(t){t&&(e.listView=t.getWrappedInstance())}})))}},{key:"onItemClick",value:function(e){this.props.history.push({pathname:"/userProfile/friendProfile",search:"?targetUserId="+e.UserID})}}]),t}(d.PureComponent),y=function(e,t){var n=_.a.parse(t.location.search);return Object.assign({userId:g.a.getUserId(e)},n)};L=Object(E.b)(y)(L),t.a=L},function(e,t,n){e.exports=n.p+"static/media/ico_list_followed@2x.7184d157.png"},function(e,t,n){e.exports=n.p+"static/media/ico_list_follow@2x.63627ba2.png"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(39),s=(n.n(o),n(40)),c=n.n(s),l=n(28),u=(n.n(l),n(29)),p=n.n(u),d=n(34),h=(n.n(d),n(35)),E=n.n(h),m=n(18),f=(n.n(m),n(19)),T=n.n(f),I=n(0),g=n.n(I),S=n(2),_=n(10),b=n(41),O=n(20),L=n(1),y=n(84),C=n(36),v=n.n(C),N=n(282),R=n(291),w=n(283),D=(n.n(w),n(15)),A=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),k=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.tabs=[{title:"\u8db3\u8ff9",type:L.g.FOOTMARK},{title:"\u5173\u6ce8",type:L.g.ATTENTIONS},{title:"\u7c89\u4e1d",type:L.g.FANS}],n.goBack=n.goBack.bind(n),n.renderTabView=n.renderTabView.bind(n),n.targetInfoButtonTapped=n.targetInfoButtonTapped.bind(n),n.followButtonTapped=n.followButtonTapped.bind(n),n.onFootmarkItemClick=n.onFootmarkItemClick.bind(n),n.onLineClick=n.onLineClick.bind(n),n.toLoginPage=n.toLoginPage.bind(n),n.onSiteImageItemClick=n.onSiteImageItemClick.bind(n),n.myFootmarkEditClicking=n.myFootmarkEditClicking.bind(n),n.friendProfileClicking=n.friendProfileClicking.bind(n),n.onFriendItemClick=n.onFriendItemClick.bind(n),n}return i(t,e),A(t,[{key:"componentDidMount",value:function(){this.updateData()}},{key:"componentDidUpdate",value:function(e,t,n){if(this.props.targetUserId!==e.targetUserId&&this.props.targetUserId){this.updateData();for(var r=0;r<this.tabs.length;r++){var a=this.tabs[r].listView;a&&a.forceUpdate()}}this.props.targetUserInfo&&this.props.numbersInfo!==e.numbersInfo&&!this.props.numbersInfo&&this.props.targetUserId&&this.props.dispatch(Object(y.e)(this.props.targetUserId,this.props.userId))}},{key:"updateData",value:function(){this.props.targetUserInfo||(this.props.dispatch(Object(y.c)(this.props.targetUserId,this.props.userId)),this.props.dispatch(Object(y.f)(this.props.targetUserId,this.props.userId))),this.props.numbersInfo||this.props.dispatch(Object(y.e)(this.props.targetUserId,this.props.userId))}},{key:"render",value:function(){var e=this,t=window.innerHeight-155,r=window.innerHeight-200;return g.a.createElement("div",{className:"friendProfileScreenView"},g.a.createElement("div",{className:"friendProfileNavBar"},g.a.createElement("div",{className:"navButton",onClick:function(){return e.goBack()}},g.a.createElement(T.a,{type:"left",color:"#fff"})),g.a.createElement("div",{className:"centerText"},this.props.targetUserInfo?this.props.targetUserInfo.Nickname?this.props.targetUserInfo.Nickname:this.props.targetUserInfo.Name:""),g.a.createElement("div",{className:"navButton"})),g.a.createElement("img",{className:"topBg",src:n(757),alt:""}),g.a.createElement("div",{className:"headerView"},this.props.isMine?null:g.a.createElement("div",{className:"infoButton",onClick:this.targetInfoButtonTapped},g.a.createElement("img",{className:"infoImg",src:n(758),alt:""})),g.a.createElement("div",{style:{backgroundImage:"url("+(this.props.targetUserInfo?this.props.targetUserInfo.GetUserAvatar:"")+")"},className:"friendProfileItemImg"}),this.renderFollowView()),g.a.createElement(_.a,{style:{marginTop:"-51px",backgroundColor:"transparent",height:t+"px"}},g.a.createElement(E.a,{tabs:this.tabs,ref:function(e){return O.a.updateComponentHeight(e,t)},initialPage:this.props.selectedTabIndex,page:this.props.selectedTabIndex,prerenderingSiblingsNumber:0,tabBarUnderlineStyle:{borderColor:"#42a1da",borderWidth:"2px"},onChange:function(t,n){e.props.dispatch(Object(y.q)(e.props.targetUserId,e.props.userId,n))},renderTab:function(t){return e.renderTabView(t)},onTabClick:function(e,t){console.log("onTabClick",t,e)}},g.a.createElement(R.a,{footmarkType:4,targetUserId:this.props.targetUserId,ref:function(t){t&&(e.tabs[0].listView=t.getWrappedInstance())},onItemClick:this.onFootmarkItemClick,onLineClick:this.onLineClick,onSiteImageItemClick:this.onSiteImageItemClick,toLoginPage:this.toLoginPage,myFootmarkEditClicking:this.myFootmarkEditClicking,friendProfileClicking:this.friendProfileClicking,height:r}),g.a.createElement(N.a,{friendsType:L.g.ATTENTIONS,targetUserId:this.props.targetUserId,onItemClick:this.onFriendItemClick,toLoginPage:this.toLoginPage,height:r,ref:function(t){t&&(e.tabs[1].listView=t.getWrappedInstance())}}),g.a.createElement(N.a,{friendsType:L.g.FANS,targetUserId:this.props.targetUserId,onItemClick:this.onFriendItemClick,toLoginPage:this.toLoginPage,height:r,ref:function(t){t&&(e.tabs[2].listView=t.getWrappedInstance())}})),g.a.createElement(b.a,{ref:function(t){e.photoBrowserView=t?t.getWrappedInstance():void 0}})))}},{key:"renderFollowView",value:function(){return this.props.isMine?null:g.a.createElement("div",{className:"infoButton",onClick:this.followButtonTapped},this.props.isFollowed?g.a.createElement("img",{className:"infoImg",src:n(759),alt:""}):g.a.createElement("img",{className:"infoImg",src:n(760),alt:""}))}},{key:"renderTabView",value:function(e){var t=0;return this.props.numbersInfo&&(e.type===L.g.FOOTMARK?t=this.props.numbersInfo.FootCount:e.type===L.g.ATTENTIONS?t=this.props.numbersInfo.AttentionCount:e.type===L.g.FANS&&(t=this.props.numbersInfo.FansCount)),g.a.createElement("div",{className:"tabView"},g.a.createElement("div",{className:"countText"},t),g.a.createElement("div",{className:"nameText"},e.title))}},{key:"goBack",value:function(){(0,this.props.dispatch)(Object(y.o)(this.props.targetUserId,this.props.userId)),this.props.history.goBack()}},{key:"targetInfoButtonTapped",value:function(){this.props.history.push({pathname:"/userProfile/friendInfo",search:"?targetUserId="+this.props.targetUserId})}},{key:"followButtonTapped",value:function(){var e=this;if(isNaN(this.props.userId))return void this.toLoginPage();this.props.dispatch(Object(y.b)(this.props.targetUserId,this.props.userId,this.props.isFollowed)).then(function(){p.a.success(e.props.isFollowed?"\u5173\u6ce8\u6210\u529f!":"\u53d6\u6d88\u5173\u6ce8\u6210\u529f!",void 0,void 0,!1)})}},{key:"onSiteImageItemClick",value:function(e,t,n){for(var r=[],a=0,i=0;i<e.GetShowList.length;i++){var o=e.GetShowList[i];if(o&&o.GetImage&&o.GetImage.ImageList&&o.GetImage.ImageList.length>0)for(var s=0;s<o.GetImage.ImageList.length;s++){var c=o.GetImage.ImageList[s];t===i&&n===s&&(a=r.length),r.push(c.BigImgSrc)}}this.photoBrowserView&&this.photoBrowserView.open(r,a)}},{key:"onLineClick",value:function(e){this.onFootmarkItemClick(e,0)}},{key:"onFootmarkItemClick",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(e){for(var n=0;n<this.tabs.length;n++){var r=this.tabs[n].listView;r&&r.cacheScrollOffset()}this.props.history.push({pathname:"/footmark/detail",state:{item:e,selectedTabIndex:t}})}}},{key:"toLoginPage",value:function(){this.props.history.push("/me/login")}},{key:"myFootmarkEditClicking",value:function(e){var t=this;1===e.Status?c.a.alert("\u63d0\u793a","\u8be5\u8db3\u8ff9\u5df2\u5ba1\u6838\u901a\u8fc7\uff0c\u518d\u6b21\u7f16\u8f91\u5c06\u91cd\u65b0\u5ba1\u6838\uff01",[{text:"\u53d6\u6d88",style:"default"},{text:"\u786e\u5b9a",onPress:function(){return t.createFootMark(e)}}]):this.createFootMark(e)}},{key:"createFootMark",value:function(e){this.props.history.push({pathname:"/footmark/create",state:{isEdit:!0,footmarkItem:e}})}},{key:"onFriendItemClick",value:function(e){this.props.history.push({pathname:"/userProfile/friendProfile",search:"?targetUserId="+e.UserID})}},{key:"friendProfileClicking",value:function(e){}}]),t}(I.PureComponent),P=function(e,t){var n=v.a.parse(t.location.search),r=D.a.getUserId(e),a=n.targetUserId+"_"+r,i=e.userProfile[a]?e.userProfile[a]:{},o=i[L.g.TARGETINFO]?i[L.g.TARGETINFO]:null,s=i[L.g.NUMBERSINFO]?i[L.g.NUMBERSINFO]:null,c=i.selectedTabIndex?i.selectedTabIndex:0,l=!!i.isFollowed&&i.isFollowed;return{selectedTabIndex:c,targetUserInfo:o,targetUserId:n.targetUserId,numbersInfo:s,userId:r,isFollowed:l,isMine:n.targetUserId===r+""}};k=Object(S.b)(P)(k),t.a=k},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(0),s=n.n(o),c=n(9),l=n.n(c),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"footmarkItem",style:this.props.style,onClick:function(){e.props.onItemClick&&e.props.onItemClick(e.props.item)}},this.renderLeftView(),s.a.createElement("div",{className:"footmarkItemLeftRightSplit"}),this.renderRightView())}},{key:"renderFirstSiteView",value:function(){return this.props.item.GetShowList&&0!==this.props.item.GetShowList.length?this.renderSiteItem(this.props.item.GetShowList[0],0):null}},{key:"renderOtherSiteViews",value:function(){var e=this;return!this.props.item.GetShowList||this.props.item.GetShowList.length<=1||!this.props.item.isExpand?null:this.props.item.GetShowList.slice(1).map(function(t,n){return e.renderSiteItem(t,n)})}},{key:"renderSiteItem",value:function(e,t){var r=e.CreateTime;if(r){var a=r.indexOf(":");-1!==a&&(r=r.substr(0,a)+"\u65f6")}var i=e.Address;return i&&i.startsWith("\u4e2d\u56fd")&&(i=i.substr("\u4e2d\u56fd".length)),s.a.createElement("div",{className:"footmarkItemSiteItem",key:t},this.renderSiteItemImageBox(e),s.a.createElement("div",{className:"footmarkItemSiteItemContent"},e.Content),s.a.createElement("div",{className:"footmarkItemSiteItemAddress"},s.a.createElement("img",{src:n(169),alt:""}),i,"\xa0\xa0",r))}},{key:"renderSiteItemImageBox",value:function(e){if(!e.GetImage||!e.GetImage.ImageList||0===e.GetImage.ImageList.length)return null;var t=this.props.item.GetShowList.indexOf(e);return e.GetImage.ImageList.length<4?s.a.createElement("div",{className:"footmarkItemImageBox"},this.renderSiteItemImageRow(t,e.GetImage.ImageList)):s.a.createElement("div",{className:"footmarkItemImageBox"},this.renderSiteItemImageRow(t,e.GetImage.ImageList.slice(0,2)),this.renderSiteItemImageRow(t,e.GetImage.ImageList.slice(2,4)))}},{key:"renderSiteItemImageRow",value:function(e,t){var n=this,r=this.props.item.GetShowList[e],a=t.length,i=21*(window.innerWidth-1)/25-20,o=(i-5*(a-1))/a,c=.75*o;return s.a.createElement("div",{className:"footmarkItemImageRow"},t.map(function(t,a){return s.a.createElement("div",{key:a,className:"footmarkItemImage",style:{width:o+"px",height:c+"px",backgroundImage:"url("+t.MiddleImgSrc+")"},onClick:function(a){a.stopPropagation(),a.nativeEvent.stopImmediatePropagation();var i=r.GetImage.ImageList.indexOf(t);n.props.onSiteImageItemClick&&n.props.onSiteImageItemClick(n.props.item,e,i)}})}))}},{key:"renderLeftView",value:function(){var e=this,t=n(1===this.props.item.IsLike?749:750),r=n(1===this.props.item.IsCollection?751:752);return s.a.createElement("div",{className:"footmarkItemLeft"},s.a.createElement("div",{className:"footmarkItemLeftButton",onClick:function(t){t.stopPropagation(),t.nativeEvent.stopImmediatePropagation(),e.props.onLineClick&&e.props.onLineClick(e.props.item)}},s.a.createElement("img",{src:n(753),alt:""}),"\u7ebf\u8def"),s.a.createElement("div",{className:"footmarkLeftButtonSplit"}),1===this.props.item.Status?s.a.createElement("div",{className:"footmarkItemLeftButton",onClick:function(t){t.stopPropagation(),t.nativeEvent.stopImmediatePropagation(),e.props.onPraiseButtonTapped&&e.props.onPraiseButtonTapped()}},s.a.createElement("img",{src:t,alt:""}),this.props.item.LikeCount):null,s.a.createElement("div",{className:"footmarkLeftButtonSplit"}),this.props.isMine?s.a.createElement("div",{className:"footmarkItemLeftButton",onClick:function(t){t.stopPropagation(),t.nativeEvent.stopImmediatePropagation(),e.props.onDeleteButtonTapped&&e.props.onDeleteButtonTapped()}},s.a.createElement("img",{src:n(277),alt:""}),"\u5220\u9664"):s.a.createElement("div",{className:"footmarkItemLeftButton",onClick:function(t){t.stopPropagation(),t.nativeEvent.stopImmediatePropagation(),e.props.onCollectButtonTapped&&e.props.onCollectButtonTapped()}},s.a.createElement("img",{src:r,alt:""}),"\u6536\u85cf"))}},{key:"renderRightView",value:function(){return s.a.createElement("div",{className:"footmarkItemRight"},s.a.createElement("div",{style:{width:"10px"}}),s.a.createElement("div",{style:{flex:1}},this.renderHeaderView(),this.renderStartTimeView(),this.renderFirstSiteView(),this.renderOtherSiteViews(),this.renderCommentsView(),s.a.createElement("div",{style:{height:"10px"}})))}},{key:"renderHeaderView",value:function(){var e=this,t=this.props.item.CreateTime;if(t&&t.length>0){var n=t.lastIndexOf(":");n>-1&&(t=t.substr(0,n))}return s.a.createElement("div",null,s.a.createElement("div",{className:"footmarkItemHeader"},s.a.createElement("div",{className:"footmarkItemHeaderItem footmarkItemHeaderLeftItem"},s.a.createElement("div",{className:"footmarkItemHeaderIcon",onClick:function(t){t.stopPropagation(),t.nativeEvent.stopImmediatePropagation(),e.props.friendProfileClicking&&e.props.friendProfileClicking(e.props.item)},style:{backgroundImage:"url("+this.props.item.GetUserAvatar+")"}}),s.a.createElement("div",{className:"footmarkItemHeaderNameDate"},s.a.createElement("div",{className:"footmarkItemHeaderName"},this.props.item.NickName),s.a.createElement("div",{className:"footmarkItemHeaderDate"},t))),s.a.createElement("div",{className:"footmarkItemHeaderItem footmarkItemHeaderRightItem"},s.a.createElement("div",{style:{flex:1}}),this.renderStatusView(),this.renderEditView(),this.renderExpandView())),this.renderHeaderTitleView())}},{key:"renderStartTimeView",value:function(){if(!this.props.item.GetShowList||0===this.props.item.GetShowList.length)return null;var e=this.props.item.GetShowList[0].CreateTime;if(!e||0===e.length)return null;var t=e.indexOf(" ");return-1!==t&&(e=e.substr(0,t)),s.a.createElement("div",{className:"footmarkItemStartTime"},s.a.createElement("img",{src:n(754),alt:""}),"\u51fa\u53d1\u65f6\u95f4\uff1a",e)}},{key:"renderStatusView",value:function(){if(!this.props.isMine)return null;if(0===this.props.item.Status||2===this.props.item.Status){var e=0===this.props.item.Status?"\u5f85\u5ba1\u6838":"\u62d2\u7edd";return s.a.createElement("div",{className:"footmarkItemStatusText"},e)}return null}},{key:"renderEditView",value:function(){var e=this;return this.props.isMine?s.a.createElement("div",{className:"footmarkItemEditIcon",onClick:function(t){t.stopPropagation(),t.nativeEvent.stopImmediatePropagation(),e.props.myFootmarkEditClicking(e.props.item)}},s.a.createElement("img",{src:n(755),alt:""})):null}},{key:"renderExpandView",value:function(){var e=this;return!this.props.item.GetShowList||this.props.item.GetShowList.length<=1?null:s.a.createElement("div",{className:"footmarkItemExpand",onClick:function(t){t.stopPropagation(),t.nativeEvent.stopImmediatePropagation(),e.props.toggleExpand&&e.props.toggleExpand()}},!0===this.props.item.isExpand?"\u6536\u8d77":"\u5c55\u5f00",s.a.createElement("img",{src:n(756),alt:""}))}},{key:"renderHeaderTitleView",value:function(){return this.props.item.Title&&0!==this.props.item.Title.length?s.a.createElement("div",{className:"footmarkItemHeaderTitle"},this.props.item.Title):null}},{key:"renderCommentsView",value:function(){var e=this;return this.props.item.GetCommentList&&0!==this.props.item.GetCommentList.length?s.a.createElement("div",{className:"footmarkItemCommentsBox"},this.props.item.GetCommentList.slice(0,5).map(function(t,n){return e.renderCommentsItemView(t,n)})):null}},{key:"renderCommentsItemView",value:function(e,t){return s.a.createElement("div",{className:"footmarkItemComments",style:0===t?null:{marginTop:"10px"},key:t},s.a.createElement("span",{className:"footmarkItemCommentsName"},e.NickName),s.a.createElement("span",{className:"footmarkItemCommentsContent"},"\xa0:\xa0",e.Content))}}]),t}(o.PureComponent);p.propTypes={toggleExpand:l.a.func,onPraiseButtonTapped:l.a.func,onCollectButtonTapped:l.a.func,myFootmarkEditClicking:l.a.func,friendProfileClicking:l.a.func,onDeleteButtonTapped:l.a.func},t.a=p},function(e,t,n){e.exports=n.p+"static/media/praise-on@2x.8c9e2ce8.png"},function(e,t,n){e.exports=n.p+"static/media/praise@2x.4c006420.png"},function(e,t,n){e.exports=n.p+"static/media/collect-on@2x.3ec3cbb5.png"},function(e,t,n){e.exports=n.p+"static/media/collect@2x.a7b59a6b.png"},function(e,t,n){e.exports=n.p+"static/media/footmark-route@2x.4b8fa9ec.png"},function(e,t,n){e.exports=n.p+"static/media/start-time@2x.04c1100d.png"},function(e,t,n){e.exports=n.p+"static/media/edit@2x.4274e206.png"},function(e,t,n){e.exports=n.p+"static/media/open@2x.639ee5b5.png"},function(e,t,n){e.exports=n.p+"static/media/my_bg@2x.16cc2b6e.png"},function(e,t,n){e.exports=n.p+"static/media/ico_info@2x.6326b50a.png"},function(e,t,n){e.exports=n.p+"static/media/ico_followed@2x.2120daeb.png"},function(e,t,n){e.exports=n.p+"static/media/ico_follow@2x.7175368d.png"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(16),s=(n.n(o),n(17)),c=n.n(s),l=n(11),u=(n.n(l),n(12)),p=n.n(u),d=n(18),h=(n.n(d),n(19)),E=n.n(h),m=n(0),f=n.n(m),T=n(2),I=n(10),g=n(1),S=n(84),_=n(36),b=n.n(_),O=n(15),L=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.goBack=n.goBack.bind(n),n}return i(t,e),L(t,[{key:"componentDidMount",value:function(){this.props.targetUserInfo||this.props.dispatch(Object(S.c)(this.props.targetUserId,this.props.userId))}},{key:"render",value:function(){return f.a.createElement("div",null,f.a.createElement(p.a,{mode:"dark",className:"navBar",icon:f.a.createElement(E.a,{type:"left"}),onLeftClick:this.goBack},"\u7528\u6237\u8d44\u6599"),f.a.createElement(I.a,{style:{backgroundColor:"#efeff4"}},f.a.createElement("div",null,this.renderHeaderImage(),this.renderItem("\u6635\u79f0:",this.props.targetUserInfo?this.props.targetUserInfo.Nickname:"",0),this.renderItem("\u771f\u5b9e\u59d3\u540d:",this.props.targetUserInfo?this.props.targetUserInfo.Name:"",4),this.renderItem("\u6027\u522b:",this.props.targetUserInfo?this.props.targetUserInfo.Sex?"\u7537":"\u5973":"",1),this.renderItem("\u5e38\u4f4f\u5730:",this.props.targetUserInfo?this.props.targetUserInfo.CityName:"",6)),this.props.isFetching?f.a.createElement(c.a,{toast:!0,text:"loading..."}):null))}},{key:"renderHeaderImage",value:function(){return f.a.createElement("div",{style:{backgroundColor:"#ffffff",position:"relative"}},f.a.createElement("div",{className:"userInfoItem"},f.a.createElement("div",{className:"userInfoItemLeft"},"\u5934\u50cf"),f.a.createElement("div",{className:"userInfoItemRight"},f.a.createElement("div",{className:"userInfoHeaderIcon",style:{backgroundImage:"url("+(this.props.targetUserInfo?this.props.targetUserInfo.GetUserAvatar:"")+")"}}))),f.a.createElement("div",{className:"userInfoSplitBottom"}))}},{key:"renderItem",value:function(e,t,n){return f.a.createElement("div",{style:{backgroundColor:"#ffffff"}},f.a.createElement("div",{className:"userInfoItem"},f.a.createElement("div",{className:"userInfoItemLeft"},e),f.a.createElement("div",{className:"userInfoItemRight"},f.a.createElement("span",{className:"userInfoItemLeftContent"},t))),f.a.createElement("div",{className:"userInfoSplitBottom"}))}},{key:"goBack",value:function(){this.props.history.goBack()}}]),t}(m.PureComponent),C=function(e,t){var n=b.a.parse(t.location.search),r=O.a.getUserId(e),a=n.targetUserId+"_"+r,i=e.userProfile[a]?e.userProfile[a]:{};return{targetUserInfo:i[g.g.TARGETINFO]?i[g.g.TARGETINFO]:null,targetUserId:n.targetUserId,userId:r}};y=Object(T.b)(C)(y),t.a=y},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(28),s=(n.n(o),n(29)),c=n.n(s),l=n(71),u=(n.n(l),n(72)),p=n.n(u),d=n(145),h=(n.n(d),n(763)),E=n.n(h),m=n(85),f=(n.n(m),n(167)),T=n.n(f),I=n(16),g=(n.n(I),n(17)),S=n.n(g),_=n(11),b=(n.n(_),n(12)),O=n.n(b),L=n(0),y=n.n(L),C=n(2),v=n(10),N=n(23),R=n(157),w=(n.n(R),n(156)),D=n(8),A=n(1),k=n(15),P=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),F=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.postTypeOnOK=n.postTypeOnOK.bind(n),n.submitTapped=n.submitTapped.bind(n),n.state={postTypeSectionID:0,postTitle:"",postContent:"",isLoading:!1},n}return i(t,e),P(t,[{key:"componentDidMount",value:function(){this.props.groups.dataList||this.loadData()}},{key:"render",value:function(){var e=this;return y.a.createElement("div",{className:this.props.isFromNativeApp?"isFromNativeApp":null},this.props.isFromNativeApp?null:y.a.createElement(O.a,{mode:"dark",className:"navBar",leftContent:y.a.createElement(N.a,{ref:function(t){e.leftContentView=t?t.getWrappedInstance():e.scrollView},goBackAction:function(){},history:this.props.history}),onLeftClick:function(){e.leftContentView.goHome()},rightContent:y.a.createElement("div",{className:"postForum_rightButton",onClick:this.submitTapped},"\u53d1\u5e03")},"\u53d1\u5e03\u5e16\u5b50"),y.a.createElement(v.a,null,this.renderPostInputView(),this.props.groups.isFetching||this.state.isLoading?y.a.createElement(S.a,{toast:!0,text:"Loading..."}):null))}},{key:"renderPostInputView",value:function(){var e=this;return this.props.groups.postTypePickerDataList&&0!==this.props.groups.postTypePickerDataList.length?y.a.createElement("div",null,y.a.createElement(E.a,{data:this.props.groups.postTypePickerDataList,title:"\u5e16\u5b50\u7c7b\u578b",cols:1,extra:"\u8bf7\u9009\u62e9(\u5fc5\u9009)",value:[this.state.postTypeSectionID],onOk:this.postTypeOnOK},y.a.createElement(T.a.Item,{arrow:"horizontal"},"\u5e16\u5b50\u7c7b\u578b")),y.a.createElement("div",{className:"postForum_spliteView"}),y.a.createElement(p.a,{title:"\u5e16\u5b50\u6807\u9898",placeholder:"\u8bf7\u8f93\u5165\u5e16\u5b50\u6807\u9898",value:this.state.postTitle,count:30,onChange:function(t){return e.setState({postTitle:t})},rows:2}),y.a.createElement("div",{className:"postForum_spliteView"}),y.a.createElement(p.a,{title:"\u5e16\u5b50\u5185\u5bb9",placeholder:"\u8bf7\u8f93\u5165\u5e16\u5b50\u5185\u5bb9",value:this.state.postContent,count:200,onChange:function(t){return e.setState({postContent:t})},rows:5}),y.a.createElement("div",{className:"postForum_spliteView"})):null}},{key:"loadData",value:function(){this.props.dispatch(Object(w.b)())}},{key:"postTypeOnOK",value:function(e){this.setState({postTypeSectionID:e[0]})}},{key:"toLoginPage",value:function(){this.props.history.push("/me/login")}},{key:"submitTapped",value:function(){return this.props.userId?0===this.state.postTypeSectionID?void c.a.info("\u8bf7\u9009\u62e9\u5e16\u5b50\u7c7b\u578b!",1):this.state.postTitle.length<=0?void c.a.info("\u5e16\u5b50\u6807\u9898\u4e0d\u80fd\u4e3a\u7a7a!",1):this.state.postContent.length<=0?void c.a.info("\u5e16\u5b50\u5185\u5bb9\u4e0d\u80fd\u4e3a\u7a7a!",1):void this.postForumRequest():void this.toLoginPage()}},{key:"postForumRequest",value:function(){var e=this;this.setState({isLoading:!0});var t={sid:this.state.postTypeSectionID,title:this.state.postTitle,uid:this.props.userId,content:this.state.postContent,state:1};D.a.postToPortal(A.q.FORUM.InsertThread,t).then(function(e){return e.json()}).then(function(t){if(e.setState({isLoading:!1}),"0"===t.status){c.a.info("\u53d1\u5e03\u8bba\u575b\u5e16\u5b50\u6210\u529f!",1);var n=t.results;e.props.history.push("/forum/detail/"+n)}else c.a.info("\u53d1\u5e03\u8bba\u575b\u5e16\u5b50\u5931\u8d25!",1)}).catch(function(t){e.setState({isLoading:!1}),c.a.info("\u63a5\u53e3\u5f02\u5e38\uff0c\u8bf7\u91cd\u8bd5",1)})}}]),t}(L.Component),U=function(e){return Object.assign({},e.forum.listScreen,{userId:k.a.getUserId(e),isFromNativeApp:e.native.isFromNativeApp})};F=Object(C.b)(U)(F),t.a=F},,,,,,,,,function(e,t,n){"use strict";function r(){if("serviceWorker"in navigator){if(new URL("/mobile/yuzhou",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="/mobile/yuzhou/service-worker.js";o?i(e):a(e)})}}function a(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}function i(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):a(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}t.a=r;var o=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))},,,,,function(e,t,n){"use strict";var r=n(13),a=n(777),i=n(778),o=n(782),s=n(786),c=n(789),l=n(792),u=n(795),p=n(803),d=n(806),h=n(807),E=n(808),m=n(811),f=n(814),T=n(818),I=n(822),g=n(825),S=n(832),_=n(837),b=n(841),O=n(844),L=n(848),y=n(851),C=n(854),v=n(857),N=n(859),R=n(861),w=n(863),D=n(867),A=n(869),k=n(870),P=n(872),F=Object(r.combineReducers)({home:a.a,scenic:i.a,hotel:o.a,news:s.a,festivalNews:b.a,line:c.a,me:l.a,journey:u.a,ticketPurchase:p.a,system:d.a,native:h.a,travelNotes:E.a,food:m.a,specialty:f.a,fun:T.a,forum:I.a,userNearby:g.a,map:S.a,footmark:_.a,shopping:O.a,farmHouse:L.a,travelAgent:y.a,restaurant:C.a,overview:v.a,traffic:N.a,sign:R.a,order:w.a,weather:D.a,photoBrowser:A.a,comments:k.a,userProfile:P.a});t.a=F},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case i.b.HOME.GET_NEWS_REQUEST:return Object.assign({},e,{news:{isFetching:!0}});case i.b.HOME.GET_NEWS_SUCCESS:return Object.assign({},e,{news:{isFetching:!1,dataList:t.dataList}});case i.b.HOME.GET_NEWS_FAILURE:return Object.assign({},e,{news:{isFetching:!1}});case i.b.HOME.GET_WEATHER_SUCCESS:return Object.assign({},e,{weather:t.resp});case i.b.HOME.SET_SCROLL_OFFSET:return Object.assign({},e,{scrollViewOffset:t.scrollViewOffset,playScrollViewOffset:t.playScrollViewOffset});case i.b.HOME.NEWS_INCREASE_CLICK_COUNT:if(e&&e.news&&e.news.dataList&&e.news.dataList.length>0)for(var n=0;n<e.news.dataList.length;n++){var a=e.news.dataList[n];if(a.ContentCode===t.code){isNaN(a.ClickCount)||(a.ClickCount+=1,e.news.dataList=[].concat(r(e.news.dataList)));break}}return Object.assign({},e);default:return e}}t.a=a;var i=n(1)},function(e,t,n){"use strict";var r=n(13),a=n(779),i=n(780),o=n(781),s=Object(r.combineReducers)({listScreen:a.a,detailScreen:i.a,recommendListScreen:o.a});t.a=s},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case c.b.SCENIC.LIST.SET_SELECTED_TAB_INDEX:return t.index;case c.b.SCENIC.LIST.GO_BACK:return 0;default:return e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];switch(t.type){case c.b.SCENIC.LIST.SET_KEYWORD:return t.keyword;case c.b.SCENIC.LIST.GO_BACK:return"";default:return e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(t.extraParams&&t.extraParams.storeKey&&t.extraParams.storeKey.length>0)return Object.assign({},e);var n=e[t.orderFiled];switch(n=n||{},t.type){case c.b.SCENIC.LIST.GET_LIST_REQUEST:return Object.assign({},e,r({},t.orderFiled,Object.assign({},n,{isFetching:!0,pageIndex:t.pageIndex,keyword:t.keyword})));case c.b.SCENIC.LIST.GET_LIST_SUCCESS:var a=0===t.pageIndex?[]:n.dataList;return a=a||[],t.result.results&&(a=a.concat(t.result.results)),Object.assign({},e,r({},t.orderFiled,Object.assign({},n,{isFetching:!1,dataList:a,total:t.result.total,pageIndex:t.pageIndex,keyword:t.keyword,hasMore:t.result.total>a.length})));case c.b.SCENIC.LIST.GET_LIST_FAILURE:return Object.assign({},e,r({},t.orderFiled,Object.assign({},n,{isFetching:!1})));case c.b.SCENIC.LIST.GO_BACK:return{};case c.b.SCENIC.LIST.DELETE:return Object.assign({},e,r({},t.orderFiled,{isFetching:!1,dataList:[]}));case c.b.SCENIC.LIST.SET_LISTVIEW_OFFSET:return Object.assign({},e,r({},t.orderFiled,Object.assign({},n,{listViewOffset:t.listViewOffset})));default:return e}}var s=n(13),c=n(1),l=Object(s.combineReducers)({selectedTabIndex:a,keyword:i,groups:o});t.a=l},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=e[t.code];switch(n=n||{},t.type){case i.b.SCENIC.DETAIL.GET_DETAIL_REQUEST:return Object.assign({},e,r({},t.code,{isFetching:!0}));case i.b.SCENIC.DETAIL.GET_DETAIL_SUCCESS:return Object.assign({},e,r({},t.code,{isFetching:!1,detailItem:t.detailItem}));case i.b.SCENIC.DETAIL.GET_DETAIL_FAILURE:return Object.assign({},e,r({},t.code,{isFetching:!1}));case i.b.SCENIC.DETAIL.GO_BACK:var a=Object.assign({},e);return delete a[t.code],Object.assign({},a);case i.b.SCENIC.DETAIL.GET_TICKET_LIST_REQUEST:return Object.assign({},e,r({},t.code,Object.assign({},n,{isFetching:!0})));case i.b.SCENIC.DETAIL.GET_TICKET_LIST_SUCCESS:return Object.assign({},e,r({},t.code,Object.assign({},n,{ticketList:t.ticketList,isFetching:!1})));case i.b.SCENIC.DETAIL.GET_TICKET_LIST_FAILURE:return Object.assign({},e,r({},t.code,Object.assign({},n,{isFetching:!1})));case i.b.SCENIC.DETAIL.GET_SCENERY_LIST_REQUEST:return Object.assign({},e,r({},t.code,Object.assign({},n,{isFetching:!0})));case i.b.SCENIC.DETAIL.GET_SCENERY_LIST_SUCCESS:return Object.assign({},e,r({},t.code,Object.assign({},n,{sceneryList:t.sceneryList,isFetching:!1})));case i.b.SCENIC.DETAIL.GET_SCENERY_LIST_FAILURE:return Object.assign({},e,r({},t.code,Object.assign({},n,{isFetching:!1})));case i.b.SCENIC.DETAIL.SET_DETAIL_SCROLL_OFFSET:return Object.assign({},e,r({},t.code,Object.assign({},n,{scrollViewOffset:t.scrollViewOffset})));case i.b.SCENIC.DETAIL.SET_SCENERY_LIST_SCROLL_OFFSET:return Object.assign({},e,r({},t.code,Object.assign({},n,{sceneryListScreenScrollViewOffset:t.scrollViewOffset})));case i.b.SCENIC.DETAIL.SET_SCENERY_DETAIL_SCROLL_OFFSET:var o="sceneryDetailScreenScrollViewOffset_"+t.sceneryCode;return Object.assign({},e,r({},t.code,Object.assign({},n,r({},o,t.scrollViewOffset))));default:return e}}t.a=a;var i=n(1)},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case a.b.SCENIC.RECOMMEND_LIST.GET_LIST_REQUEST:return{isFetching:!0};case a.b.SCENIC.RECOMMEND_LIST.GET_LIST_SUCCESS:return{isFetching:!1,dataList:t.dataList};case a.b.SCENIC.RECOMMEND_LIST.GET_LIST_FAILURE:return{isFetching:!1};case a.b.SCENIC.RECOMMEND_LIST.GO_BACK:return{};case a.b.SCENIC.RECOMMEND_LIST.DELETE:return{isFetching:!1,dataList:[]};case a.b.SCENIC.RECOMMEND_LIST.SET_LISTVIEW_OFFSET:return Object.assign({},e,{listViewOffset:t.listViewOffset});default:return Object.assign({},e)}}t.a=r;var a=n(1)},function(e,t,n){"use strict";var r=n(13),a=n(783),i=n(784),o=n(785),s=Object(r.combineReducers)({listScreen:a.a,detailScreen:i.a,recommendListScreen:o.a});t.a=s},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case c.b.HOTEL.LIST.SET_SELECTED_TAB_INDEX:return t.index;case c.b.HOTEL.LIST.GO_BACK:return 0;default:return e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];switch(t.type){case c.b.HOTEL.LIST.SET_KEYWORD:return t.keyword;case c.b.HOTEL.LIST.GO_BACK:return"";default:return e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(t.extraParams&&t.extraParams.storeKey&&t.extraParams.storeKey.length>0)return Object.assign({},e);var n=e[t.orderFiled];switch(n=n||{},t.type){case c.b.HOTEL.LIST.GET_LIST_REQUEST:return Object.assign({},e,r({},t.orderFiled,Object.assign({},n,{isFetching:!0,pageIndex:t.pageIndex,keyword:t.keyword})));case c.b.HOTEL.LIST.GET_LIST_SUCCESS:var a=0===t.pageIndex?[]:n.dataList;return a=a||[],t.result.results&&(a=a.concat(t.result.results)),Object.assign({},e,r({},t.orderFiled,Object.assign({},n,{isFetching:!1,dataList:a,total:t.result.total,pageIndex:t.pageIndex,keyword:t.keyword,hasMore:t.result.total>a.length})));case c.b.HOTEL.LIST.GET_LIST_FAILURE:return Object.assign({},e,r({},t.orderFiled,Object.assign({},n,{isFetching:!1})));case c.b.HOTEL.LIST.GO_BACK:return{};case c.b.HOTEL.LIST.DELETE:return Object.assign({},e,r({},t.orderFiled,{isFetching:!1,dataList:[]}));case c.b.HOTEL.LIST.SET_LISTVIEW_OFFSET:return Object.assign({},e,r({},t.orderFiled,Object.assign({},n,{listViewOffset:t.listViewOffset})));default:return e}}var s=n(13),c=n(1),l=Object(s.combineReducers)({selectedTabIndex:a,keyword:i,groups:o});t.a=l},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=e[t.code];switch(n=n||{},t.type){case i.b.HOTEL.DETAIL.GET_DETAIL_REQUEST:return Object.assign({},e,r({},t.code,{isFetching:!0}));case i.b.HOTEL.DETAIL.GET_DETAIL_SUCCESS:return Object.assign({},e,r({},t.code,{isFetching:!1,detailItem:t.detailItem}));case i.b.HOTEL.DETAIL.GET_DETAIL_FAILURE:return Object.assign({},e,r({},t.code,{isFetching:!1}));case i.b.HOTEL.DETAIL.GO_BACK:var a=Object.assign({},e);return delete a[t.code],Object.assign({},a);case i.b.HOTEL.DETAIL.SET_DETAIL_SCROLL_OFFSET:return Object.assign({},e,r({},t.code,Object.assign({},n,{scrollViewOffset:t.scrollViewOffset})));case i.b.HOTEL.DETAIL.GET_ROOM_LIST_REQUEST:case i.b.HOTEL.DETAIL.GET_ROOM_LIST_SUCCESS:return Object.assign({},e,r({},t.code,Object.assign({},n,t.data)));default:return e}}t.a=a;var i=n(1)},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case a.b.HOTEL.RECOMMEND_LIST.GET_LIST_REQUEST:return{isFetching:!0};case a.b.HOTEL.RECOMMEND_LIST.GET_LIST_SUCCESS:return{isFetching:!1,dataList:t.dataList};case a.b.HOTEL.RECOMMEND_LIST.GET_LIST_FAILURE:return{isFetching:!1};case a.b.HOTEL.RECOMMEND_LIST.GO_BACK:return{};case a.b.HOTEL.RECOMMEND_LIST.DELETE:return{isFetching:!1,dataList:[]};case a.b.HOTEL.RECOMMEND_LIST.SET_LISTVIEW_OFFSET:return Object.assign({},e,{listViewOffset:t.listViewOffset});default:return Object.assign({},e)}}t.a=r;var a=n(1)},function(e,t,n){"use strict";var r=n(13),a=n(787),i=n(788),o=Object(r.combineReducers)({listScreen:a.a,detailScreen:i.a});t.a=o},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case c.b.NEWS.LIST.SET_SELECTED_TAB_INDEX:return t.index;case c.b.NEWS.LIST.GO_BACK:return 0;default:return e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=e[t.key];switch(n=n||{},t.type){case c.b.NEWS.LIST.GET_LIST_REQUEST:return Object.assign({},e,a({},t.key,Object.assign({},n,{isFetching:!0,pageIndex:t.pageIndex})));case c.b.NEWS.LIST.GET_LIST_SUCCESS:var i=1===t.pageIndex?[]:n.dataList;return i=i||[],t.result.results&&(i=i.concat(t.result.results)),Object.assign({},e,a({},t.key,Object.assign({},n,{isFetching:!1,dataList:i,total:t.result.total,pageIndex:t.pageIndex,hasMore:t.result.total>i.length})));case c.b.NEWS.LIST.GET_LIST_FAILURE:return Object.assign({},e,a({},t.key,Object.assign({},n,{isFetching:!1})));case c.b.NEWS.LIST.GO_BACK:return{};case c.b.NEWS.LIST.DELETE:return Object.assign({},e,a({},t.key,{isFetching:!1,dataList:[]}));case c.b.NEWS.LIST.SET_LISTVIEW_OFFSET:return Object.assign({},e,a({},t.key,Object.assign({},n,{listViewOffset:t.listViewOffset})));case c.b.NEWS.LIST.INCREASE_CLICK_COUNT:var o=1===t.pageIndex?[]:n.dataList;o=o||[];for(var s=0;s<o.length;s++){var l=o[s];if(l.ContentCode===t.code){isNaN(l.ClickCount)||(l.ClickCount=l.ClickCount+1);break}}return n.dataList=[].concat(r(o)),Object.assign({},e,a({},t.key,Object.assign({},n)));default:return e}}var s=n(13),c=n(1),l=Object(s.combineReducers)({selectedTabIndex:i,groups:o});t.a=l},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case i.b.NEWS.DETAIL.GET_DETAIL_REQUEST:return Object.assign({},e,r({},t.code,{isFetching:!0}));case i.b.NEWS.DETAIL.GET_DETAIL_SUCCESS:return Object.assign({},e,r({},t.code,{isFetching:!1,detailItem:t.detailItem}));case i.b.NEWS.DETAIL.GET_DETAIL_FAILURE:return Object.assign({},e,r({},t.code,{isFetching:!1}));case i.b.NEWS.DETAIL.GO_BACK:var n=Object.assign({},e);return delete n[t.code],Object.assign({},n);default:return e}}t.a=a;var i=n(1)},function(e,t,n){"use strict";var r=n(13),a=n(790),i=n(791),o=Object(r.combineReducers)({listScreen:a.a,detailScreen:i.a});t.a=o},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case c.b.LINE.LIST.SET_SELECTED_TAB_INDEX:return t.index;case c.b.LINE.LIST.GO_BACK:return 0;default:return e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];switch(t.type){case c.b.LINE.LIST.SET_KEYWORD:return t.keyword;case c.b.LINE.LIST.GO_BACK:return"";default:return e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=e[t.orderFiled];switch(n=n||{},t.type){case c.b.LINE.LIST.GET_LIST_REQUEST:return Object.assign({},e,r({},t.orderFiled,Object.assign({},n,{isFetching:!0,pageIndex:t.pageIndex,keyword:t.keyword})));case c.b.LINE.LIST.GET_LIST_SUCCESS:var a=0===t.pageIndex?[]:n.dataList;return a=a||[],t.result.results&&(a=a.concat(t.result.results)),Object.assign({},e,r({},t.orderFiled,Object.assign({},n,{isFetching:!1,dataList:a,total:t.result.total,pageIndex:t.pageIndex,keyword:t.keyword,hasMore:t.result.total>a.length})));case c.b.LINE.LIST.GET_LIST_FAILURE:return Object.assign({},e,r({},t.orderFiled,Object.assign({},n,{isFetching:!1})));case c.b.LINE.LIST.GO_BACK:return{};case c.b.LINE.LIST.DELETE:return Object.assign({},e,r({},t.orderFiled,{isFetching:!1,dataList:[]}));case c.b.LINE.LIST.SET_LISTVIEW_OFFSET:return Object.assign({},e,r({},t.orderFiled,Object.assign({},n,{listViewOffset:t.listViewOffset})));default:return e}}var s=n(13),c=n(1),l=Object(s.combineReducers)({selectedTabIndex:a,keyword:i,groups:o});t.a=l},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=e[t.code];switch(n=n||{},t.type){case i.b.LINE.DETAIL.GET_DETAIL_REQUEST:return Object.assign({},e,r({},t.code,{isFetching:!0}));case i.b.LINE.DETAIL.GET_DETAIL_SUCCESS:return Object.assign({},e,r({},t.code,{isFetching:!1,detailItem:t.detailItem}));case i.b.LINE.DETAIL.GET_DETAIL_FAILURE:return Object.assign({},e,r({},t.code,{isFetching:!1}));case i.b.LINE.DETAIL.GO_BACK:var a=Object.assign({},e);return delete a[t.code],Object.assign({},a);case i.b.LINE.DETAIL.SET_DETAIL_SCROLL_OFFSET:return Object.assign({},e,r({},t.code,Object.assign({},n,{scrollViewOffset:t.scrollViewOffset})));default:return e}}t.a=a;var i=n(1)},function(e,t,n){"use strict";var r=n(13),a=n(793),i=n(794),o=Object(r.combineReducers)({userInfo:a.a,collect:i.a});t.a=o},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case a.b.ME.USER_INFO.LOGIN_REQUEST:return Object.assign({},e,{isFetching:!0});case a.b.ME.USER_INFO.LOGIN_SUCCESS:var n=t.userInfo?t.userInfo:{};if(n.results){var r=i.a.getItem(a.r.WX_ACCOUNT),o=i.a.getItem(a.r.WX_USER_OPENID);r&&r.length>0&&(n.results.Account=r),o&&o.length>0&&(n.results.OpenId=o)}return Object.assign({},e,{isFetching:!1},n);case a.b.ME.USER_INFO.LOGIN_FAILURE:return Object.assign({},e,{isFetching:!1});case a.b.ME.USER_INFO.EXIT_LOGIN:return{};case a.b.ME.USER_INFO.UPDATE_INFO_REQUEST:return Object.assign({},e,{isFetching:!0,updateSuccess:!1});case a.b.ME.USER_INFO.UPDATE_INFO_SUCCESS:return Object.assign({},e,{isFetching:!1,results:Object.assign({},t.userInfo.results),tmpUserInfo:Object.assign({},e.tmpUserInfo,{updateSuccess:!0})});case a.b.ME.USER_INFO.UPDATE_INFO_FAILURE:return Object.assign({},e,{isFetching:!1,updateSuccess:!1});case a.b.ME.USER_INFO.CLONE_TEMP_INFO:return Object.assign({},e,{tmpUserInfo:Object.assign({},e.results)});case a.b.ME.USER_INFO.CLEAR_TEMP_INFO:return delete e.tmpUserInfo,Object.assign({},e);case a.b.ME.USER_INFO.UPDATE_TEMP_INFO:return Object.assign({},e,{tmpUserInfo:Object.assign({},e.tmpUserInfo,t.configItem)});case a.b.ME.USER_INFO.GET_NUMBERS_REQUEST:return Object.assign({},e,{isFetching:!0});case a.b.ME.USER_INFO.GET_NUMBERS_SUCCESS:return Object.assign({},e,{isFetching:!1,results:Object.assign({},e.results,t.results)});case a.b.ME.USER_INFO.GET_NUMBERS_FAILURE:return Object.assign({},e,{isFetching:!1});case a.b.ME.USER_INFO.SET_USER_INFO:var s=e.results;return Object.assign({},e,{results:Object.assign({},s,t.userInfo)});default:return e}}t.a=r;var a=n(1),i=n(47)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case s.b.ME.COLLECT.LIST.SET_SELECTED_TAB_INDEX:return t.index;case s.b.ME.COLLECT.LIST.GO_BACK:return 0;default:return e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=e[t.entityType];switch(n=n||{},t.type){case s.b.ME.COLLECT.LIST.GET_LIST_REQUEST:return Object.assign({},e,r({},t.entityType,Object.assign({},n,{isFetching:!0,pageIndex:t.pageIndex,keyword:t.keyword})));case s.b.ME.COLLECT.LIST.GET_LIST_SUCCESS:var a=0===t.pageIndex?[]:n.dataList;return a=a||[],t.result.results&&(a=a.concat(t.result.results)),Object.assign({},e,r({},t.entityType,Object.assign({},n,{isFetching:!1,dataList:a,total:t.result.total,pageIndex:t.pageIndex,keyword:t.keyword,hasMore:t.result.total>a.length})));case s.b.ME.COLLECT.LIST.GET_LIST_FAILURE:return Object.assign({},e,r({},t.entityType,Object.assign({},n,{isFetching:!1})));case s.b.ME.COLLECT.LIST.GO_BACK:return{};case s.b.ME.COLLECT.LIST.DELETE:var i=Object.assign({},e);return delete i[t.entityType],Object.assign({},i);case s.b.ME.COLLECT.LIST.SET_LISTVIEW_OFFSET:return Object.assign({},e,r({},t.entityType,Object.assign({},n,{listViewOffset:t.listViewOffset})));default:return e}}var o=n(13),s=n(1),c=Object(o.combineReducers)({selectedTabIndex:a,groups:i});t.a=c},function(e,t,n){"use strict";var r=n(13),a=n(796),i=n(797),o=n(798),s=n(799),c=n(800),l=n(801),u=n(802),p=Object(r.combineReducers)({indexScreen:a.a,detailScreen:i.a,createScreen:o.a,mapLineScreen:s.a,editScreen:c.a,listScreen:l.a,addPointScreen:u.a});t.a=p},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case s.b.JOURNEY.INDEX.GET_MINE_LIST_REQUEST:return{isFetching:!0,isRefresh:!1};case s.b.JOURNEY.INDEX.GET_MINE_LIST_SUCCESS:return{isFetching:!1,dataList:t.dataList,isRefresh:!1};case s.b.JOURNEY.INDEX.GET_MINE_LIST_FAILURE:return{isFetching:!1,isRefresh:!1};case s.b.JOURNEY.DETAIL.COPY_TO_MINE_SUCCESS:case s.b.JOURNEY.INDEX.BACK:return{};case s.b.JOURNEY.INDEX.SET_LIST_REFRESH:return{isRefresh:t.isRefresh};default:return Object.assign({},e)}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case s.b.JOURNEY.INDEX.GET_RECOMMEND_LIST_REQUEST:return{isFetching:!0};case s.b.JOURNEY.INDEX.GET_RECOMMEND_LIST_SUCCESS:return{isFetching:!1,dataList:t.dataList};case s.b.JOURNEY.INDEX.GET_RECOMMEND_LIST_FAILURE:return{isFetching:!1};case s.b.JOURNEY.INDEX.GO_BACK:return{};default:return Object.assign({},e)}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case s.b.JOURNEY.INDEX.SET_SCROLL_OFFSET:return t.scrollViewOffset;default:return e}}var o=n(13),s=n(1),c=Object(o.combineReducers)({mineList:r,recommendList:a,scrollViewOffset:i});t.a=c},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=e[t.journeyId];switch(t.type){case i.b.JOURNEY.DETAIL.GET_DETAIL_REQUEST:return Object.assign({},e,r({},t.journeyId,{isFetching:!0}));case i.b.JOURNEY.DETAIL.GET_DETAIL_SUCCESS:return Object.assign({},e,r({},t.journeyId,{isFetching:!1,headerInfo:t.headerInfo,groupList:t.groupList,trafficInfos:t.trafficInfos}));case i.b.JOURNEY.DETAIL.GET_DETAIL_FAILURE:return Object.assign({},e,r({},t.journeyId,{isFetching:!1}));case i.b.JOURNEY.DETAIL.SET_SCROLL_OFFSET:return Object.assign({},e,r({},t.journeyId,Object.assign({},n,{scrollViewOffset:t.scrollViewOffset})));case i.b.JOURNEY.DETAIL.GO_BACK:var a=Object.assign({},e);return delete a[t.journeyId],Object.assign({},a);case i.b.JOURNEY.DETAIL.SET_TRAFFIC_INFOS:return Object.assign({},e,r({},t.journeyId,Object.assign({},n,{trafficInfos:t.trafficInfos})));case i.b.JOURNEY.DETAIL.COPY_TO_MINE_REQUEST:return Object.assign({},e,r({},t.journeyId,Object.assign({},n,{isFetching:!0})));case i.b.JOURNEY.DETAIL.COPY_TO_MINE_SUCCESS:return Object.assign({},e,r({},t.journeyId,Object.assign({},n,{targetJourneyId:t.targetJourneyId,isFetching:!1})));case i.b.JOURNEY.DETAIL.COPY_TO_MINE_FAILURE:return Object.assign({},e,r({},t.journeyId,Object.assign({},n,{isFetching:!1})));default:return Object.assign({},e)}}t.a=a;var i=n(1)},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case a.b.JOURNEY.CREATE.GET_CREATE_REQUEST:return Object.assign({},e,{isFetching:!0});case a.b.JOURNEY.CREATE.GET_CREATE_SUCCESS:return Object.assign({},e,{isFetching:!1,dataList:t.resp});case a.b.JOURNEY.CREATE.GET_CREATE_FAILURE:return Object.assign({},e,{isFetching:!1});case a.b.JOURNEY.CREATE.GET_MDTYPES_REQUEST:return Object.assign({},e,{isFetching:!0});case a.b.JOURNEY.CREATE.GET_MDTYPES_SUCCESS:return Object.assign({},e,{isFetching:!1,mdTypes:t.resp});case a.b.JOURNEY.CREATE.GET_MDTYPES_FAILURE:return Object.assign({},e,{isFetching:!1});case a.b.JOURNEY.CREATE.UPDATE_MDTYPES:return Object.assign({},e,{mdTypes:t.mdTypes});case a.b.JOURNEY.CREATE.GO_BACK:return{};default:return Object.assign({},e)}}t.a=r;var a=n(1)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=e[t.journeyId];switch(t.type){case i.b.JOURNEY.MAPLINE.GO_BACK:var a=Object.assign({},e);return delete a[t.journeyId],Object.assign({},a);case i.b.JOURNEY.MAPLINE.IS_FETCHING_CHANGE:return Object.assign({},e,r({},t.journeyId,Object.assign({},n,{isFetching:t.isFetching})));case i.b.JOURNEY.MAPLINE.DAYINDEX_CHANGE:return Object.assign({},e,r({},t.journeyId,Object.assign({},n,{dayIndex:t.dayIndex,showList:t.showList})));case i.b.JOURNEY.MAPLINE.MAPZOOM_AND_CENTERLOCATION_CHANGE:return Object.assign({},e,r({},t.journeyId,Object.assign({},n,{mapZoom:t.mapZoom,centerLat:t.centerLat,centerLng:t.centerLng})));case i.b.JOURNEY.MAPLINE.TOP_BOTTOM_SCROLLX_CHANGE:return Object.assign({},e,r({},t.journeyId,Object.assign({},n,{topScrollX:t.topScrollX,bottomScrollX:t.bottomScrollX})));default:return Object.assign({},e)}}t.a=a;var i=n(1)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=e[t.journeyId];switch(t.type){case i.b.JOURNEY.EDIT.GO_BACK:var a=Object.assign({},e);return delete a[t.journeyId],Object.assign({},a);case i.b.JOURNEY.EDIT.DATA_LIST_CHANGE:return Object.assign({},e,r({},t.journeyId,Object.assign({},n,{dataList:t.dataList})));case i.b.JOURNEY.EDIT.BEGIN_DATE_CHANGE:return Object.assign({},e,r({},t.journeyId,Object.assign({},n,{beginDate:t.beginDate})));case i.b.JOURNEY.EDIT.SET_SCROLL_OFFSET:return Object.assign({},e,r({},t.journeyId,Object.assign({},n,{scrollViewOffset:t.scrollViewOffset})));default:return Object.assign({},e)}}t.a=a;var i=n(1)},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case a.b.JOURNEY.MINE.GET_LIST_REQUEST:return Object.assign({},e,{isFetching:!0,pageIndex:t.pageIndex});case a.b.JOURNEY.MINE.GET_LIST_SUCCESS:var n=1===t.pageIndex?[]:e.dataList;return n=n||[],t.resp&&(n=n.concat(t.resp)),Object.assign({},e,{dataList:n,isFetching:!1,pageIndex:t.pageIndex,hasMore:t.resp.length>=t.pageSize});case a.b.JOURNEY.MINE.GET_LIST_FAILURE:return{isFetching:!1};case a.b.JOURNEY.MINE.DELETE:return{isFetching:!1,dataList:[]};case a.b.JOURNEY.MINE.SET_SCROLL_OFFSET:return Object.assign({},e,{listViewOffset:t.scrollViewOffset});case a.b.JOURNEY.MINE.GO_BACK:return{};default:return Object.assign({},e)}}t.a=r;var a=n(1)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=e[t.journeyId];switch(t.type){case i.b.JOURNEY.ADDPOINT.GO_BACK:var a=Object.assign({},e);return delete a[t.journeyId],Object.assign({},a);case i.b.JOURNEY.ADDPOINT.SELECT_POINT_DONE:return Object.assign({},e,r({groupList:t.groupList},t.journeyId,Object.assign({},n)));case i.b.JOURNEY.ADDPOINT.DELETE_ADDPOINT_GROUPLIST:var o=Object.assign({},e);return delete o.groupList,Object.assign({},o);case i.b.JOURNEY.ADDPOINT.IS_FETCHING_CHANGE:return Object.assign({},e,r({},t.journeyId,Object.assign({},n,{isFetching:t.isFetching})));case i.b.JOURNEY.ADDPOINT.GET_LIST_REQUEST:return Object.assign({},e,r({},t.journeyId,Object.assign({},n,{isFetching:!0,pageIndex:t.pageIndex})));case i.b.JOURNEY.ADDPOINT.GET_LIST_SUCCESS:var s=1===t.pageIndex?[]:n.dataList;return s=s||[],t.result&&(s=s.concat(t.result)),Object.assign({},e,r({},t.journeyId,Object.assign({},n,{isFetching:!1,dataList:s,pageIndex:t.pageIndex})));case i.b.JOURNEY.ADDPOINT.GET_LIST_FAILURE:return Object.assign({},e,r({},t.journeyId,Object.assign({},n,{isFetching:!1,pageIndex:t.pageIndex})));case i.b.JOURNEY.ADDPOINT.DATALIST_CHANGE:return Object.assign({},e,r({},t.journeyId,Object.assign({},n,{dataList:t.dataList})));case i.b.JOURNEY.ADDPOINT.SELECTLIST_CHANGE:return Object.assign({},e,r({},t.journeyId,Object.assign({},n,{selectList:t.selectList})));case i.b.JOURNEY.ADDPOINT.SET_SCROLL_OFFSET:return Object.assign({},e,r({},t.journeyId,Object.assign({},n,{scrollViewOffset:t.scrollViewOffset})));default:return Object.assign({},e)}}t.a=a;var i=n(1)},function(e,t,n){"use strict";var r=n(13),a=n(804),i=n(805),o=Object(r.combineReducers)({ticketInfo:a.a,purchaseList:i.a}),s=Object(r.combineReducers)({ticketPurchaseScreen:o});t.a=s},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case a.b.TICKET_PURCHASE.GET_INFO_REQUEST:return Object.assign({},e,{isFetching:!0});case a.b.TICKET_PURCHASE.GET_INFO_SUCCESS:return Object.assign({},e,{dataInfo:t.result.datas,isFetching:!1});case a.b.TICKET_PURCHASE.GET_INFO_FAILURE:return Object.assign({},e,{isFetching:!1});case a.b.TICKET_PURCHASE.GO_BACK:return{};case a.b.TICKET_PURCHASE.SET_SCROLL_OFFSET:return Object.assign({},e,{scrollViewOffset:t.scrollViewOffset});default:return Object.assign({},e)}}var a=n(1);t.a=r},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case a.b.TICKET_PURCHASE.GET_LIST_REQUEST:return Object.assign({},e,{isFetching:!0});case a.b.TICKET_PURCHASE.GET_LIST_SUCCESS:return Object.assign({},e,{dataList:t.result.datas,isFetching:!1});case a.b.TICKET_PURCHASE.GET_LIST_FAILURE:return Object.assign({},e,{isFetching:!1});case a.b.TICKET_PURCHASE.GO_BACK:return{};default:return Object.assign({},e)}}var a=n(1);t.a=r},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case a.b.SYSTEM.BAIDU_MAP_INITED:return Object.assign({},e,{baiduMapInited:!0});case a.b.SYSTEM.GET_USER_LOCATION_REQUEST:return Object.assign({},e,{isFetching:!0});case a.b.SYSTEM.GET_USER_LOCATION_SUCCESS:return Object.assign({},e,{latitude:t.lat,longitude:t.lng,address:t.address,isFetching:!1});case a.b.SYSTEM.GET_USER_LOCATION_FAILURE:return Object.assign({},e,{isFetching:!1});case a.b.SYSTEM.WINDOW_SIZE_CHANGED:return Object.assign({},e,{windowSize:Object.assign({},t.windowSize)});case a.b.SYSTEM.SET_CONFIG_ITEM:return Object.assign({},e,t.configItem);case a.b.SYSTEM.GET_JOURNEY_MAX_DAYCOUNT_REQUEST:return Object.assign({},e,{isFetching:!0});case a.b.SYSTEM.GET_JOURNEY_MAX_DAYCOUNT_SUCCESS:return Object.assign({},e,{journeyMaxDayCount:t.dayCount,isFetching:!1});case a.b.SYSTEM.GET_JOURNEY_MAX_DAYCOUNT_FAILURE:return Object.assign({},e,{isFetching:!1});default:return e}}t.a=r;var a=n(1)},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case a.b.NATIVE.WINDOW_SIZE_CHANGED:return Object.assign({},e,{windowSize:Object.assign({},t.windowSize)});case a.b.NATIVE.SET_CONFIG_ITEM:return Object.assign({},e,t.configItem);default:return e}}t.a=r;var a=n(1)},function(e,t,n){"use strict";var r=n(13),a=n(809),i=n(810),o=Object(r.combineReducers)({listScreen:a.a,detailScreen:i.a});t.a=o},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case s.b.TRAVEL_NOTES.LIST.SET_SELECTED_TAB_INDEX:return t.index;case s.b.TRAVEL_NOTES.LIST.GO_BACK:return 0;default:return e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=e[t.sortBy];switch(n=n||{},t.type){case s.b.TRAVEL_NOTES.LIST.GET_LIST_REQUEST:return Object.assign({},e,r({},t.sortBy,Object.assign({},n,{isFetching:!0,pageIndex:t.pageIndex})));case s.b.TRAVEL_NOTES.LIST.GET_LIST_SUCCESS:var a=1===t.pageIndex?[]:n.dataList;return a=a||[],t.result.results&&(a=a.concat(t.result.results)),Object.assign({},e,r({},t.sortBy,Object.assign({},n,{isFetching:!1,dataList:a,total:t.result.total,pageIndex:t.pageIndex,hasMore:t.result.total>a.length})));case s.b.TRAVEL_NOTES.LIST.GET_LIST_FAILURE:return Object.assign({},e,r({},t.sortBy,Object.assign({},n,{isFetching:!1})));case s.b.TRAVEL_NOTES.LIST.GO_BACK:return{};case s.b.TRAVEL_NOTES.LIST.DELETE:return Object.assign({},e,r({},t.sortBy,{isFetching:!1,dataList:[]}));case s.b.TRAVEL_NOTES.LIST.SET_LISTVIEW_OFFSET:return Object.assign({},e,r({},t.sortBy,Object.assign({},n,{listViewOffset:t.listViewOffset})));default:return e}}var o=n(13),s=n(1),c=Object(o.combineReducers)({selectedTabIndex:a,groups:i});t.a=c},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=e[t.id];switch(t.type){case i.b.TRAVEL_NOTES.DETAIL.GET_DETAIL_REQUEST:return Object.assign({},e,r({},t.id,Object.assign({},n,{isFetching:!0})));case i.b.TRAVEL_NOTES.DETAIL.GET_DETAIL_SUCCESS:return Object.assign({},e,r({},t.id,Object.assign({},n,{isFetching:!1,detailItem:t.detailItem,detailItems:t.detailItems})));case i.b.TRAVEL_NOTES.DETAIL.GET_DETAIL_FAILURE:return Object.assign({},e,r({},t.id,Object.assign({},n,{isFetching:!1})));case i.b.TRAVEL_NOTES.DETAIL.SEND_COMMENT_REQUEST:var a=Object.assign({},n);return delete a.successMessage,Object.assign({},e,r({},t.id,Object.assign({},a,{isFetching:!0})));case i.b.TRAVEL_NOTES.DETAIL.SEND_COMMENT_SUCCESS:return Object.assign({},e,r({},t.id,Object.assign({},n,{isFetching:!1,successMessage:"\u56de\u5e16\u53d1\u8868\u6210\u529f\uff0c\u7b49\u5f85\u5ba1\u6838\u901a\u8fc7\u540e\u663e\u793a\u56de\u5e16\u5185\u5bb9\uff01"})));case i.b.TRAVEL_NOTES.DETAIL.SEND_COMMENT_FAILURE:return Object.assign({},e,r({},t.id,Object.assign({},n,{isFetching:!1})));case i.b.TRAVEL_NOTES.DETAIL.GET_COMMENT_REQUEST:return Object.assign({},e,r({},t.id,Object.assign({},n)));case i.b.TRAVEL_NOTES.DETAIL.GET_COMMENT_SUCCESS:return Object.assign({},e,r({},t.id,Object.assign({},n,{commentList:t.results})));case i.b.TRAVEL_NOTES.DETAIL.GET_COMMENT_FAILURE:return Object.assign({},e,r({},t.id,Object.assign({},n)));case i.b.TRAVEL_NOTES.DETAIL.GO_BACK:var o=Object.assign({},e);return delete o[t.id],Object.assign({},o);default:return e}}t.a=a;var i=n(1)},function(e,t,n){"use strict";var r=n(13),a=n(812),i=n(813),o=Object(r.combineReducers)({recommendListScreen:i.a,detailScreen:a.a});t.a=o},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=e[t.code];switch(n=n||{},t.type){case i.b.FOOD.DETAIL.GET_DETAIL_REQUEST:return Object.assign({},e,r({},t.code,{isFetching:!0}));case i.b.FOOD.DETAIL.GET_DETAIL_SUCCESS:return Object.assign({},e,r({},t.code,{isFetching:!1,detailItem:t.detailItem}));case i.b.FOOD.DETAIL.GET_DETAIL_FAILURE:return Object.assign({},e,r({},t.code,{isFetching:!1}));case i.b.FOOD.DETAIL.GO_BACK:var a=Object.assign({},e);return delete a[t.code],Object.assign({},a);case i.b.FOOD.DETAIL.SET_DETAIL_SCROLL_OFFSET:return Object.assign({},e,r({},t.code,Object.assign({},n,{scrollViewOffset:t.scrollViewOffset})));default:return e}}t.a=a;var i=n(1)},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case a.b.FOOD.RECOMMEND_LIST.GET_LIST_REQUEST:return{isFetching:!0};case a.b.FOOD.RECOMMEND_LIST.GET_LIST_SUCCESS:return{isFetching:!1,dataList:t.dataList};case a.b.FOOD.RECOMMEND_LIST.GET_LIST_FAILURE:return{isFetching:!1};case a.b.FOOD.RECOMMEND_LIST.GO_BACK:return{};case a.b.FOOD.RECOMMEND_LIST.DELETE:return{isFetching:!1,dataList:[]};case a.b.FOOD.RECOMMEND_LIST.SET_LISTVIEW_OFFSET:return Object.assign({},e,{listViewOffset:t.listViewOffset});default:return Object.assign({},e)}}t.a=r;var a=n(1)},function(e,t,n){"use strict";var r=n(13),a=n(815),i=n(816),o=n(817),s=Object(r.combineReducers)({listScreen:a.a,recommendListScreen:i.a,detailScreen:o.a});t.a=s},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case c.b.SPECIALTY.LIST.SET_SELECTED_TAB_INDEX:return t.index;case c.b.SPECIALTY.LIST.GO_BACK:return 0;default:return e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];switch(t.type){case c.b.SPECIALTY.LIST.SET_KEYWORD:return t.keyword;case c.b.SPECIALTY.LIST.GO_BACK:return"";default:return e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=e[t.orderFiled];switch(n=n||{},t.type){case c.b.SPECIALTY.LIST.GET_LIST_REQUEST:return Object.assign({},e,r({},t.orderFiled,Object.assign({},n,{isFetching:!0,pageIndex:t.pageIndex,keyword:t.keyword})));case c.b.SPECIALTY.LIST.GET_LIST_SUCCESS:var a=1===t.pageIndex?[]:n.dataList;return a=a||[],t.result.results&&(a=a.concat(t.result.results)),Object.assign({},e,r({},t.orderFiled,Object.assign({},n,{isFetching:!1,dataList:a,total:t.result.total,pageIndex:t.pageIndex,keyword:t.keyword,hasMore:t.result.total>a.length})));case c.b.SPECIALTY.LIST.GET_LIST_FAILURE:return Object.assign({},e,r({},t.orderFiled,Object.assign({},n,{isFetching:!1})));case c.b.SPECIALTY.LIST.GO_BACK:return{};case c.b.SPECIALTY.LIST.DELETE:return Object.assign({},e,r({},t.orderFiled,{isFetching:!1,dataList:[]}));case c.b.SPECIALTY.LIST.SET_LISTVIEW_OFFSET:return Object.assign({},e,r({},t.orderFiled,Object.assign({},n,{listViewOffset:t.listViewOffset})));default:return e}}var s=n(13),c=n(1),l=Object(s.combineReducers)({selectedTabIndex:a,keyword:i,groups:o});t.a=l},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case a.b.SPECIALTY.RECOMMEND_LIST.GET_LIST_REQUEST:return{isFetching:!0};case a.b.SPECIALTY.RECOMMEND_LIST.GET_LIST_SUCCESS:return{isFetching:!1,dataList:t.dataList};case a.b.SPECIALTY.RECOMMEND_LIST.GET_LIST_FAILURE:return{isFetching:!1};case a.b.SPECIALTY.RECOMMEND_LIST.GO_BACK:return{};case a.b.SPECIALTY.RECOMMEND_LIST.DELETE:return{isFetching:!1,dataList:[]};case a.b.SPECIALTY.RECOMMEND_LIST.SET_LISTVIEW_OFFSET:return Object.assign({},e,{listViewOffset:t.listViewOffset});default:return Object.assign({},e)}}t.a=r;var a=n(1)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=e[t.code];switch(n=n||{},t.type){case i.b.SPECIALTY.DETAIL.GET_DETAIL_REQUEST:return Object.assign({},e,r({},t.code,{isFetching:!0}));case i.b.SPECIALTY.DETAIL.GET_DETAIL_SUCCESS:return Object.assign({},e,r({},t.code,{isFetching:!1,detailItem:t.detailItem}));case i.b.SPECIALTY.DETAIL.GET_DETAIL_FAILURE:return Object.assign({},e,r({},t.code,{isFetching:!1}));case i.b.SPECIALTY.DETAIL.GO_BACK:var a=Object.assign({},e);return delete a[t.code],Object.assign({},a);case i.b.SPECIALTY.DETAIL.SET_DETAIL_SCROLL_OFFSET:return Object.assign({},e,r({},t.code,Object.assign({},n,{scrollViewOffset:t.scrollViewOffset})));default:return e}}t.a=a;var i=n(1)},function(e,t,n){"use strict";var r=n(13),a=n(819),i=n(820),o=n(821),s=Object(r.combineReducers)({listScreen:a.a,recommendListScreen:i.a,detailScreen:o.a});t.a=s},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case c.b.FUN.LIST.SET_SELECTED_TAB_INDEX:return t.index;case c.b.FUN.LIST.GO_BACK:return 0;default:return e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];switch(t.type){case c.b.FUN.LIST.SET_KEYWORD:return t.keyword;case c.b.FUN.LIST.GO_BACK:return"";default:return e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(t.extraParams&&t.extraParams.storeKey&&t.extraParams.storeKey.length>0)return Object.assign({},e);var n=e[t.orderFiled];switch(n=n||{},t.type){case c.b.FUN.LIST.GET_LIST_REQUEST:return Object.assign({},e,r({},t.orderFiled,Object.assign({},n,{isFetching:!0,pageIndex:t.pageIndex,keyword:t.keyword})));case c.b.FUN.LIST.GET_LIST_SUCCESS:var a=1===t.pageIndex?[]:n.dataList;return a=a||[],t.result.results&&(a=a.concat(t.result.results)),Object.assign({},e,r({},t.orderFiled,Object.assign({},n,{isFetching:!1,dataList:a,total:t.result.total,pageIndex:t.pageIndex,keyword:t.keyword,hasMore:t.result.total>a.length})));case c.b.FUN.LIST.GET_LIST_FAILURE:return Object.assign({},e,r({},t.orderFiled,Object.assign({},n,{isFetching:!1})));case c.b.FUN.LIST.GO_BACK:return{};case c.b.FUN.LIST.DELETE:return Object.assign({},e,r({},t.orderFiled,{isFetching:!1,dataList:[]}));case c.b.FUN.LIST.SET_LISTVIEW_OFFSET:return Object.assign({},e,r({},t.orderFiled,Object.assign({},n,{listViewOffset:t.listViewOffset})));default:return e}}var s=n(13),c=n(1),l=Object(s.combineReducers)({selectedTabIndex:a,keyword:i,groups:o});t.a=l},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case a.b.FUN.RECOMMEND_LIST.GET_LIST_REQUEST:return{isFetching:!0};case a.b.FUN.RECOMMEND_LIST.GET_LIST_SUCCESS:return{isFetching:!1,dataList:t.dataList};case a.b.FUN.RECOMMEND_LIST.GET_LIST_FAILURE:return{isFetching:!1};case a.b.FUN.RECOMMEND_LIST.GO_BACK:return{};case a.b.FUN.RECOMMEND_LIST.DELETE:return{isFetching:!1,dataList:[]};case a.b.FUN.RECOMMEND_LIST.SET_LISTVIEW_OFFSET:return Object.assign({},e,{listViewOffset:t.listViewOffset});default:return Object.assign({},e)}}t.a=r;var a=n(1)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=e[t.code];switch(n=n||{},t.type){case i.b.FUN.DETAIL.GET_DETAIL_REQUEST:return Object.assign({},e,r({},t.code,{isFetching:!0}));case i.b.FUN.DETAIL.GET_DETAIL_SUCCESS:return Object.assign({},e,r({},t.code,{isFetching:!1,detailItem:t.detailItem}));case i.b.FUN.DETAIL.GET_DETAIL_FAILURE:return Object.assign({},e,r({},t.code,{isFetching:!1}));case i.b.FUN.DETAIL.GO_BACK:var a=Object.assign({},e);return delete a[t.code],Object.assign({},a);case i.b.FUN.DETAIL.SET_DETAIL_SCROLL_OFFSET:return Object.assign({},e,r({},t.code,Object.assign({},n,{scrollViewOffset:t.scrollViewOffset})));default:return e}}t.a=a;var i=n(1)},function(e,t,n){"use strict";var r=n(13),a=n(823),i=n(824),o=Object(r.combineReducers)({listScreen:a.a,detailScreen:i.a});t.a=o},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case s.b.FORUM.LIST.GET_GROUP_LIST_REQUEST:return Object.assign({},e,{isFetching:!0,dataList:[]});case s.b.FORUM.LIST.GET_GROUP_LIST_SUCCESS:for(var n=[],r=0;r<t.groupList.length;r++){var a=t.groupList[r];n.push({label:a.SectionName,value:a.SectionID+""})}return Object.assign({},e,{isFetching:!1,dataList:t.groupList,selectedIndex:0,postTypePickerDataList:n});case s.b.FORUM.LIST.GET_GROUP_LIST_FAILURE:return Object.assign({},e,{isFetching:!1,dataList:[]});case s.b.FORUM.LIST.SET_SELECTED_GROUP_INDEX:return Object.assign({},e,{selectedIndex:t.index});case s.b.FORUM.LIST.GO_BACK:return{};default:return e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=e[t.sectionID];switch(n=n||{},t.type){case s.b.FORUM.LIST.GET_LIST_REQUEST:return Object.assign({},e,r({},t.sectionID,Object.assign({},n,{isFetching:!0,pageIndex:t.pageIndex})));case s.b.FORUM.LIST.GET_LIST_SUCCESS:var a=1===t.pageIndex?[]:n.dataList;return a=a||[],t.result.results&&(a=a.concat(t.result.results)),Object.assign({},e,r({},t.sectionID,Object.assign({},n,{isFetching:!1,dataList:a,total:t.result.total,pageIndex:t.pageIndex,hasMore:t.result.total>a.length})));case s.b.FORUM.LIST.GET_LIST_FAILURE:return Object.assign({},e,r({},t.sectionID,Object.assign({},n,{isFetching:!1})));case s.b.FORUM.LIST.GO_BACK:return{};case s.b.FORUM.LIST.DELETE:return Object.assign({},e,r({},t.sectionID,{isFetching:!1,dataList:[]}));case s.b.FORUM.LIST.SET_LISTVIEW_OFFSET:return Object.assign({},e,r({},t.sectionID,Object.assign({},n,{listViewOffset:t.listViewOffset})));default:return e}}var o=n(13),s=n(1),c=Object(o.combineReducers)({tabs:i,groups:a});t.a=c},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=e[t.code];switch(t.type){case i.b.FORUM.DETAIL.GET_DETAIL_REQUEST:return Object.assign({},e,r({},t.code,Object.assign({},n,{isFetching:!0})));case i.b.FORUM.DETAIL.GET_DETAIL_SUCCESS:return Object.assign({},e,r({},t.code,{isFetching:!1,contentItem:t.contentItem,responseList:t.responseList}));case i.b.FORUM.DETAIL.GET_DETAIL_FAILURE:return Object.assign({},e,r({},t.code,{isFetching:!1}));case i.b.FORUM.DETAIL.SEND_COMMENTS_REQUEST:var a=Object.assign({},n);return delete a.successMessage,Object.assign({},e,r({},t.code,Object.assign({},a,{isFetching:!0})));case i.b.FORUM.DETAIL.SEND_COMMENTS_SUCCESS:return Object.assign({},e,r({},t.code,Object.assign({},n,{isFetching:!1,successMessage:"\u56de\u5e16\u53d1\u8868\u6210\u529f\uff0c\u7b49\u5f85\u5ba1\u6838\u901a\u8fc7\u540e\u663e\u793a\u56de\u5e16\u5185\u5bb9\uff01"})));case i.b.FORUM.DETAIL.SEND_COMMENTS_FAILURE:return Object.assign({},e,r({},t.code,Object.assign({},n,{isFetching:!1})));case i.b.FORUM.DETAIL.GO_BACK:var o=Object.assign({},e);return delete o[t.code],Object.assign({},o);default:return e}}t.a=a;var i=n(1)},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case i.b.ME.NEAR_BY.SET_SELECTED_TAB_INDEX:var n=Object.assign({},e);return n[t.storeKey]=t.index,n;case i.b.ME.NEAR_BY.GO_BACK:var r=Object.assign({},e);return delete r[t.storeKey],r;default:return e}}var a=n(13),i=n(1),o=n(826),s=n(827),c=n(828),l=n(829),u=n(830),p=n(831),d=Object(a.combineReducers)({scenicList:o.a,hotelList:s.a,funList:c.a,farmHouseList:l.a,selectedTabIndexGroup:r,shoppingList:u.a,restaurantList:p.a});t.a=d},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(!t.extraParams||t.extraParams.storeKey!==o.s.ME_NEAR_BY_SCENIC)return Object.assign({},e);var n=t.orderFiled;if(t.extraParams&&t.extraParams.lat&&t.extraParams.lng&&(n=n+"_"+t.extraParams.lat+"_"+t.extraParams.lng),t.type===o.b.ME.NEAR_BY.GO_BACK){var a=Object.assign({},e);return delete a[n],Object.assign({},a)}var i=e[n];switch(i=i||{},t.type){case o.b.SCENIC.LIST.GET_LIST_REQUEST:return Object.assign({},e,r({},n,Object.assign({},i,{isFetching:!0,pageIndex:t.pageIndex,keyword:t.keyword})));case o.b.SCENIC.LIST.GET_LIST_SUCCESS:var s=0===t.pageIndex?[]:i.dataList;return s=s||[],t.result.results&&(s=s.concat(t.result.results)),Object.assign({},e,r({},n,Object.assign({},i,{isFetching:!1,dataList:s,total:t.result.total,pageIndex:t.pageIndex,keyword:t.keyword,hasMore:t.result.total>s.length})));case o.b.SCENIC.LIST.GET_LIST_FAILURE:return Object.assign({},e,r({},n,Object.assign({},i,{isFetching:!1})));case o.b.SCENIC.LIST.GO_BACK:var c=Object.assign({},e);return delete c[n],Object.assign({},c);case o.b.SCENIC.LIST.DELETE:return Object.assign({},e,r({},n,{isFetching:!1,dataList:[]}));case o.b.SCENIC.LIST.SET_LISTVIEW_OFFSET:return Object.assign({},e,r({},n,Object.assign({},i,{listViewOffset:t.listViewOffset})));default:return e}}var i=n(13),o=n(1),s=Object(i.combineReducers)({groups:a});t.a=s},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(!t.extraParams||t.extraParams.storeKey!==o.s.ME_NEAR_BY_HOTEL)return Object.assign({},e);var n=t.orderFiled;if(t.extraParams&&t.extraParams.lat&&t.extraParams.lng&&(n=n+"_"+t.extraParams.lat+"_"+t.extraParams.lng),t.type===o.b.ME.NEAR_BY.GO_BACK){var a=Object.assign({},e);return delete a[n],Object.assign({},a)}var i=e[n];switch(i=i||{},t.type){case o.b.HOTEL.LIST.GET_LIST_REQUEST:return Object.assign({},e,r({},n,Object.assign({},i,{isFetching:!0,pageIndex:t.pageIndex,keyword:t.keyword})));case o.b.HOTEL.LIST.GET_LIST_SUCCESS:var s=0===t.pageIndex?[]:i.dataList;return s=s||[],t.result.results&&(s=s.concat(t.result.results)),Object.assign({},e,r({},n,Object.assign({},i,{isFetching:!1,dataList:s,total:t.result.total,pageIndex:t.pageIndex,keyword:t.keyword,hasMore:t.result.total>s.length})));case o.b.HOTEL.LIST.GET_LIST_FAILURE:return Object.assign({},e,r({},n,Object.assign({},i,{isFetching:!1})));case o.b.HOTEL.LIST.GO_BACK:var c=Object.assign({},e);return delete c[n],Object.assign({},c);case o.b.HOTEL.LIST.DELETE:return Object.assign({},e,r({},n,{isFetching:!1,dataList:[]}));case o.b.HOTEL.LIST.SET_LISTVIEW_OFFSET:return Object.assign({},e,r({},n,Object.assign({},i,{listViewOffset:t.listViewOffset})));default:return e}}var i=n(13),o=n(1),s=Object(i.combineReducers)({groups:a});t.a=s},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(!t.extraParams||t.extraParams.storeKey!==o.s.ME_NEAR_BY_FUN)return Object.assign({},e);var n=t.orderFiled;if(t.extraParams&&t.extraParams.lat&&t.extraParams.lng&&(n=n+"_"+t.extraParams.lat+"_"+t.extraParams.lng),t.type===o.b.ME.NEAR_BY.GO_BACK){var a=Object.assign({},e);return delete a[n],Object.assign({},a)}var i=e[n];switch(i=i||{},t.type){case o.b.FUN.LIST.GET_LIST_REQUEST:return Object.assign({},e,r({},n,Object.assign({},i,{isFetching:!0,pageIndex:t.pageIndex,keyword:t.keyword})));case o.b.FUN.LIST.GET_LIST_SUCCESS:var s=1===t.pageIndex?[]:i.dataList;return s=s||[],t.result.results&&(s=s.concat(t.result.results)),Object.assign({},e,r({},n,Object.assign({},i,{isFetching:!1,dataList:s,total:t.result.total,pageIndex:t.pageIndex,keyword:t.keyword,hasMore:t.result.total>s.length})));case o.b.FUN.LIST.GET_LIST_FAILURE:return Object.assign({},e,r({},n,Object.assign({},i,{isFetching:!1})));case o.b.FUN.LIST.GO_BACK:var c=Object.assign({},e);return delete c[n],Object.assign({},c);case o.b.FUN.LIST.DELETE:return Object.assign({},e,r({},n,{isFetching:!1,dataList:[]}));case o.b.FUN.LIST.SET_LISTVIEW_OFFSET:return Object.assign({},e,r({},n,Object.assign({},i,{listViewOffset:t.listViewOffset})));default:return e}}var i=n(13),o=n(1),s=Object(i.combineReducers)({groups:a});t.a=s},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(!t.extraParams||t.extraParams.storeKey!==o.s.ME_NEAR_BY_FARM_HOUSE)return Object.assign({},e);var n=t.orderFiled;if(t.extraParams&&t.extraParams.lat&&t.extraParams.lng&&(n=n+"_"+t.extraParams.lat+"_"+t.extraParams.lng),t.type===o.b.ME.NEAR_BY.GO_BACK){var a=Object.assign({},e);return delete a[n],Object.assign({},a)}var i=e[n];switch(i=i||{},t.type){case o.b.FARM_HOUSE.LIST.GET_LIST_REQUEST:return Object.assign({},e,r({},n,Object.assign({},i,{isFetching:!0,pageIndex:t.pageIndex,keyword:t.keyword})));case o.b.FARM_HOUSE.LIST.GET_LIST_SUCCESS:var s=0===t.pageIndex?[]:i.dataList;return s=s||[],t.result.results&&(s=s.concat(t.result.results)),Object.assign({},e,r({},n,Object.assign({},i,{isFetching:!1,dataList:s,total:t.result.total,pageIndex:t.pageIndex,keyword:t.keyword,hasMore:t.result.total>s.length})));case o.b.FARM_HOUSE.LIST.GET_LIST_FAILURE:return Object.assign({},e,r({},n,Object.assign({},i,{isFetching:!1})));case o.b.FARM_HOUSE.LIST.GO_BACK:var c=Object.assign({},e);return delete c[n],Object.assign({},c);case o.b.FARM_HOUSE.LIST.DELETE:return Object.assign({},e,r({},n,{isFetching:!1,dataList:[]}));case o.b.FARM_HOUSE.LIST.SET_LISTVIEW_OFFSET:return Object.assign({},e,r({},n,Object.assign({},i,{listViewOffset:t.listViewOffset})));default:return e}}var i=n(13),o=n(1),s=Object(i.combineReducers)({groups:a});t.a=s},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(!t.extraParams||t.extraParams.storeKey!==o.s.ME_NEAR_BY_SHOPPING)return Object.assign({},e);var n=t.orderFiled;if(t.extraParams&&t.extraParams.lat&&t.extraParams.lng&&(n=n+"_"+t.extraParams.lat+"_"+t.extraParams.lng),t.type===o.b.ME.NEAR_BY.GO_BACK){var a=Object.assign({},e);return delete a[n],Object.assign({},a)}var i=e[n];switch(i=i||{},t.type){case o.b.SHOPPING.LIST.GET_LIST_REQUEST:return Object.assign({},e,r({},n,Object.assign({},i,{isFetching:!0,pageIndex:t.pageIndex,keyword:t.keyword})));case o.b.SHOPPING.LIST.GET_LIST_SUCCESS:var s=1===t.pageIndex?[]:i.dataList;return s=s||[],t.result.results&&(s=s.concat(t.result.results)),Object.assign({},e,r({},n,Object.assign({},i,{isFetching:!1,dataList:s,total:t.result.total,pageIndex:t.pageIndex,keyword:t.keyword,hasMore:t.result.total>s.length})));case o.b.SHOPPING.LIST.GET_LIST_FAILURE:return Object.assign({},e,r({},n,Object.assign({},i,{isFetching:!1})));case o.b.SHOPPING.LIST.GO_BACK:var c=Object.assign({},e);return delete c[n],Object.assign({},c);case o.b.SHOPPING.LIST.DELETE:return Object.assign({},e,r({},n,{isFetching:!1,dataList:[]}));case o.b.SHOPPING.LIST.SET_LISTVIEW_OFFSET:return Object.assign({},e,r({},n,Object.assign({},i,{listViewOffset:t.listViewOffset})));default:return e}}var i=n(13),o=n(1),s=Object(i.combineReducers)({groups:a});t.a=s},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(!t.extraParams||t.extraParams.storeKey!==o.s.ME_NEAR_BY_RESTAURANT)return Object.assign({},e);var n=t.orderFiled;if(t.extraParams&&t.extraParams.lat&&t.extraParams.lng&&(n=n+"_"+t.extraParams.lat+"_"+t.extraParams.lng),t.type===o.b.ME.NEAR_BY.GO_BACK){var a=Object.assign({},e);return delete a[n],Object.assign({},a)}var i=e[n];switch(i=i||{},t.type){case o.b.RESTAURANT.LIST.GET_LIST_REQUEST:return Object.assign({},e,r({},n,Object.assign({},i,{isFetching:!0,pageIndex:t.pageIndex,keyword:t.keyword})));case o.b.RESTAURANT.LIST.GET_LIST_SUCCESS:var s=1===t.pageIndex?[]:i.dataList;return s=s||[],t.result.results&&(s=s.concat(t.result.results)),Object.assign({},e,r({},n,Object.assign({},i,{isFetching:!1,dataList:s,total:t.result.total,pageIndex:t.pageIndex,keyword:t.keyword,hasMore:t.result.total>s.length})));case o.b.RESTAURANT.LIST.GET_LIST_FAILURE:return Object.assign({},e,r({},n,Object.assign({},i,{isFetching:!1})));case o.b.RESTAURANT.LIST.GO_BACK:var c=Object.assign({},e);return delete c[n],Object.assign({},c);case o.b.RESTAURANT.LIST.DELETE:return Object.assign({},e,r({},n,{isFetching:!1,dataList:[]}));case o.b.RESTAURANT.LIST.SET_LISTVIEW_OFFSET:return Object.assign({},e,r({},n,Object.assign({},i,{listViewOffset:t.listViewOffset})));default:return e}}var i=n(13),o=n(1),s=Object(i.combineReducers)({groups:a});t.a=s},function(e,t,n){"use strict";var r=n(13),a=n(833),i=n(834),o=n(835),s=n(836),c=Object(r.combineReducers)({elementMarker:a.a,mapNav:i.a,elementMap:o.a,chooseAddress:s.a});t.a=c},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=e[t.code];switch(n=n||{},t.type){case i.b.MAP.ELEMENTMARKER.GO_BACK:var a=Object.assign({},e);return delete a[t.code],Object.assign({},a);case i.b.MAP.ELEMENTMARKER.MAPZOOM_AND_CENTERLOCATION_CHANGE:return Object.assign({},e,r({},t.code,Object.assign({},n,{mapZoom:t.mapZoom,centerLat:t.centerLat,centerLng:t.centerLng})));default:return e}}t.a=a;var i=n(1)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=e[t.code];switch(n=n||{},t.type){case i.b.MAP.MAPNAV.GO_BACK:var a=Object.assign({},e);return delete a[t.code],Object.assign({},a);case i.b.MAP.MAPNAV.UPDATE_FROM_TO_LOCATION:return Object.assign({},a,r({},t.code,Object.assign({},n,{fromLat:t.fromLat,fromLng:t.fromLng,toLat:t.toLat,toLng:t.toLng,isPanelShowing:!1,navType:t.navType,navMethodIndex:0})));case i.b.MAP.MAPNAV.IS_FETCHING_CHANGE:return Object.assign({},a,r({},t.code,Object.assign({},n,{isFetching:t.isFetching})));case i.b.MAP.MAPNAV.SELECT_NAV_TYPE:return Object.assign({},e,r({},t.code,Object.assign({},n,{navType:t.navType,navMethodIndex:0})));case i.b.MAP.MAPNAV.IS_PANEL_SHOWING_CHANGE:return Object.assign({},e,r({},t.code,Object.assign({},n,{isPanelShowing:t.isPanelShowing})));case i.b.MAP.MAPNAV.NAV_SEARCH_REQUEST:return Object.assign({},e,r({},t.code,Object.assign({},n,{isFetching:!0})));case i.b.MAP.MAPNAV.NAV_SEARCH_SUCCESS:return Object.assign({},e,r({},t.code,Object.assign({},n,{isFetching:!1,navResults:t.results,totalTime:t.totalTime,totalDistance:t.totalDistance,dataIsValid:t.dataIsValid})));case i.b.MAP.MAPNAV.NAV_SEARCH_FAILURE:return Object.assign({},e,r({},t.code,Object.assign({},n,{isFetching:!1,navResults:t.results,totalTime:"",totalDistance:"",dataIsValid:!1})));case i.b.MAP.MAPNAV.NAV_METHOD_INDEX_CHANGE:return Object.assign({},e,r({},t.code,Object.assign({},n,{navMethodIndex:t.navMethodIndex})));case i.b.MAP.MAPNAV.MAPZOOM_AND_CENTERLOCATION_CHANGE:return Object.assign({},e,r({},t.code,Object.assign({},n,{mapZoom:t.mapZoom,centerLat:t.centerLat,centerLng:t.centerLng})));default:return e}}t.a=a;var i=n(1)},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case a.b.MAP.ELEMENTMAP.GO_BACK:return{};case a.b.MAP.ELEMENTMAP.IS_PANEL_SHOWING_CHANGE:return Object.assign({},e,{isPanelShowing:t.isPanelShowing});case a.b.MAP.ELEMENTMAP.IS_FETCHING_CHANGE:return Object.assign({},e,{isFetching:t.isFetching});case a.b.MAP.ELEMENTMAP.KEYWORDS_CHANGE:return Object.assign({},e,{keywords:t.keywords});case a.b.MAP.ELEMENTMAP.MAPZOOM_AND_CENTERLOCATION_CHANGE:return Object.assign({},e,{mapZoom:t.mapZoom,centerLat:t.centerLat,centerLng:t.centerLng});case a.b.MAP.ELEMENTMAP.SEARCHTYPE_CHANGE:return Object.assign({},e,{searchType:t.searchType});case a.b.MAP.ELEMENTMAP.GET_LIST_REQUEST:return Object.assign({},e,{isFetching:!0});case a.b.MAP.ELEMENTMAP.GET_LIST_SUCCESS:var n=t.result.results;return Object.assign({},e,{dataList:n,isFetching:!1,keywords:t.keywords,searchType:t.searchType});case a.b.MAP.ELEMENTMAP.GET_LIST_FAILURE:return Object.assign({},e,{isFetching:!1});case a.b.MAP.ELEMENTMAP.SELECTEDITEM_CHANGE:return Object.assign({},e,{selectedItem:t.selectedItem});default:return e}}t.a=r;var a=n(1)},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case a.b.MAP.CHOOSEADDRESS.CLEAR_SELECT_ADDRESS:return{};case a.b.MAP.CHOOSEADDRESS.UPDATE_SELECT_ADDRESS:return Object.assign({},e,{selectPoint:t.selectPoint});default:return e}}t.a=r;var a=n(1)},function(e,t,n){"use strict";var r=n(13),a=n(838),i=n(839),o=n(840),s=Object(r.combineReducers)({listScreen:a.a,detailScreen:o.a,createScreen:i.a});t.a=s},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case c.b.FOOTMARK.LIST.SET_SELECTED_TAB_INDEX:return t.index;case c.b.FOOTMARK.LIST.GO_BACK:return 0;default:return e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=e[o(t)];switch(n=n||{},t.type){case c.b.FOOTMARK.LIST.GET_LIST_REQUEST:return Object.assign({},e,r({},o(t),Object.assign({},n,{isFetching:!0,pageIndex:t.pageIndex})));case c.b.FOOTMARK.LIST.GET_LIST_SUCCESS:var a=1===t.pageIndex?[]:n.dataList;return a=a||[],t.result.results&&(a=a.concat(t.result.results)),Object.assign({},e,r({},o(t),Object.assign({},n,{isFetching:!1,dataList:a,total:t.result.total,pageIndex:t.pageIndex,hasMore:t.result.total>a.length})));case c.b.FOOTMARK.LIST.GET_LIST_FAILURE:return Object.assign({},e,r({},o(t),Object.assign({},n,{isFetching:!1})));case c.b.FOOTMARK.LIST.GO_BACK:return{};case c.b.FOOTMARK.LIST.DELETE:return Object.assign({},e,r({},o(t),{isFetching:!1,dataList:[]}));case c.b.FOOTMARK.LIST.SET_LISTVIEW_OFFSET:return Object.assign({},e,r({},o(t),Object.assign({},n,{listViewOffset:t.listViewOffset})));case c.b.FOOTMARK.LIST.TOGGLE_EXPAND:var i=n.dataList,s=i[t.index];return s=Object.assign({},s,{isExpand:!s.isExpand}),i=i.slice(0,t.index).concat(s).concat(i.slice(t.index+1)),Object.assign({},e,r({},o(t),Object.assign({},n,{dataList:i})));case c.b.FOOTMARK.LIST.PRAISE_SUCCESS:var l=n.dataList,u=l[t.index];return u=Object.assign({},u,{IsLike:0===u.IsLike?1:0,LikeCount:0===u.IsLike?u.LikeCount+1:u.LikeCount-1}),l=l.slice(0,t.index).concat(u).concat(l.slice(t.index+1)),Object.assign({},e,r({},o(t),Object.assign({},n,{dataList:l})));case c.b.FOOTMARK.LIST.COLLECT_SUCCESS:var p=n.dataList,d=p[t.index];return d=Object.assign({},d,{IsCollection:0===d.IsCollection?1:0}),p=p.slice(0,t.index).concat(d).concat(p.slice(t.index+1)),Object.assign({},e,r({},o(t),Object.assign({},n,{dataList:p})));default:return e}}function o(e){return e.footmarkType+"_"+e.userId}var s=n(13),c=n(1),l=Object(s.combineReducers)({selectedTabIndex:a,groups:i});t.a=l},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case a.b.FOOTMARK.CREATE.GO_BACK:return{};case a.b.FOOTMARK.CREATE.UPDATE_FOOTMARK_ITEM:return Object.assign({},e,{footmarkItem:t.footmarkItem,tabs:t.tabs,siteIndex:t.siteIndex});case a.b.FOOTMARK.CREATE.UPDATE_SITE_INDEX:return Object.assign({},e,{siteIndex:t.siteIndex});case a.b.FOOTMARK.CREATE.UPDATE_SITE_ITEM:var n=Object.assign({},e);return n.footmarkItem.GetShowList[t.siteIndex]=t.siteItem,Object.assign({},n);case a.b.FOOTMARK.CREATE.UPDATE_FOOTMARK_TITLE:return Object.assign({},e,{Title:t.title});case a.b.FOOTMARK.CREATE.IS_FETCHING_CHANGE:return Object.assign({},e,{isFetching:t.isFetching});default:return e}}t.a=r;var a=n(1)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=t.footmarkCode;if(!n)return e;var a=e[n];switch(a||(a={selectedTabIndex:1,imageViewVisible:!1},e[n]=a,e=Object.assign({},e)),t.type){case i.b.FOOTMARK.DETAIL.SET_SELECTED_TAB_INDEX:return Object.assign({},e,r({},n,Object.assign({},a,{selectedTabIndex:t.index})));case i.b.FOOTMARK.DETAIL.GET_DETAIL_REQUEST:return Object.assign({},e,r({},n,Object.assign({},a,{isFetching:!0})));case i.b.FOOTMARK.DETAIL.GET_DETAIL_SUCCESS:return Object.assign({},e,r({},n,Object.assign({},a,{isFetching:!1,detailItem:t.detailItem})));case i.b.FOOTMARK.DETAIL.GET_DETAIL_FAILURE:return Object.assign({},e,r({},n,Object.assign({},a,{isFetching:!1})));case i.b.FOOTMARK.DETAIL.SET_IMAGE_VIEW_VISIBLE:return Object.assign({},e,r({},n,Object.assign({},a,{imageViewVisible:t.imageViewVisible})));case i.b.FOOTMARK.DETAIL.SEND_COMMENTS_REQUEST:var o=Object.assign({},a);return delete o.successMessage,Object.assign({},e,r({},n,Object.assign({},o,{isFetching:!0})));case i.b.FOOTMARK.DETAIL.SEND_COMMENTS_SUCCESS:return Object.assign({},e,r({},n,Object.assign({},a,{isFetching:!1,successMessage:"\u56de\u5e16\u53d1\u8868\u6210\u529f\uff0c\u7b49\u5f85\u5ba1\u6838\u901a\u8fc7\u540e\u663e\u793a\u56de\u5e16\u5185\u5bb9\uff01"})));case i.b.FOOTMARK.DETAIL.SEND_COMMENTS_FAILURE:return Object.assign({},e,r({},n,Object.assign({},a,{isFetching:!1})));case i.b.FOOTMARK.DETAIL.SEND_REPLYS_REQUEST:var s=Object.assign({},a);return delete s.successMessage,Object.assign({},e,r({},n,Object.assign({},s,{isFetching:!0})));case i.b.FOOTMARK.DETAIL.SEND_REPLYS_SUCCESS:return Object.assign({},e,r({},n,Object.assign({},a,{isFetching:!1,successMessage:"\u56de\u5e16\u53d1\u8868\u6210\u529f\uff0c\u7b49\u5f85\u5ba1\u6838\u901a\u8fc7\u540e\u663e\u793a\u56de\u5e16\u5185\u5bb9\uff01"})));case i.b.FOOTMARK.DETAIL.SEND_REPLYS_FAILURE:return Object.assign({},e,r({},n,Object.assign({},a,{isFetching:!1})));case i.b.FOOTMARK.DETAIL.GO_BACK:return delete e[n],Object.assign({},e);default:return e}}t.a=a;var i=n(1)},function(e,t,n){"use strict";var r=n(13),a=n(842),i=n(843),o=Object(r.combineReducers)({listScreen:a.a,detailScreen:i.a});t.a=o},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case s.b.FESTIVAL_NEWS.LIST.SET_SELECTED_TAB_INDEX:return t.index;case s.b.FESTIVAL_NEWS.LIST.GO_BACK:return 0;default:return e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=e[t.key];switch(n=n||{},t.type){case s.b.FESTIVAL_NEWS.LIST.GET_LIST_REQUEST:return Object.assign({},e,r({},t.key,Object.assign({},n,{isFetching:!0,pageIndex:t.pageIndex})));case s.b.FESTIVAL_NEWS.LIST.GET_LIST_SUCCESS:var a=1===t.pageIndex?[]:n.dataList;return a=a||[],t.result.results&&(a=a.concat(t.result.results)),Object.assign({},e,r({},t.key,Object.assign({},n,{isFetching:!1,dataList:a,pageIndex:t.pageIndex,total:t.result.total,hasMore:t.result.total>a.length})));case s.b.FESTIVAL_NEWS.LIST.GET_LIST_FAILURE:return Object.assign({},e,r({},t.key,Object.assign({},n,{isFetching:!1})));case s.b.FESTIVAL_NEWS.LIST.GO_BACK:return{};case s.b.FESTIVAL_NEWS.LIST.DELETE:return Object.assign({},e,r({},t.key,{isFetching:!1,dataList:[]}));case s.b.FESTIVAL_NEWS.LIST.SET_LISTVIEW_OFFSET:return Object.assign({},e,r({},t.key,Object.assign({},n,{listViewOffset:t.listViewOffset})));default:return e}}var o=n(13),s=n(1),c=Object(o.combineReducers)({selectedTabIndex:a,groups:i});t.a=c},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case i.b.FESTIVAL_NEWS.DETAIL.GET_DETAIL_REQUEST:return Object.assign({},e,r({},t.code,{isFetching:!0}));case i.b.FESTIVAL_NEWS.DETAIL.GET_DETAIL_SUCCESS:return Object.assign({},e,r({},t.code,{isFetching:!1,detailItem:t.detailItem}));case i.b.FESTIVAL_NEWS.DETAIL.GET_DETAIL_FAILURE:return Object.assign({},e,r({},t.code,{isFetching:!1}));case i.b.FESTIVAL_NEWS.DETAIL.GO_BACK:var n=Object.assign({},e);return delete n[t.code],Object.assign({},n);default:return e}}t.a=a;var i=n(1)},function(e,t,n){"use strict";var r=n(13),a=n(845),i=n(846),o=n(847),s=Object(r.combineReducers)({listScreen:a.a,recommendListScreen:i.a,detailScreen:o.a});t.a=s},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case c.b.SHOPPING.LIST.SET_SELECTED_TAB_INDEX:return t.index;case c.b.SHOPPING.LIST.GO_BACK:return 0;default:return e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];switch(t.type){case c.b.SHOPPING.LIST.SET_KEYWORD:return t.keyword;case c.b.SHOPPING.LIST.GO_BACK:return"";default:return e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(t.extraParams&&t.extraParams.storeKey&&t.extraParams.storeKey.length>0)return Object.assign({},e);var n=e[t.orderFiled];switch(n=n||{},t.type){case c.b.SHOPPING.LIST.GET_LIST_REQUEST:return Object.assign({},e,r({},t.orderFiled,Object.assign({},n,{isFetching:!0,pageIndex:t.pageIndex,keyword:t.keyword})));case c.b.SHOPPING.LIST.GET_LIST_SUCCESS:var a=1===t.pageIndex?[]:n.dataList;return a=a||[],t.result.results&&(a=a.concat(t.result.results)),Object.assign({},e,r({},t.orderFiled,Object.assign({},n,{isFetching:!1,dataList:a,total:t.result.total,pageIndex:t.pageIndex,keyword:t.keyword,hasMore:t.result.total>a.length})));case c.b.SHOPPING.LIST.GET_LIST_FAILURE:return Object.assign({},e,r({},t.orderFiled,Object.assign({},n,{isFetching:!1})));case c.b.SHOPPING.LIST.GO_BACK:return{};case c.b.SHOPPING.LIST.DELETE:return Object.assign({},e,r({},t.orderFiled,{isFetching:!1,dataList:[]}));case c.b.SHOPPING.LIST.SET_LISTVIEW_OFFSET:return Object.assign({},e,r({},t.orderFiled,Object.assign({},n,{listViewOffset:t.listViewOffset})));default:return e}}var s=n(13),c=n(1),l=Object(s.combineReducers)({selectedTabIndex:a,keyword:i,groups:o});t.a=l},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case a.b.SHOPPING.RECOMMEND_LIST.GET_LIST_REQUEST:return{isFetching:!0};case a.b.SHOPPING.RECOMMEND_LIST.GET_LIST_SUCCESS:return{isFetching:!1,dataList:t.dataList};case a.b.SHOPPING.RECOMMEND_LIST.GET_LIST_FAILURE:return{isFetching:!1};case a.b.SHOPPING.RECOMMEND_LIST.GO_BACK:return{};case a.b.SHOPPING.RECOMMEND_LIST.DELETE:return{isFetching:!1,dataList:[]};case a.b.SHOPPING.RECOMMEND_LIST.SET_LISTVIEW_OFFSET:return Object.assign({},e,{listViewOffset:t.listViewOffset});default:return Object.assign({},e)}}t.a=r;var a=n(1)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=e[t.code];switch(n=n||{},t.type){case i.b.SHOPPING.DETAIL.GET_DETAIL_REQUEST:return Object.assign({},e,r({},t.code,{isFetching:!0}));case i.b.SHOPPING.DETAIL.GET_DETAIL_SUCCESS:return Object.assign({},e,r({},t.code,{isFetching:!1,detailItem:t.detailItem}));case i.b.SHOPPING.DETAIL.GET_DETAIL_FAILURE:return Object.assign({},e,r({},t.code,{isFetching:!1}));case i.b.SHOPPING.DETAIL.GO_BACK:var a=Object.assign({},e);return delete a[t.code],Object.assign({},a);case i.b.SHOPPING.DETAIL.SET_DETAIL_SCROLL_OFFSET:return Object.assign({},e,r({},t.code,Object.assign({},n,{scrollViewOffset:t.scrollViewOffset})));default:return e}}t.a=a;var i=n(1)},function(e,t,n){"use strict";var r=n(13),a=n(849),i=n(850),o=Object(r.combineReducers)({listScreen:a.a,detailScreen:i.a});t.a=o},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case c.b.FARM_HOUSE.LIST.SET_SELECTED_TAB_INDEX:return t.index;case c.b.FARM_HOUSE.LIST.GO_BACK:return 0;default:return e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];switch(t.type){case c.b.FARM_HOUSE.LIST.SET_KEYWORD:return t.keyword;case c.b.FARM_HOUSE.LIST.GO_BACK:return"";default:return e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(t.extraParams&&t.extraParams.storeKey&&t.extraParams.storeKey.length>0)return Object.assign({},e);var n=e[t.orderFiled];switch(n=n||{},t.type){case c.b.FARM_HOUSE.LIST.GET_LIST_REQUEST:return Object.assign({},e,r({},t.orderFiled,Object.assign({},n,{isFetching:!0,pageIndex:t.pageIndex,keyword:t.keyword})));case c.b.FARM_HOUSE.LIST.GET_LIST_SUCCESS:var a=1===t.pageIndex?[]:n.dataList;return a=a||[],t.result.results&&(a=a.concat(t.result.results)),Object.assign({},e,r({},t.orderFiled,Object.assign({},n,{isFetching:!1,dataList:a,total:t.result.total,pageIndex:t.pageIndex,keyword:t.keyword,hasMore:t.result.total>a.length})));case c.b.FARM_HOUSE.LIST.GET_LIST_FAILURE:return Object.assign({},e,r({},t.orderFiled,Object.assign({},n,{isFetching:!1})));case c.b.FARM_HOUSE.LIST.GO_BACK:return{};case c.b.FARM_HOUSE.LIST.DELETE:return Object.assign({},e,r({},t.orderFiled,{isFetching:!1,dataList:[]}));case c.b.FARM_HOUSE.LIST.SET_LISTVIEW_OFFSET:return Object.assign({},e,r({},t.orderFiled,Object.assign({},n,{listViewOffset:t.listViewOffset})));default:return e}}var s=n(13),c=n(1),l=Object(s.combineReducers)({selectedTabIndex:a,keyword:i,groups:o});t.a=l},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=e[t.code];switch(n=n||{},t.type){case i.b.FARM_HOUSE.DETAIL.GET_DETAIL_REQUEST:return Object.assign({},e,r({},t.code,{isFetching:!0}));case i.b.FARM_HOUSE.DETAIL.GET_DETAIL_SUCCESS:return Object.assign({},e,r({},t.code,{isFetching:!1,detailItem:t.detailItem}));case i.b.FARM_HOUSE.DETAIL.GET_DETAIL_FAILURE:return Object.assign({},e,r({},t.code,{isFetching:!1}));case i.b.FARM_HOUSE.DETAIL.GO_BACK:var a=Object.assign({},e);return delete a[t.code],Object.assign({},a);case i.b.FARM_HOUSE.DETAIL.SET_DETAIL_SCROLL_OFFSET:return Object.assign({},e,r({},t.code,Object.assign({},n,{scrollViewOffset:t.scrollViewOffset})));default:return e}}t.a=a;var i=n(1)},function(e,t,n){"use strict";var r=n(13),a=n(852),i=n(853),o=Object(r.combineReducers)({listScreen:a.a,detailScreen:i.a});t.a=o},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case c.b.TRAVEL_AGENT.LIST.SET_SELECTED_TAB_INDEX:return t.index;case c.b.TRAVEL_AGENT.LIST.GO_BACK:return 0;default:return e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];switch(t.type){case c.b.TRAVEL_AGENT.LIST.SET_KEYWORD:return t.keyword;case c.b.TRAVEL_AGENT.LIST.GO_BACK:return"";default:return e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(t.extraParams&&t.extraParams.storeKey&&t.extraParams.storeKey.length>0)return Object.assign({},e);var n=e[t.orderFiled];switch(n=n||{},t.type){case c.b.TRAVEL_AGENT.LIST.GET_LIST_REQUEST:return Object.assign({},e,r({},t.orderFiled,Object.assign({},n,{isFetching:!0,pageIndex:t.pageIndex,keyword:t.keyword})));case c.b.TRAVEL_AGENT.LIST.GET_LIST_SUCCESS:var a=1===t.pageIndex?[]:n.dataList;return a=a||[],t.result.results&&(a=a.concat(t.result.results)),Object.assign({},e,r({},t.orderFiled,Object.assign({},n,{isFetching:!1,dataList:a,total:t.result.total,pageIndex:t.pageIndex,keyword:t.keyword,hasMore:t.result.total>a.length})));case c.b.TRAVEL_AGENT.LIST.GET_LIST_FAILURE:return Object.assign({},e,r({},t.orderFiled,Object.assign({},n,{isFetching:!1})));case c.b.TRAVEL_AGENT.LIST.GO_BACK:return{};case c.b.TRAVEL_AGENT.LIST.DELETE:return Object.assign({},e,r({},t.orderFiled,{isFetching:!1,dataList:[]}));case c.b.TRAVEL_AGENT.LIST.SET_LISTVIEW_OFFSET:return Object.assign({},e,r({},t.orderFiled,Object.assign({},n,{listViewOffset:t.listViewOffset})));default:return e}}var s=n(13),c=n(1),l=Object(s.combineReducers)({selectedTabIndex:a,keyword:i,groups:o});t.a=l},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=e[t.code];switch(n=n||{},t.type){case i.b.TRAVEL_AGENT.DETAIL.GET_DETAIL_REQUEST:return Object.assign({},e,r({},t.code,{isFetching:!0}));case i.b.TRAVEL_AGENT.DETAIL.GET_DETAIL_SUCCESS:return Object.assign({},e,r({},t.code,{isFetching:!1,detailItem:t.detailItem}));case i.b.TRAVEL_AGENT.DETAIL.GET_DETAIL_FAILURE:return Object.assign({},e,r({},t.code,{isFetching:!1}));case i.b.TRAVEL_AGENT.DETAIL.GO_BACK:var a=Object.assign({},e);return delete a[t.code],Object.assign({},a);case i.b.TRAVEL_AGENT.DETAIL.SET_DETAIL_SCROLL_OFFSET:return Object.assign({},e,r({},t.code,Object.assign({},n,{scrollViewOffset:t.scrollViewOffset})));default:return e}}t.a=a;var i=n(1)},function(e,t,n){"use strict";var r=n(13),a=n(855),i=n(856),o=Object(r.combineReducers)({listScreen:a.a,detailScreen:i.a});t.a=o},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case c.b.RESTAURANT.LIST.SET_SELECTED_TAB_INDEX:return t.index;case c.b.RESTAURANT.LIST.GO_BACK:return 0;default:return e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];switch(t.type){case c.b.RESTAURANT.LIST.SET_KEYWORD:return t.keyword;case c.b.RESTAURANT.LIST.GO_BACK:return"";default:return e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(t.extraParams&&t.extraParams.storeKey&&t.extraParams.storeKey.length>0)return Object.assign({},e);var n=e[t.orderFiled];switch(n=n||{},t.type){case c.b.RESTAURANT.LIST.GET_LIST_REQUEST:return Object.assign({},e,r({},t.orderFiled,Object.assign({},n,{isFetching:!0,pageIndex:t.pageIndex,keyword:t.keyword})));case c.b.RESTAURANT.LIST.GET_LIST_SUCCESS:var a=1===t.pageIndex?[]:n.dataList;return a=a||[],t.result.results&&(a=a.concat(t.result.results)),Object.assign({},e,r({},t.orderFiled,Object.assign({},n,{isFetching:!1,dataList:a,total:t.result.total,pageIndex:t.pageIndex,keyword:t.keyword,hasMore:t.result.total>a.length})));case c.b.RESTAURANT.LIST.GET_LIST_FAILURE:return Object.assign({},e,r({},t.orderFiled,Object.assign({},n,{isFetching:!1})));case c.b.RESTAURANT.LIST.GO_BACK:return{};case c.b.RESTAURANT.LIST.DELETE:return Object.assign({},e,r({},t.orderFiled,{isFetching:!1,dataList:[]}));case c.b.RESTAURANT.LIST.SET_LISTVIEW_OFFSET:return Object.assign({},e,r({},t.orderFiled,Object.assign({},n,{listViewOffset:t.listViewOffset})));default:return e}}var s=n(13),c=n(1),l=Object(s.combineReducers)({selectedTabIndex:a,keyword:i,groups:o});t.a=l},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=e[t.code];switch(n=n||{},t.type){case i.b.RESTAURANT.DETAIL.GET_DETAIL_REQUEST:return Object.assign({},e,r({},t.code,{isFetching:!0}));case i.b.RESTAURANT.DETAIL.GET_DETAIL_SUCCESS:return Object.assign({},e,r({},t.code,{isFetching:!1,detailItem:t.detailItem}));case i.b.RESTAURANT.DETAIL.GET_DETAIL_FAILURE:return Object.assign({},e,r({},t.code,{isFetching:!1}));case i.b.RESTAURANT.DETAIL.GO_BACK:var a=Object.assign({},e);return delete a[t.code],Object.assign({},a);case i.b.RESTAURANT.DETAIL.SET_DETAIL_SCROLL_OFFSET:return Object.assign({},e,r({},t.code,Object.assign({},n,{scrollViewOffset:t.scrollViewOffset})));default:return e}}t.a=a;var i=n(1)},function(e,t,n){"use strict";var r=n(13),a=n(858),i=Object(r.combineReducers)({listScreen:a.a});t.a=i},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case a.b.OVERVIEW.LIST.GO_BACK:return{};case a.b.OVERVIEW.LIST.SET_LISTVIEW_OFFSET:return Object.assign({},e,{scrollViewOffset:t.scrollViewOffset});default:return e}}t.a=r;var a=n(1)},function(e,t,n){"use strict";var r=n(13),a=n(860),i=Object(r.combineReducers)({listScreen:a.a});t.a=i},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case a.b.TRAFFIC.LIST.GO_BACK:return{};case a.b.TRAFFIC.LIST.SET_LISTVIEW_OFFSET:return Object.assign({},e,{scrollViewOffset:t.scrollViewOffset});default:return e}}t.a=r;var a=n(1)},function(e,t,n){"use strict";var r=n(13),a=n(862),i=Object(r.combineReducers)({signScreen:a.a});t.a=i},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case a.b.SIGN.GET_INFO_REQUEST:return Object.assign({},e,{isFetching:!0});case a.b.SIGN.GET_INFO_SUCCESS:return Object.assign({},e,{isFetching:!1,dataInfo:t.resp.datas});case a.b.SIGN.GET_INFO_FAILURE:return Object.assign({},e,{isFetching:!1});case a.b.SIGN.GO_BACK:return{};default:return e}}t.a=r;var a=n(1)},function(e,t,n){"use strict";var r=n(13),a=n(864),i=n(865),o=n(866),s=Object(r.combineReducers)({listScreen:a.a,detailScreen:i.a,bookingScreen:o.a});t.a=s},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case s.b.ORDER.LIST.SET_SELECTED_TAB_INDEX:return t.index;case s.b.ORDER.LIST.GO_BACK:return 0;default:return e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=e[t.orderType];switch(n=n||{},t.type){case s.b.ORDER.LIST.GET_LIST_REQUEST:return Object.assign({},e,r({},t.orderType,Object.assign({},n,{isFetching:!0,pageIndex:t.pageIndex,keyword:t.keyword})));case s.b.ORDER.LIST.GET_LIST_SUCCESS:var a=0===t.pageIndex?[]:n.dataList;return a=a||[],t.result.results&&(a=a.concat(t.result.results)),Object.assign({},e,r({},t.orderType,Object.assign({},n,{isFetching:!1,dataList:a,total:t.result.total,pageIndex:t.pageIndex,keyword:t.keyword,hasMore:t.result.total>a.length})));case s.b.ORDER.LIST.GET_LIST_FAILURE:return Object.assign({},e,r({},t.orderType,Object.assign({},n,{isFetching:!1})));case s.b.ORDER.LIST.GO_BACK:case s.b.COMMENTS.ADD_ORDER_COMMENTS_SUCCESS:return{};case s.b.ORDER.LIST.DELETE:var i=Object.assign({},e);return delete i[t.orderType],Object.assign({},i);case s.b.ORDER.LIST.SET_LISTVIEW_OFFSET:return Object.assign({},e,r({},t.orderType,Object.assign({},n,{listViewOffset:t.listViewOffset})));default:return e}}var o=n(13),s=n(1),c=Object(o.combineReducers)({selectedTabIndex:a,groups:i});t.a=c},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=e[t.orderNo];switch(n=n||{},t.type){case i.b.ORDER.DETAIL.GET_DETAIL_REQUEST:case i.b.ORDER.DETAIL.CHECK_STATUS_REQUEST:return Object.assign({},e,r({},t.orderNo,Object.assign({},n,{isFetching:!0,orderStatusChanged:!1})));case i.b.ORDER.DETAIL.GET_DETAIL_SUCCESS:case i.b.ORDER.DETAIL.CHECK_STATUS_SUCCESS:return Object.assign({},e,r({},t.orderNo,Object.assign({},n,{isFetching:!1,detailItem:t.detailItem,orderStatusChanged:t.orderStatusChanged})));case i.b.ORDER.DETAIL.GET_DETAIL_FAILURE:case i.b.ORDER.DETAIL.CHECK_STATUS_FAILURE:return Object.assign({},e,r({},t.orderNo,Object.assign({},n,{isFetching:!1,orderStatusChanged:!1})));case i.b.ORDER.DETAIL.GO_BACK:case i.b.COMMENTS.ADD_ORDER_COMMENTS_SUCCESS:var a=Object.assign({},e);return delete a[t.orderNo],Object.assign({},a);case i.b.ORDER.DETAIL.SET_DETAIL_SCROLL_OFFSET:return Object.assign({},e,r({},t.orderNo,Object.assign({},n,{scrollViewOffset:t.scrollViewOffset})));case i.b.ORDER.DETAIL.SET_DETAIL_ORDER_OPERATE_LIST:return Object.assign({},e,r({},t.orderNo,Object.assign({},n,{operateList:t.operateList})));case i.b.ORDER.DETAIL.GET_PAY_PARAMS_REQUEST:return delete n.payFailure,Object.assign({},e,r({},t.orderNo,Object.assign({},n,{isFetching:!0})));case i.b.ORDER.DETAIL.GET_PAY_PARAMS_SUCCESS:return Object.assign({},e,r({},t.orderNo,Object.assign({},n,{isFetching:!1,payParams:t.payParams})));case i.b.ORDER.DETAIL.GET_PAY_PARAMS_FAILURE:return Object.assign({},e,r({},t.orderNo,Object.assign({},n,{isFetching:!1,payFailure:t.payFailure})));default:return e}}t.a=a;var i=n(1)},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case l.b.ORDER.BOOKING.GET_PRICE_REQUEST:return Object.assign({},e,{isFetching:!0});case l.b.ORDER.BOOKING.GET_PRICE_SUCCESS:return Object.assign({},e,{isFetching:!1,priceItem:t.priceItem});case l.b.ORDER.BOOKING.GET_PRICE_FAILURE:return Object.assign({},e,{isFetching:!1});case l.b.ORDER.BOOKING.GO_BACK:return{};default:return e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case l.b.ORDER.BOOKING.GET_VISITORS_REQUEST:return Object.assign({},e,{isFetching:!0});case l.b.ORDER.BOOKING.GET_VISITORS_SUCCESS:return Object.assign({},e,{isFetching:!1,dataList:t.dataList});case l.b.ORDER.BOOKING.GET_VISITORS_FAILURE:return Object.assign({},e,{isFetching:!1});case l.b.ORDER.BOOKING.UPDATE_SELECT_VISITOR:var n=[].concat(t.resp);return Object.assign({},e,{selectDataList:n});case l.b.ORDER.BOOKING.UPDATE_VISITOR:var r=[].concat(t.resp);return Object.assign({},e,{dataList:r});case l.b.ORDER.BOOKING.GO_BACK:return{};default:return e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case l.b.ORDER.BOOKING.SET_SCROLL_OFFSET:return t.scrollViewOffset;case l.b.ORDER.BOOKING.GO_BACK:return 0;default:return e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orderNumber:1,playDate:(new Date).formatDate("YYYY-MM-DD"),totalPrice:0,unitPrice:0},t=arguments[1];switch(t.type){case l.b.ORDER.BOOKING.BACKUP_USERINFO:return e.userInfo&&e.userInfo.ID?e:Object.assign({},e,{userInfo:Object.assign({},t.userInfo)});case l.b.ORDER.BOOKING.UPDATE_USER_INFO:var n=Object.assign({},e.userInfo,t.userInfo);return Object.assign({},e,{userInfo:n});case l.b.ORDER.BOOKING.UPDATE_BOOKING_ITEM:var r=Object.assign({},e,t.bookingItem),a=r.orderDay?r.orderDay:1;return r.totalPrice=r.unitPrice*r.orderNumber*a,Object.assign({},r);case l.b.ORDER.BOOKING.GET_PRICE_SUCCESS:var i=parseFloat(t.priceItem.DefaultPrice),o=i*e.orderNumber;return Object.assign({},e,{unitPrice:i,totalPrice:o});case l.b.ORDER.BOOKING.GO_BACK:return{orderNumber:1,playDate:(new Date).formatDate("YYYY-MM-DD"),totalPrice:0};default:return e}}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case l.b.ORDER.BOOKING.UPDATE_ORDER_DETAIL_DATA:return t.orderDetailItem;default:return e}}var c=n(13),l=n(1),u=(n(21),Object(c.combineReducers)({price:r,visitor:a,scrollViewOffset:i,bookingItem:o,orderDetailItem:s}));t.a=u},function(e,t,n){"use strict";var r=n(13),a=n(868),i=Object(r.combineReducers)({weatherScreen:a.a});t.a=i},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case a.b.WEATHER.GET_WEATHER_REQUEST:return{isFetching:!0};case a.b.WEATHER.GET_WEATHER_SUCCESS:return{isFetching:!1,data:t.resp};case a.b.WEATHER.GET_WEATHER_FAILURE:return{isFetching:!1};case a.b.WEATHER.GO_BACK:return{};default:return e}}t.a=r;var a=n(1)},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(t.type&&t.type.endsWith("_GO_BACK")){return{hasloadPhotoBrowerIframe:!!e.hasloadPhotoBrowerIframe}}switch(t.type){case a.b.PHOTO_BROWSER.CLEAR_CONFIG_ITEMS:return{};case a.b.PHOTO_BROWSER.SET_CONFIG_ITEM:return Object.assign({},e,t.configItem);case a.b.PHOTO_BROWSER.SET_PHOTOBROWER_IFRAME_LOAD:return Object.assign({},e,{hasloadPhotoBrowerIframe:!0});default:return e}}t.a=r;var a=n(1)},function(e,t,n){"use strict";var r=n(13),a=n(871),i=Object(r.combineReducers)({listScreen:a.a});t.a=i},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=e[t.code];switch(n=n||{},t.type){case o.b.COMMENTS.LIST.GET_LIST_REQUEST:return Object.assign({},e,r({},t.code,Object.assign({},n,{isFetching:!0,pageIndex:t.pageIndex})));case o.b.COMMENTS.LIST.GET_LIST_SUCCESS:var a=1===t.pageIndex?[]:n.dataList;return a=a||[],t.result&&(a=a.concat(t.result)),Object.assign({},e,r({},t.code,Object.assign({},n,{isFetching:!1,dataList:a,total:t.result.TotalCount,pageIndex:t.pageIndex,hasMore:t.result.TotalCount>a.length})));case o.b.COMMENTS.LIST.GET_LIST_FAILURE:return Object.assign({},e,r({},t.code,Object.assign({},n,{isFetching:!1})));case o.b.COMMENTS.LIST.GO_BACK:var i=Object.assign({},e);return delete i[t.code],i;case o.b.COMMENTS.LIST.DELETE:return Object.assign({},e,r({},t.code,{isFetching:!1,dataList:[]}));case o.b.COMMENTS.LIST.SET_LISTVIEW_OFFSET:return Object.assign({},e,r({},t.code,Object.assign({},n,{listViewOffset:t.listViewOffset})));default:return e}}var i=n(13),o=n(1),s=Object(i.combineReducers)({groups:a});t.a=s},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=t.targetUserId+"_"+t.userId,i=e[n],s=i?i[t.dataType]:null;s=s||{};var c=Object.assign({},e);switch(t.type){case o.b.USERPROFILE.GET_FRIENDS_REQUEST:return Object.assign({},e,a({},n,Object.assign({},i,a({},t.dataType,Object.assign({},s,{isFetching:!0,pageIndex:t.pageIndex})))));case o.b.USERPROFILE.GET_FRIENDS_SUCCESS:var l=1===t.pageIndex?[]:s.dataList;return l=l||[],t.result.results&&(l=l.concat(t.result.results)),Object.assign({},e,a({},n,Object.assign({},i,a({},t.dataType,Object.assign({},s,{isFetching:!1,dataList:l,pageIndex:t.pageIndex,total:t.result.total,hasMore:t.result.total>l.length})))));case o.b.USERPROFILE.GET_FRIENDS_FAILURE:return Object.assign({},e,a({},n,Object.assign({},i,a({},t.dataType,Object.assign({},s,{isFetching:!1})))));case o.b.USERPROFILE.GO_BACK:return delete c[n],Object.assign({},c);case o.b.USERPROFILE.DELETE_FRIENDS_LIST:case o.b.USERPROFILE.DELETE_NUMBERS_INFO:case o.b.USERPROFILE.DELETE_FOOTMARK_LIST:return c[n]&&delete c[n][t.dataType],Object.assign({},c);case o.b.USERPROFILE.SET_LISTVIEW_OFFSET:return Object.assign({},e,a({},n,Object.assign({},i,a({},t.dataType,Object.assign({},s,{listViewOffset:t.listViewOffset})))));case o.b.USERPROFILE.SET_SELECTED_TAB_INDEX:return Object.assign({},e,a({},n,Object.assign({},i,{selectedTabIndex:t.index})));case o.b.USERPROFILE.GET_PROFILE_REQUEST:return Object.assign({},e,a({},n,Object.assign({},i,a({},t.dataType,Object.assign({},s,{isFetching:!0})))));case o.b.USERPROFILE.GET_PROFILE_SUCCESS:return Object.assign({},e,a({},n,Object.assign({},i,a({},t.dataType,Object.assign({},s,{isFetching:!1},t.result)))));case o.b.USERPROFILE.GET_PROFILE_FAILURE:return Object.assign({},e,a({},n,Object.assign({},i,a({},t.dataType,Object.assign({},s,{isFetching:!1})))));case o.b.USERPROFILE.GET_FOOTMARK_REQUEST:return Object.assign({},e,a({},n,Object.assign({},i,a({},t.dataType,Object.assign({},s,{isFetching:!0,pageIndex:t.pageIndex})))));case o.b.USERPROFILE.GET_FOOTMARK_SUCCESS:var u=1===t.pageIndex?[]:s.dataList;return u=u||[],t.result.results&&(u=u.concat(t.result.results)),Object.assign({},e,a({},n,Object.assign({},i,a({},t.dataType,Object.assign({},s,{isFetching:!1,dataList:u,pageIndex:t.pageIndex,total:t.result.total,hasMore:t.result.total>u.length})))));case o.b.USERPROFILE.GET_FOOTMARK_FAILURE:return Object.assign({},e,a({},n,Object.assign({},i,a({},t.dataType,Object.assign({},s,{isFetching:!1})))));case o.b.USERPROFILE.GET_NUMBERS_REQUEST:return Object.assign({},e,a({},n,Object.assign({},i,a({},t.dataType,Object.assign({},s,{isFetching:!0})))));case o.b.USERPROFILE.GET_NUMBERS_SUCCESS:return Object.assign({},e,a({},n,Object.assign({},i,a({},t.dataType,Object.assign({},s,{isFetching:!1},t.result)))));case o.b.USERPROFILE.GET_NUMBERS_FAILURE:return Object.assign({},e,a({},n,Object.assign({},i,a({},t.dataType,Object.assign({},s,{isFetching:!1})))));case o.b.USERPROFILE.GET_ISFOLLOW_REQUEST:return Object.assign({},e,a({},n,Object.assign({},i,{isFetching:!0})));case o.b.USERPROFILE.GET_ISFOLLOW_SUCCESS:return Object.assign({},e,a({},n,Object.assign({},i,{isFetching:!1,isFollowed:t.result})));case o.b.USERPROFILE.GET_ISFOLLOW_FAILURE:return Object.assign({},e,a({},n,Object.assign({},i,{isFetching:!1})));case o.b.USERPROFILE.GET_UPDATE_FOLLOW_REQUEST:return Object.assign({},e,a({},n,Object.assign({},i,{isFetching:!0})));case o.b.USERPROFILE.GET_UPDATE_FOLLOW_SUCCESS:var p=t.result;for(var d in e){var h=e[d];if(t.targetUserId+"_"+t.userId===d){var E;c[d]=Object.assign({},h,(E={isFetching:!1,isFollowed:!!p},a(E,o.g.FANS,{isRefresh:!0}),a(E,o.g.NUMBERSINFO,null),E))}else if(t.userId+"_"+t.userId===d){var m;c[d]=Object.assign({},h,(m={isFetching:!1},a(m,o.g.ATTENTIONS,{isRefresh:!0}),a(m,o.g.NUMBERSINFO,null),m))}h=c[d];for(var f in h)if(f===o.g.FANS||f===o.g.ATTENTIONS){var T=h[f];if(T&&T.dataList){for(var I=[].concat(r(T.dataList)),g=0;g<I.length;g++){var S=I[g];if(S.UserID+""===t.targetUserId){I[g]=Object.assign({},S,{IsAttention:p});break}}c[d][f]=Object.assign({},T,{dataList:I})}}}return Object.assign({},c);case o.b.USERPROFILE.GET_UPDATE_FOLLOW_FAILURE:return Object.assign({},e,a({},n,Object.assign({},i,{isFetching:!1})));case o.b.USERPROFILE.GET_UPDATE_FRIEND_ITEM_FOLLOW_REQUEST:return Object.assign({},e,a({},n,Object.assign({},i,a({},t.dataType,Object.assign({},s,{isFetching:!0})))));case o.b.USERPROFILE.GET_UPDATE_FRIEND_ITEM_FOLLOW_SUCCESS:var _=0===t.isFollowed?1:0;for(var b in e){var O=e[b];if(t.itemUserId+"_"+t.userId===b){var L;c[b]=Object.assign({},O,(L={isFollowed:!!_},a(L,o.g.FANS,{isRefresh:!0}),a(L,o.g.NUMBERSINFO,null),L))}else{if(t.userId+"_"+t.userId===b){var y;c[b]=Object.assign({},O,(y={},a(y,o.g.ATTENTIONS,{isRefresh:!0}),a(y,o.g.NUMBERSINFO,null),y))}O=c[b];var C=t.targetUserId+"_"+t.userId;for(var v in O)if(v===o.g.FANS||v===o.g.ATTENTIONS){var N=O[v];if(N&&N.dataList){for(var R=[].concat(r(N.dataList)),w=0;w<R.length;w++){var D=R[w];if(D.UserID===t.itemUserId){R[w]=Object.assign({},D,{IsAttention:_});break}}c[b][v]=Object.assign({},N,{dataList:R})}C===b&&v===t.dataType&&(c[b][v].isFetching=!1)}}}return Object.assign({},c);case o.b.USERPROFILE.SET_FRIEND_FOOTMARK_ITEM_PRAISE:var A=s.dataList,k=A[t.index];return k=Object.assign({},k,{IsLike:0===k.IsLike?1:0,LikeCount:0===k.IsLike?k.LikeCount+1:k.LikeCount-1}),A=A.slice(0,t.index).concat(k).concat(A.slice(t.index+1)),Object.assign({},e,a({},n,Object.assign({},i,a({},t.dataType,Object.assign({},s,{dataList:A})))));case o.b.USERPROFILE.SET_FRIEND_FOOTMARK_ITEM_COLLECT:var P=s.dataList,F=P[t.index];return F=Object.assign({},F,{IsCollection:0===F.IsCollection?1:0}),P=P.slice(0,t.index).concat(F).concat(P.slice(t.index+1)),Object.assign({},e,a({},n,Object.assign({},i,a({},t.dataType,Object.assign({},s,{dataList:P})))));case o.b.USERPROFILE.FOOTMARK_TOGGLE_EXPAND:var U=s.dataList,G=U[t.index];return G=Object.assign({},G,{isExpand:!G.isExpand}),U=U.slice(0,t.index).concat(G).concat(U.slice(t.index+1)),Object.assign({},e,a({},n,Object.assign({},i,a({},t.dataType,Object.assign({},s,{dataList:U})))));default:return e}}t.a=i;var o=n(1)}],[304]);
//# sourceMappingURL=main.eacd41d1.js.map