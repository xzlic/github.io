{"version":3,"sources":["../static/js/22.d02d995d.chunk.js","screens/footmark/MyFootmarkListScreen.js"],"names":["webpackJsonp","890","module","__webpack_exports__","__webpack_require__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","__WEBPACK_IMPORTED_MODULE_0_antd_mobile_lib_modal_style_css__","__WEBPACK_IMPORTED_MODULE_1_antd_mobile_lib_modal__","n","__WEBPACK_IMPORTED_MODULE_1_antd_mobile_lib_modal___default","__WEBPACK_IMPORTED_MODULE_2_antd_mobile_lib_nav_bar_style_css__","__WEBPACK_IMPORTED_MODULE_3_antd_mobile_lib_nav_bar__","__WEBPACK_IMPORTED_MODULE_3_antd_mobile_lib_nav_bar___default","__WEBPACK_IMPORTED_MODULE_4_antd_mobile_lib_icon_style_css__","__WEBPACK_IMPORTED_MODULE_5_antd_mobile_lib_icon__","__WEBPACK_IMPORTED_MODULE_5_antd_mobile_lib_icon___default","__WEBPACK_IMPORTED_MODULE_6_react__","__WEBPACK_IMPORTED_MODULE_6_react___default","__WEBPACK_IMPORTED_MODULE_7_react_redux__","__WEBPACK_IMPORTED_MODULE_8__views_common_Content__","__WEBPACK_IMPORTED_MODULE_9__core_utils_SysUtil__","__WEBPACK_IMPORTED_MODULE_10__views_footmark_FootmarkListView__","__WEBPACK_IMPORTED_MODULE_11__views_photo_brower_PhotoBrowerView__","__WEBPACK_IMPORTED_MODULE_12__assets_css_footmark_css__","_createClass","defineProperties","target","props","i","length","descriptor","key","protoProps","staticProps","MyFootmarkListScreen","_PureComponent","this","_this","getPrototypeOf","onItemClick","bind","onLineClick","toLoginPage","onSiteImageItemClick","createFootmarkViewTapped","myFootmarkEditClicking","_this2","listViewHeight","window","innerHeight","a","createElement","mode","className","icon","type","onLeftClick","history","goBack","rightContent","renderRightMenu","style","backgroundColor","footmarkType","ref","listView","getWrappedInstance","height","view","photoBrowserView","undefined","item","siteIndex","imageIndex","imageList","selectedIndex","GetShowList","siteItem","GetImage","ImageList","j","imageItem","push","BigImgSrc","open","selectedTabIndex","arguments","cacheScrollOffset","pathname","state","_this3","onClick","src","alt","userId","_this4","Status","alert","text","onPress","createFootMark","isEdit","footmarkItem","mapStateToProps","getUserId"],"mappings":"AAAAA,cAAc,KAERC,IACA,SAAUC,EAAQC,EAAqBC,GAE7C,YAuB8f,SAASC,GAAgBC,EAASC,GAAa,KAAKD,YAAoBC,IAAc,KAAM,IAAIC,WAAU,qCAAuC,QAASC,GAA2BC,EAAKC,GAAM,IAAID,EAAM,KAAM,IAAIE,gBAAe,4DAA8D,QAAOD,GAAqB,iBAAPA,IAA+B,mBAAPA,GAAwBD,EAALC,EAAW,QAASE,GAAUC,EAASC,GAAY,GAAuB,mBAAbA,IAAsC,OAAbA,EAAmB,KAAM,IAAIP,WAAU,iEAAkEO,GAAaD,GAASE,UAAUC,OAAOC,OAAOH,GAAYA,EAAWC,WAAWG,aAAaC,MAAMN,EAASO,YAAW,EAAMC,UAAS,EAAKC,cAAa,KAAWR,IAAWE,OAAOO,eAAeP,OAAOO,eAAeV,EAASC,GAAYD,EAASW,UAAUV,GAtBhyCE,OAAOS,eAAevB,EAAqB,cAAgBiB,OAAO,GAC7C,IAAIO,GAAgEvB,EAAoB,IAEpFwB,GADwExB,EAAoByB,EAAEF,GACxCvB,EAAoB,KAC1E0B,EAA8D1B,EAAoByB,EAAED,GACpFG,EAAkE3B,EAAoB,IAEtF4B,GAD0E5B,EAAoByB,EAAEE,GACxC3B,EAAoB,KAC5E6B,EAAgE7B,EAAoByB,EAAEG,GACtFE,EAA+D9B,EAAoB,IAEnF+B,GADuE/B,EAAoByB,EAAEK,GACxC9B,EAAoB,KACzEgC,EAA6DhC,EAAoByB,EAAEM,GACnFE,EAAsCjC,EAAoB,GAC1DkC,EAA8ClC,EAAoByB,EAAEQ,GACpEE,EAA4CnC,EAAoB,GAChEoC,EAAsDpC,EAAoB,IAC1EqC,EAAoDrC,EAAoB,IACxEsC,EAAkEtC,EAAoB,KACtFuC,EAAqEvC,EAAoB,IACzFwC,EAA0DxC,EAAoB,KAEnGyC,GADuFzC,EAAoByB,EAAEe,GAChG,WAAW,QAASE,GAAiBC,EAAOC,GAAO,IAAI,GAAIC,GAAE,EAAEA,EAAED,EAAME,OAAOD,IAAI,CAAC,GAAIE,GAAWH,EAAMC,EAAGE,GAAW9B,WAAW8B,EAAW9B,aAAY,EAAM8B,EAAW5B,cAAa,EAAQ,SAAU4B,KAAWA,EAAW7B,UAAS,GAAKL,OAAOS,eAAeqB,EAAOI,EAAWC,IAAID,IAAc,MAAO,UAAS5C,EAAY8C,EAAWC,GAAuI,MAAvHD,IAAWP,EAAiBvC,EAAYS,UAAUqC,GAAeC,GAAYR,EAAiBvC,EAAY+C,GAAoB/C,OCnBtegD,EDmB+zC,SAASC,GCjB10C,QAAAD,GAAYP,GACZ3C,EAAAoD,KAAAF,EAAA,IAAAG,GAAAjD,EAAAgD,MAAAF,EAAA9B,WAAAR,OAAA0C,eAAAJ,IAAA5C,KAAA8C,KACUT,GADV,OAEIU,GAAKE,YAAcF,EAAKE,YAAYC,KAAjBH,GACnBA,EAAKI,YAAcJ,EAAKI,YAAYD,KAAjBH,GACnBA,EAAKK,YAAcL,EAAKK,YAAYF,KAAjBH,GACnBA,EAAKM,qBAAuBN,EAAKM,qBAAqBH,KAA1BH,GAC5BA,EAAKO,yBAA2BP,EAAKO,yBAAyBJ,KAA9BH,GAChCA,EAAKQ,uBAAyBR,EAAKQ,uBAAuBL,KAA5BH,GAPlCA,EDgBigL,MAAvqI7C,GAAU0C,EAAqBC,GAA0lBX,EAAaU,IAAuBH,IAAI,SAAShC,MAAM,WCN1gE,GAAA+C,GAAAV,KACQW,EAAiBC,OAAOC,YAAgB,EAE5C,OACIhC,GAAAiC,EAAAC,cAAA,WACIlC,EAAAiC,EAAAC,cAAAvC,EAAAsC,GAAQE,KAAK,OACTC,UAAU,SACVC,KAAMrC,EAAAiC,EAAAC,cAAApC,EAAAmC,GAAMK,KAAK,SACjBC,YAAa,WACTV,EAAKnB,MAAM8B,QAAQC,UAEvBC,aAAcvB,KAAKwB,mBANvB,4BASA3C,EAAAiC,EAAAC,cAAChC,EAAA,GAAQ0C,OAAQC,gBAAiB,YAC9B7C,EAAAiC,EAAAC,cAAC9B,EAAA,GACG0C,aAAc,EACdC,IAAK,SAACC,GACCA,IAECnB,EAAKmB,SAAWA,EAASC,uBAGjC3B,YAAaH,KAAKG,YAClBE,YAAaL,KAAKK,YAClBE,qBAAsBP,KAAKO,qBAC3BD,YAAaN,KAAKM,YAClBG,uBAAwBT,KAAKS,uBAC7BsB,OAAQpB,IACZ9B,EAAAiC,EAAAC,cAAC7B,EAAA,GACG0C,IAAK,SAACI,GAAQtB,EAAKuB,iBAAmBD,EAAOA,EAAKF,yBAAuBI,WDxBw1GvC,IAAI,uBAAuBhC,MAAM,SC8Bj8GwE,EAAMC,EAAWC,GAIlC,IAAI,GAFAC,MACAC,EAAgB,EACZ/C,EAAI,EAAGA,EAAI2C,EAAKK,YAAY/C,OAAQD,IAC5C,CACI,GAAIiD,GAAWN,EAAKK,YAAYhD,EAChC,IAAGiD,GAAYA,EAASC,UAAYD,EAASC,SAASC,WAAaF,EAASC,SAASC,UAAUlD,OAAS,EAEpG,IAAI,GAAImD,GAAI,EAAGA,EAAIH,EAASC,SAASC,UAAUlD,OAAQmD,IACvD,CACI,GAAIC,GAAYJ,EAASC,SAASC,UAAUC,EACzCR,KAAc5C,GAAK6C,IAAeO,IAEjCL,EAAgBD,EAAU7C,QAE9B6C,EAAUQ,KAAKD,EAAUE,YAIlC/C,KAAKiC,kBAEJjC,KAAKiC,iBAAiBe,KAAKV,EAAWC,MDpDo9H5C,IAAI,cAAchC,MAAM,SCuD9gIwE,GAERnC,KAAKG,YAAYgC,EAAM,MDzDujIxC,IAAI,cAAchC,MAAM,SC2D9lIwE,GACZ,GADkBc,GAClBC,UAAAzD,OAAA,OAAAyC,KAAAgB,UAAA,GAAAA,UAAA,GADqC,CAE7Bf,KAIJnC,KAAK6B,SAASsB,oBACdnD,KAAKT,MAAM8B,QAAQyB,MACfM,SAAU,mBACVC,OACIlB,OACAc,0BDtE62ItD,IAAI,kBAAkBhC,MAAM,WC2Er5I,GAAA2F,GAAAtD,IACI,OACInB,GAAAiC,EAAAC,cAAA,OAAKE,UAAU,kBAAkBsC,QAAS,iBAAID,GAAK9C,6BAC/C3B,EAAAiC,EAAAC,cAAA,OAAKyC,IAAK7G,EAAQ,KAAkD8G,IAAI,SD9EuoJ9D,IAAI,2BAA2BhC,MAAM,WCoF5vJqC,KAAK6B,SAASsB,oBACVnD,KAAKT,MAAMmE,OAMX1D,KAAKT,MAAM8B,QAAQyB,MACfM,SAAU,qBALdpD,KAAKM,iBDvFq6JX,IAAI,cAAchC,MAAM,WCkGt8JqC,KAAKT,MAAM8B,QAAQyB,KAAK,gBDlG8+JnD,IAAI,yBAAyBhC,MAAM,SCoGthKwE,GACvB,GAAAwB,GAAA3D,IACuB,KAAhBmC,EAAKyB,OACJvF,EAAAyC,EAAM+C,MAAM,eAAM,uHACZC,KAAM,eAAMrC,MAAO,YACnBqC,KAAM,eAAMC,QAAS,iBAAMJ,GAAKK,eAAe7B,OAGrDnC,KAAKgE,eAAe7B,MD5G00KxC,IAAI,iBAAiBhC,MAAM,SCgHl3KwE,GACXnC,KAAKT,MAAM8B,QAAQyB,MACfM,SAAU,mBACVC,OACIY,QAAQ,EACRC,aAAc/B,SDrH8+KrC,GCnBz+KlB,EAAA,eA8I7BuF,EAAkB,SAASd,GAE7B,OACIK,OAAQ1E,EAAA,EAAQoF,UAAUf,IAIlCvD,GAAuBtC,OAAAsB,EAAA,GAAQqF,GAAiBrE,GAEhDpD,EAAA","file":"static/js/22.d02d995d.chunk.js","sourcesContent":["webpackJsonp([22],{\n\n/***/ 890:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_antd_mobile_lib_modal_style_css__ = __webpack_require__(39);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_antd_mobile_lib_modal_style_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_antd_mobile_lib_modal_style_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_antd_mobile_lib_modal__ = __webpack_require__(40);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_antd_mobile_lib_modal___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_antd_mobile_lib_modal__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_antd_mobile_lib_nav_bar_style_css__ = __webpack_require__(11);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_antd_mobile_lib_nav_bar_style_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_antd_mobile_lib_nav_bar_style_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_antd_mobile_lib_nav_bar__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_antd_mobile_lib_nav_bar___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_antd_mobile_lib_nav_bar__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_antd_mobile_lib_icon_style_css__ = __webpack_require__(18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_antd_mobile_lib_icon_style_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_antd_mobile_lib_icon_style_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_antd_mobile_lib_icon__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_antd_mobile_lib_icon___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_antd_mobile_lib_icon__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_react_redux__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__views_common_Content__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__core_utils_SysUtil__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__views_footmark_FootmarkListView__ = __webpack_require__(291);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__views_photo_brower_PhotoBrowerView__ = __webpack_require__(41);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__assets_css_footmark_css__ = __webpack_require__(116);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__assets_css_footmark_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_12__assets_css_footmark_css__);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var MyFootmarkListScreen=function(_PureComponent){_inherits(MyFootmarkListScreen,_PureComponent);function MyFootmarkListScreen(props){_classCallCheck(this,MyFootmarkListScreen);var _this=_possibleConstructorReturn(this,(MyFootmarkListScreen.__proto__||Object.getPrototypeOf(MyFootmarkListScreen)).call(this,props));_this.onItemClick=_this.onItemClick.bind(_this);_this.onLineClick=_this.onLineClick.bind(_this);_this.toLoginPage=_this.toLoginPage.bind(_this);_this.onSiteImageItemClick=_this.onSiteImageItemClick.bind(_this);_this.createFootmarkViewTapped=_this.createFootmarkViewTapped.bind(_this);_this.myFootmarkEditClicking=_this.myFootmarkEditClicking.bind(_this);return _this;}_createClass(MyFootmarkListScreen,[{key:'render',value:function render(){var _this2=this;var listViewHeight=window.innerHeight-44;return __WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('div',null,__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd_mobile_lib_nav_bar___default.a,{mode:'dark',className:'navBar',icon:__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_antd_mobile_lib_icon___default.a,{type:'left'}),onLeftClick:function onLeftClick(){_this2.props.history.goBack();},rightContent:this.renderRightMenu()},'\\u6211\\u7684\\u8DB3\\u8FF9'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8__views_common_Content__[\"a\" /* default */],{style:{backgroundColor:'#eeeef6'}},__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_10__views_footmark_FootmarkListView__[\"a\" /* default */],{footmarkType:3,ref:function ref(listView){if(listView){_this2.listView=listView.getWrappedInstance();}},onItemClick:this.onItemClick,onLineClick:this.onLineClick,onSiteImageItemClick:this.onSiteImageItemClick,toLoginPage:this.toLoginPage,myFootmarkEditClicking:this.myFootmarkEditClicking,height:listViewHeight}),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_11__views_photo_brower_PhotoBrowerView__[\"a\" /* default */],{ref:function ref(view){_this2.photoBrowserView=view?view.getWrappedInstance():undefined;}})));}},{key:'onSiteImageItemClick',value:function onSiteImageItemClick(item,siteIndex,imageIndex){var imageList=[];var selectedIndex=0;for(var i=0;i<item.GetShowList.length;i++){var siteItem=item.GetShowList[i];if(siteItem&&siteItem.GetImage&&siteItem.GetImage.ImageList&&siteItem.GetImage.ImageList.length>0){for(var j=0;j<siteItem.GetImage.ImageList.length;j++){var imageItem=siteItem.GetImage.ImageList[j];if(siteIndex===i&&imageIndex===j){selectedIndex=imageList.length;}imageList.push(imageItem.BigImgSrc);}}}if(this.photoBrowserView){this.photoBrowserView.open(imageList,selectedIndex);}}},{key:'onLineClick',value:function onLineClick(item){this.onItemClick(item,0);}},{key:'onItemClick',value:function onItemClick(item){var selectedTabIndex=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;if(!item){return;}this.listView.cacheScrollOffset();this.props.history.push({pathname:'/footmark/detail',state:{item:item,selectedTabIndex:selectedTabIndex}});}},{key:'renderRightMenu',value:function renderRightMenu(){var _this3=this;return __WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('div',{className:'footmarkAddMenu',onClick:function onClick(){return _this3.createFootmarkViewTapped();}},__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('img',{src:__webpack_require__(287),alt:''}));}},{key:'createFootmarkViewTapped',value:function createFootmarkViewTapped(){this.listView.cacheScrollOffset();if(!this.props.userId){this.toLoginPage();}else{this.props.history.push({pathname:'/footmark/create'});}}},{key:'toLoginPage',value:function toLoginPage(){this.props.history.push('/me/login');}},{key:'myFootmarkEditClicking',value:function myFootmarkEditClicking(item){var _this4=this;if(item.Status===1){__WEBPACK_IMPORTED_MODULE_1_antd_mobile_lib_modal___default.a.alert('提示','该足迹已审核通过，再次编辑将重新审核！',[{text:'取消',style:'default'},{text:'确定',onPress:function onPress(){return _this4.createFootMark(item);}}]);}else{this.createFootMark(item);}}},{key:'createFootMark',value:function createFootMark(item){this.props.history.push({pathname:'/footmark/create',state:{isEdit:true,footmarkItem:item}});}}]);return MyFootmarkListScreen;}(__WEBPACK_IMPORTED_MODULE_6_react__[\"PureComponent\"]);var mapStateToProps=function mapStateToProps(state){return{userId:__WEBPACK_IMPORTED_MODULE_9__core_utils_SysUtil__[\"a\" /* default */].getUserId(state)};};MyFootmarkListScreen=Object(__WEBPACK_IMPORTED_MODULE_7_react_redux__[\"b\" /* connect */])(mapStateToProps)(MyFootmarkListScreen);/* harmony default export */ __webpack_exports__[\"default\"] = (MyFootmarkListScreen);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/22.d02d995d.chunk.js","import React, { PureComponent } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { NavBar, Icon, Modal } from 'antd-mobile';\r\nimport Content from '../../views/common/Content';\r\nimport SysUtil from '../../core/utils/SysUtil';\r\nimport FootmarkListView from '../../views/footmark/FootmarkListView';\r\nimport PhotoBrowserView from '../../views/photo-brower/PhotoBrowerView';\r\nimport '../../assets/css/footmark.css';\r\n\r\nclass MyFootmarkListScreen extends PureComponent\r\n{\r\n    constructor(props)\r\n    {\r\n        super(props);\r\n        this.onItemClick = this.onItemClick.bind(this);\r\n        this.onLineClick = this.onLineClick.bind(this);\r\n        this.toLoginPage = this.toLoginPage.bind(this);\r\n        this.onSiteImageItemClick = this.onSiteImageItemClick.bind(this);\r\n        this.createFootmarkViewTapped = this.createFootmarkViewTapped.bind(this);\r\n        this.myFootmarkEditClicking = this.myFootmarkEditClicking.bind(this);\r\n    }\r\n    render()\r\n    {\r\n        let listViewHeight = window.innerHeight - ( 44);\r\n\r\n        return (\r\n            <div>\r\n                <NavBar mode=\"dark\" \r\n                    className=\"navBar\"\r\n                    icon={<Icon type=\"left\" />}\r\n                    onLeftClick={() => {\r\n                        this.props.history.goBack();\r\n                    }}\r\n                    rightContent={this.renderRightMenu()}>\r\n                    我的足迹\r\n                </NavBar>\r\n                <Content style={{backgroundColor: '#eeeef6'}}>\r\n                    <FootmarkListView \r\n                        footmarkType={3}\r\n                        ref={(listView)=>{\r\n                            if(listView)\r\n                            {\r\n                                this.listView = listView.getWrappedInstance();\r\n                            }\r\n                        }}\r\n                        onItemClick={this.onItemClick}\r\n                        onLineClick={this.onLineClick}\r\n                        onSiteImageItemClick={this.onSiteImageItemClick}\r\n                        toLoginPage={this.toLoginPage}\r\n                        myFootmarkEditClicking={this.myFootmarkEditClicking}\r\n                        height={listViewHeight} />\r\n                    <PhotoBrowserView \r\n                        ref={(view)=>{this.photoBrowserView = view ? view.getWrappedInstance() : undefined;}}\r\n                    />\r\n                </Content>\r\n            </div>\r\n        );\r\n    }\r\n    onSiteImageItemClick(item, siteIndex, imageIndex)\r\n    {\r\n        let imageList = [];\r\n        let selectedIndex = 0;\r\n        for(let i = 0; i < item.GetShowList.length; i++)\r\n        {\r\n            let siteItem = item.GetShowList[i];\r\n            if(siteItem && siteItem.GetImage && siteItem.GetImage.ImageList && siteItem.GetImage.ImageList.length > 0)\r\n            {\r\n                for(let j = 0; j < siteItem.GetImage.ImageList.length; j++)\r\n                {\r\n                    let imageItem = siteItem.GetImage.ImageList[j];\r\n                    if(siteIndex === i && imageIndex === j)\r\n                    {\r\n                        selectedIndex = imageList.length;\r\n                    }\r\n                    imageList.push(imageItem.BigImgSrc);\r\n                }\r\n            }\r\n        }\r\n        if(this.photoBrowserView)\r\n        {\r\n            this.photoBrowserView.open(imageList, selectedIndex);\r\n        }\r\n    }\r\n    onLineClick(item)\r\n    {\r\n        this.onItemClick(item, 0);\r\n    }\r\n    onItemClick(item, selectedTabIndex = 1)\r\n    {\r\n        if(!item)\r\n        {\r\n            return;\r\n        }\r\n        this.listView.cacheScrollOffset();\r\n        this.props.history.push({\r\n            pathname: '/footmark/detail',\r\n            state: {\r\n                item,\r\n                selectedTabIndex,\r\n            }\r\n        });\r\n    }\r\n    renderRightMenu()\r\n    {\r\n        return (\r\n            <div className=\"footmarkAddMenu\" onClick={()=>this.createFootmarkViewTapped()}>\r\n                <img src={require('../../assets/images/add_public_account@2x.png')} alt=''/>\r\n            </div>\r\n        );\r\n    }\r\n    createFootmarkViewTapped()\r\n    {\r\n        this.listView.cacheScrollOffset();\r\n        if(!this.props.userId)\r\n        {\r\n            this.toLoginPage();\r\n        }\r\n        else\r\n        {\r\n            this.props.history.push({\r\n                pathname: '/footmark/create'\r\n            });\r\n        }\r\n    }\r\n    toLoginPage()\r\n    {\r\n        this.props.history.push('/me/login');\r\n    }\r\n    myFootmarkEditClicking(item)\r\n    {\r\n        if(item.Status === 1){\r\n            Modal.alert('提示', '该足迹已审核通过，再次编辑将重新审核！', [\r\n                { text: '取消', style: 'default' },\r\n                { text: '确定', onPress: () => this.createFootMark(item)},\r\n            ]);\r\n        } else {\r\n            this.createFootMark(item);\r\n        }\r\n    }\r\n\r\n    createFootMark(item){\r\n        this.props.history.push({\r\n            pathname: '/footmark/create', \r\n            state:{\r\n                isEdit: true,\r\n                footmarkItem: item\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nconst mapStateToProps = function(state)\r\n{\r\n    return {\r\n        userId: SysUtil.getUserId(state)\r\n    };\r\n};\r\n\r\nMyFootmarkListScreen = connect(mapStateToProps)(MyFootmarkListScreen);\r\n\r\nexport default MyFootmarkListScreen;\n\n\n// WEBPACK FOOTER //\n// ./src/screens/footmark/MyFootmarkListScreen.js"],"sourceRoot":""}