webpackJsonp([23],{888:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(39),c=(n.n(a),n(40)),l=n.n(c),s=n(34),f=(n.n(s),n(35)),u=n.n(f),m=n(11),p=(n.n(m),n(12)),h=n.n(p),k=n(0),g=n.n(k),d=n(2),b=n(10),y=n(15),I=n(291),C=n(41),v=n(303),w=n(23),P=n(116),L=(n.n(P),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),E=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.tabs=[{title:"\u63a8\u8350",footmarkType:1},{title:"\u6700\u65b0",footmarkType:0},{title:"\u6211\u7684",footmarkType:3}],n.onItemClick=n.onItemClick.bind(n),n.onLineClick=n.onLineClick.bind(n),n.toLoginPage=n.toLoginPage.bind(n),n.onSiteImageItemClick=n.onSiteImageItemClick.bind(n),n.createFootmarkViewTapped=n.createFootmarkViewTapped.bind(n),n.myFootmarkEditClicking=n.myFootmarkEditClicking.bind(n),n.friendProfileClicking=n.friendProfileClicking.bind(n),n.createFootMark=n.createFootMark.bind(n),n}return r(t,e),L(t,[{key:"render",value:function(){var e=this,t=window.innerHeight-89;return g.a.createElement("div",null,g.a.createElement(h.a,{mode:"dark",className:"navBar",leftContent:g.a.createElement(w.a,{ref:function(t){e.LeftContentView=t?t.getWrappedInstance():e.scrollView},goBackAction:v.e,history:this.props.history}),onLeftClick:function(){e.LeftContentView.goHome()},rightContent:this.renderRightMenu()},"\u8db3\u8ff9"),g.a.createElement(b.a,{style:{backgroundColor:"#eeeef6"}},g.a.createElement(u.a,{tabs:this.tabs,initialPage:this.props.selectedTabIndex,prerenderingSiblingsNumber:0,onChange:function(t,n){e.props.dispatch(Object(v.g)(n))},onTabClick:function(e,t){console.log("onTabClick",t,e)}},this.tabs.map(function(n,i){return g.a.createElement(I.a,{key:i,footmarkType:n.footmarkType,ref:function(t){t&&(e.tabs[i].listView=t.getWrappedInstance())},onItemClick:e.onItemClick,onLineClick:e.onLineClick,onSiteImageItemClick:e.onSiteImageItemClick,toLoginPage:e.toLoginPage,myFootmarkEditClicking:e.myFootmarkEditClicking,friendProfileClicking:e.friendProfileClicking,height:t})})),g.a.createElement(C.a,{ref:function(t){e.photoBrowserView=t?t.getWrappedInstance():void 0}})))}},{key:"onSiteImageItemClick",value:function(e,t,n){for(var i=[],o=0,r=0;r<e.GetShowList.length;r++){var a=e.GetShowList[r];if(a&&a.GetImage&&a.GetImage.ImageList&&a.GetImage.ImageList.length>0)for(var c=0;c<a.GetImage.ImageList.length;c++){var l=a.GetImage.ImageList[c];t===r&&n===c&&(o=i.length),i.push(l.BigImgSrc)}}this.photoBrowserView&&this.photoBrowserView.open(i,o)}},{key:"onLineClick",value:function(e){this.onItemClick(e,0)}},{key:"onItemClick",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(e){for(var n=0;n<this.tabs.length;n++){var i=this.tabs[n].listView;i&&i.cacheScrollOffset()}this.props.history.push({pathname:"/footmark/detail",state:{item:e,selectedTabIndex:t}})}}},{key:"renderRightMenu",value:function(){var e=this;return g.a.createElement("div",{className:"footmarkAddMenu",onClick:function(){return e.createFootmarkViewTapped()}},g.a.createElement("img",{src:n(287),alt:""}))}},{key:"createFootmarkViewTapped",value:function(){for(var e=0;e<this.tabs.length;e++){var t=this.tabs[e].listView;t&&t.cacheScrollOffset()}this.props.userId?this.props.history.push({pathname:"/footmark/create"}):this.toLoginPage()}},{key:"toLoginPage",value:function(){this.props.history.push("/me/login")}},{key:"myFootmarkEditClicking",value:function(e){var t=this;1===e.Status?l.a.alert("\u63d0\u793a","\u8be5\u8db3\u8ff9\u5df2\u5ba1\u6838\u901a\u8fc7\uff0c\u518d\u6b21\u7f16\u8f91\u5c06\u91cd\u65b0\u5ba1\u6838\uff01",[{text:"\u53d6\u6d88",style:"default"},{text:"\u786e\u5b9a",onPress:function(){return t.createFootMark(e)}}]):this.createFootMark(e)}},{key:"createFootMark",value:function(e){this.props.history.push({pathname:"/footmark/create",state:{isEdit:!0,footmarkItem:e}})}},{key:"friendProfileClicking",value:function(e){this.props.history.push({pathname:"/userProfile/friendProfile",search:"?targetUserId="+e.UserID})}}]),t}(k.PureComponent),T=function(e){return{selectedTabIndex:e.footmark.listScreen.selectedTabIndex,userId:y.a.getUserId(e)}};E=Object(d.b)(T)(E),t.default=E}});
//# sourceMappingURL=23.eff813c6.chunk.js.map