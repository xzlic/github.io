{"version":3,"sources":["../static/js/3.45d2f5c3.chunk.js","screens/scenic/ScenicDetailScreen.js","store/actions/scenic/detailAction.js","assets/images/scenic/ico_a_full@2x.png","assets/images/scenic/ico_a_empty@2x.png","assets/images/more@2x.png"],"names":["webpackJsonp","859","module","__webpack_exports__","__webpack_require__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","__WEBPACK_IMPORTED_MODULE_0_antd_mobile_lib_carousel_style_css__","__WEBPACK_IMPORTED_MODULE_1_antd_mobile_lib_carousel__","n","__WEBPACK_IMPORTED_MODULE_1_antd_mobile_lib_carousel___default","__WEBPACK_IMPORTED_MODULE_2_antd_mobile_lib_activity_indicator_style_css__","__WEBPACK_IMPORTED_MODULE_3_antd_mobile_lib_activity_indicator__","__WEBPACK_IMPORTED_MODULE_3_antd_mobile_lib_activity_indicator___default","__WEBPACK_IMPORTED_MODULE_4_antd_mobile_lib_nav_bar_style_css__","__WEBPACK_IMPORTED_MODULE_5_antd_mobile_lib_nav_bar__","__WEBPACK_IMPORTED_MODULE_5_antd_mobile_lib_nav_bar___default","__WEBPACK_IMPORTED_MODULE_6_antd_mobile_lib_icon_style_css__","__WEBPACK_IMPORTED_MODULE_7_antd_mobile_lib_icon__","__WEBPACK_IMPORTED_MODULE_7_antd_mobile_lib_icon___default","__WEBPACK_IMPORTED_MODULE_8_react__","__WEBPACK_IMPORTED_MODULE_8_react___default","__WEBPACK_IMPORTED_MODULE_9_react_redux__","__WEBPACK_IMPORTED_MODULE_10_rc_progress__","__WEBPACK_IMPORTED_MODULE_11_react_dom__","__WEBPACK_IMPORTED_MODULE_11_react_dom___default","__WEBPACK_IMPORTED_MODULE_12__views_common_Content__","__WEBPACK_IMPORTED_MODULE_13__core_utils_IConstant__","__WEBPACK_IMPORTED_MODULE_14__core_utils_SysUtil__","__WEBPACK_IMPORTED_MODULE_15__store_actions_scenic_detailAction__","__WEBPACK_IMPORTED_MODULE_16__views_common_ImageBrowserView__","__WEBPACK_IMPORTED_MODULE_17__assets_css_scenic_css__","_createClass","defineProperties","target","props","i","length","descriptor","key","protoProps","staticProps","ScenicDetailScreen","_Component","this","_this","getPrototypeOf","state","AvgGrade","Grade1","Grade2","Grade3","Grade4","index","showImageBrowser","imageList","showSceneryList","bind","showElementMarkerMap","detailItem","startScoreAnimation","loadData","restoreScrollViewPosition","nextProps","_this2","a","createElement","mode","className","icon","type","onLeftClick","code","match","params","dispatch","history","goBack","ref","view","scrollView","renderHeaderView","renderScoreView","renderTicketListView","renderMapView","renderBasicViews","renderSceneryListView","isFetching","toast","text","isOpen","hiddenImageBrowser","setState","_this3","ticketList","map","item","renderTicketItemView","_this4","ticketItem","onClick","showBooking","NAME","SalePrice","isUserLogined","push","scenicCode","CODE","TICKET","star","Zdxmc","starImg","starEmptyImg","renderHeaderImages","CnName","Array","fill","src","alt","GetImage","ImageList","percent","strokeWidth","trailWidth","strokeColor","trailColor","style","flex","toFixed","_this5","afterChange","imageChage","autoplay","dots","swiping","infinite","selectedIndex","swipeSpeed","backgroundImage","ImgSrc","_this6","Longitude","Latitude","width","window","innerWidth","imgUrl","_this7","Address","Telephone","open","Businestime","Summary","_this8","sceneryList","renderSceneryView","_this9","ImageFrontUrl","showSceneryDetail","_this10","then","offsetY","findDOMNode","scrollTop","isNaN","scrollViewOffset","scrollToY","cacheScrollOffset","Code","_this11","setTimeout","imageItem","replace","mapStateToProps","ownProps","obj","scenic","detailScreen","assign","865","goBackAction","__WEBPACK_IMPORTED_MODULE_0__core_utils_IConstant__","SCENIC","DETAIL","GO_BACK","asyncGetDetailAction","getState","_getDetailRequestAction","_fetchDetail","resp","results","_getDetailSuccessAction","catch","error","_getDetailFailureAction","asyncGetTicketListAction","_getTicketListRequestAction","_fetchTicketList","_getTicketListSuccessAction","_getTicketListFailureAction","asyncGetSceneryListAction","_getGetSceneryListRequestAction","_fetchGetSceneryList","_getGetSceneryListSuccessAction","_getGetSceneryListFailureAction","setDetailScrollerPositionAction","offset","SET_DETAIL_SCROLL_OFFSET","setSceneryListScrollerPositionAction","SET_SCENERY_LIST_SCROLL_OFFSET","setSceneryDetailScrollerPositionAction","sceneryCode","SET_SCENERY_DETAIL_SCROLL_OFFSET","url","__WEBPACK_IMPORTED_MODULE_1__core_utils_HttpClient__","HOST_E_BUSINESS","kvDict","getData","json","GET_SCENERY_LIST_REQUEST","GET_SCENERY_LIST_SUCCESS","GET_SCENERY_LIST_FAILURE","message","now","Date","date","getFullYear","getMonth","getDate","selecttime","GET_TICKET_LIST_REQUEST","GET_TICKET_LIST_SUCCESS","GET_TICKET_LIST_FAILURE","GET_DETAIL_REQUEST","GET_DETAIL_SUCCESS","GET_DETAIL_FAILURE","867","exports","p","868","905"],"mappings":"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","file":"static/js/3.45d2f5c3.chunk.js","sourcesContent":["webpackJsonp([3],{\n\n/***/ 859:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_antd_mobile_lib_carousel_style_css__ = __webpack_require__(35);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_antd_mobile_lib_carousel_style_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_antd_mobile_lib_carousel_style_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_antd_mobile_lib_carousel__ = __webpack_require__(36);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_antd_mobile_lib_carousel___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_antd_mobile_lib_carousel__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_antd_mobile_lib_activity_indicator_style_css__ = __webpack_require__(17);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_antd_mobile_lib_activity_indicator_style_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_antd_mobile_lib_activity_indicator_style_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_antd_mobile_lib_activity_indicator__ = __webpack_require__(18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_antd_mobile_lib_activity_indicator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_antd_mobile_lib_activity_indicator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_antd_mobile_lib_nav_bar_style_css__ = __webpack_require__(11);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_antd_mobile_lib_nav_bar_style_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_antd_mobile_lib_nav_bar_style_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_antd_mobile_lib_nav_bar__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_antd_mobile_lib_nav_bar___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_antd_mobile_lib_nav_bar__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_antd_mobile_lib_icon_style_css__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_antd_mobile_lib_icon_style_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_antd_mobile_lib_icon_style_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_antd_mobile_lib_icon__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_antd_mobile_lib_icon___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_antd_mobile_lib_icon__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_react_redux__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_rc_progress__ = __webpack_require__(50);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_rc_progress___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_rc_progress__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_react_dom__ = __webpack_require__(16);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_react_dom___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11_react_dom__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__views_common_Content__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__core_utils_IConstant__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__core_utils_SysUtil__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__store_actions_scenic_detailAction__ = __webpack_require__(865);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__views_common_ImageBrowserView__ = __webpack_require__(45);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__assets_css_scenic_css__ = __webpack_require__(272);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__assets_css_scenic_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_17__assets_css_scenic_css__);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var ScenicDetailScreen=function(_Component){_inherits(ScenicDetailScreen,_Component);function ScenicDetailScreen(props){_classCallCheck(this,ScenicDetailScreen);var _this=_possibleConstructorReturn(this,(ScenicDetailScreen.__proto__||Object.getPrototypeOf(ScenicDetailScreen)).call(this,props));_this.state={AvgGrade:0,Grade1:0,Grade2:0,Grade3:0,Grade4:0,index:1,showImageBrowser:false,imageList:[]};_this.showSceneryList=_this.showSceneryList.bind(_this);_this.showElementMarkerMap=_this.showElementMarkerMap.bind(_this);_this.showImageBrowser=_this.showImageBrowser.bind(_this);return _this;}_createClass(ScenicDetailScreen,[{key:'componentDidMount',value:function componentDidMount(){if(!this.props.detailItem){this.loadData();}else{this.startScoreAnimation(this.props.detailItem);}this.restoreScrollViewPosition();}},{key:'componentWillReceiveProps',value:function componentWillReceiveProps(nextProps){if(nextProps.detailItem!==this.props.detailItem&&nextProps.detailItem){this.startScoreAnimation(nextProps.detailItem);}}},{key:'render',value:function render(){var _this2=this;return __WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',null,__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_antd_mobile_lib_nav_bar___default.a,{mode:'dark',className:'navBar',icon:__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7_antd_mobile_lib_icon___default.a,{type:'left'}),onLeftClick:function onLeftClick(){var code=_this2.props.match.params.code;var dispatch=_this2.props.dispatch;_this2.props.history.goBack();dispatch(Object(__WEBPACK_IMPORTED_MODULE_15__store_actions_scenic_detailAction__[\"d\" /* goBackAction */])(code));}},'\\u666F\\u533A\\u8BE6\\u60C5'),__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_12__views_common_Content__[\"a\" /* default */],{ref:function ref(view){_this2.scrollView=view;}},this.renderHeaderView(),this.renderScoreView(),this.renderTicketListView(),this.renderMapView(),this.renderBasicViews(),this.renderSceneryListView(),this.props.isFetching?__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd_mobile_lib_activity_indicator___default.a,{toast:true,text:'Loading...'}):null,__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_16__views_common_ImageBrowserView__[\"a\" /* default */],{imageList:this.state.imageList,isOpen:this.state.showImageBrowser,hiddenImageBrowser:function hiddenImageBrowser(){_this2.setState({showImageBrowser:false});}})));}},{key:'renderTicketListView',value:function renderTicketListView(){var _this3=this;if(!this.props.ticketList||this.props.ticketList.length===0){return null;}return this.props.ticketList.map(function(item,index){return _this3.renderTicketItemView(index);});}},{key:'renderTicketItemView',value:function renderTicketItemView(index){var _this4=this;var ticketItem=this.props.ticketList[index];return __WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{key:index,onClick:function onClick(){return _this4.showBooking(ticketItem);}},__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'ticketItemRow'},__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'ticketItemLeft'},__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'ticketItemName'},ticketItem.NAME),__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'ticketItemTags'},__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'ticketItemTag'},'\\u5B98\\u65B9'),__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'ticketItemTag'},'\\u5B9E\\u540D\\u5236'),__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'ticketItemTag'},'\\u5FEB\\u901F\\u5165\\u56ED'))),__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'ticketItemRight'},__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'ticketItemPrice'},__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'ticketItemPriceLabel'},'\\xA5'),__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'ticketItemPriceValue'},ticketItem.SalePrice)),__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'ticketItemButton'},'\\u7ACB\\u5373\\u9884\\u8BA2'))),index===this.props.ticketList.length-1?null:__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'ticketItemSplitLine'}));}},{key:'showBooking',value:function showBooking(ticketItem){if(!this.props.isUserLogined){this.props.history.push('/me/login');return;}var scenicCode=this.props.match.params.code;this.props.history.push('/order/booking/'+scenicCode+'/'+ticketItem.CODE+'/'+__WEBPACK_IMPORTED_MODULE_13__core_utils_IConstant__[\"f\" /* ORDER_TYPE */].TICKET);}},{key:'renderHeaderView',value:function renderHeaderView(){if(!this.props.detailItem){return null;}var star=this.props.detailItem.Zdxmc.length;var starImg=__webpack_require__(867);var starEmptyImg=__webpack_require__(868);return __WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'scenicDetailHeader',onClick:this.showImageBrowser},this.renderHeaderImages(),__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'scenicDetailHeaderBottom'},__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'scenicDetailHeaderBottomText'},this.props.detailItem.CnName),__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'scenicDetailHeaderBottomView'},__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'scenicDetailHeaderBottomStars'},new Array(5).fill(0).map(function(item,index){return __WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('img',{key:index,className:'scenicDetailHeaderBottomStar',src:index<star?starImg:starEmptyImg,alt:''});})),__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'scenicDetailHeaderBottomText'},this.state.index,'/',this.props.detailItem.GetImage.ImageList.length))));}},{key:'renderScoreView',value:function renderScoreView(){if(!this.props.detailItem){return null;}return __WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'scenicScoreView'},__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'scenicScoreCircle'},__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_10_rc_progress__[\"Circle\"],{percent:this.state.AvgGrade*20,strokeWidth:'6',trailWidth:'6',strokeColor:'#42a6dc',trailColor:'#f0f0f0'}),__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'scenicScoreCircleTextBox'},__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{style:{flex:1}}),__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'scenicScoreCircleTextSubBox'},__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'scenicScoreCircleText'},this.state.AvgGrade.toFixed(1)),__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'scenicScoreCircleUnit'},'\\u5206')),__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{style:{flex:1}}))),__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'scenicScoreLines'},__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'scenicScoreLine'},__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'scenicScoreLineLabel'},'\\u4EF7\\u683C'),__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_10_rc_progress__[\"Line\"],{className:'scenicScoreLineProgress',percent:this.state.Grade1*20,strokeWidth:'4',trailWidth:'4',strokeColor:'#42a6dc',trailColor:'#f0f0f0'})),__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'scenicScoreLine'},__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'scenicScoreLineLabel'},'\\u670D\\u52A1'),__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_10_rc_progress__[\"Line\"],{className:'scenicScoreLineProgress',percent:this.state.Grade2*20,strokeWidth:'4',trailWidth:'4',strokeColor:'#42a6dc',trailColor:'#f0f0f0'})),__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'scenicScoreLine'},__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'scenicScoreLineLabel'},'\\u8BBE\\u65BD'),__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_10_rc_progress__[\"Line\"],{className:'scenicScoreLineProgress',percent:this.state.Grade3*20,strokeWidth:'4',trailWidth:'4',strokeColor:'#42a6dc',trailColor:'#f0f0f0'})),__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'scenicScoreLine'},__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'scenicScoreLineLabel'},'\\u73AF\\u5883'),__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_10_rc_progress__[\"Line\"],{className:'scenicScoreLineProgress',percent:this.state.Grade4*20,strokeWidth:'4',trailWidth:'4',strokeColor:'#42a6dc',trailColor:'#f0f0f0'}))));}},{key:'renderHeaderImages',value:function renderHeaderImages(){var _this5=this;if(!this.props.detailItem||!this.props.detailItem.GetImage||!this.props.detailItem.GetImage.ImageList||this.props.detailItem.GetImage.ImageList.length===0){return null;}return __WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd_mobile_lib_carousel___default.a,{className:'scenicDetailHeaderImgSlider',afterChange:function afterChange(){return _this5.imageChage();},autoplay:true,dots:false,swiping:true,infinite:true,selectedIndex:0,swipeSpeed:35},this.props.detailItem.GetImage.ImageList.map(function(item,index){return __WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{key:index,className:'scenicDetailHeaderImg',style:{backgroundImage:'url('+item.ImgSrc+')'}});}));}},{key:'imageChage',value:function imageChage(){if(this.state.index===this.props.detailItem.GetImage.ImageList.length){this.setState({index:1});}else{this.setState({index:this.state.index+1});}}},{key:'renderMapView',value:function renderMapView(){var _this6=this;if(!this.props.detailItem||!this.props.detailItem.Longitude||!this.props.detailItem.Latitude){return null;}var width=window.innerWidth*2;var imgUrl='http://api.map.baidu.com/staticimage?width='+width+'&height=250&markers='+this.props.detailItem.Longitude+','+this.props.detailItem.Latitude+'&markerStyles=-1,http://oe72hu540.bkt.clouddn.com/ico_pin_blu.png';return __WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('img',{className:'scenicDetailMapImg',src:imgUrl,onClick:function onClick(){return _this6.showElementMarkerMap();},alt:''});}},{key:'renderBasicViews',value:function renderBasicViews(){var _this7=this;if(!this.props.detailItem){return null;}return __WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'scenicDetailInfoRows'},__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'scenicDetailInfoRow'},__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'scenicDetailInfoLabel'},'\\u5730\\u5740'),__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'scenicDetailInfoValue'},this.props.detailItem.Address)),this.props.detailItem.Telephone&&this.props.detailItem.Telephone.length>0?__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'scenicDetailInfoRow'},__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'scenicDetailInfoLabel'},'\\u7535\\u8BDD'),__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'scenicDetailInfoPhoneRow',onClick:function onClick(){return window.open('tel://'+_this7.props.detailItem.Telephone,'_self');}},__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'scenicDetailInfoValue'},this.props.detailItem.Telephone),__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{style:{flex:1}}),__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('img',{className:'scenicDetailInfoPhone',src:__webpack_require__(58),alt:''}))):null,__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'scenicDetailInfoRow'},__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'scenicDetailInfoLabel'},'\\u8425\\u4E1A\\u65F6\\u95F4'),__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'scenicDetailInfoValue'},this.props.detailItem.Businestime)),__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'scenicDetailInfoRow'},__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'scenicDetailInfoLabel'},'\\u666F\\u533A\\u7B80\\u4ECB'),__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'scenicDetailInfoValue scenicDetailMultDesc'},this.props.detailItem.Summary)));}},{key:'renderSceneryListView',value:function renderSceneryListView(){var _this8=this;if(!this.props.sceneryList||this.props.sceneryList.length===0){return null;}return __WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',null,__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'sceneryListSplitLine'}),__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'sceneryTitleBox'},__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'scenicDetailInfoLabel'},'\\u5B50\\u666F\\u70B9'),__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{style:{flex:1}}),__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'sceneryListMoreView',onClick:this.showSceneryList},'\\u66F4\\u591A ',__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('img',{src:__webpack_require__(905),alt:''}))),__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'sceneryListBox'},this.props.sceneryList.map(function(item,index){return _this8.renderSceneryView(index);})));}},{key:'renderSceneryView',value:function renderSceneryView(index){var _this9=this;if(index>=10){return null;}var item=this.props.sceneryList[index];var imgUrl=item.GetImage?item.GetImage.ImageFrontUrl:'';return __WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{key:index,className:'sceneryItemView',onClick:function onClick(){_this9.showSceneryDetail(index);}},__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('img',{className:'sceneryItemImg',src:imgUrl,alt:''}),__WEBPACK_IMPORTED_MODULE_8_react___default.a.createElement('div',{className:'sceneryItemName'},item.CnName));}},{key:'loadData',value:function loadData(){var _this10=this;this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_15__store_actions_scenic_detailAction__[\"a\" /* asyncGetDetailAction */])(this.props.match.params.code)).then(function(){return _this10.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_15__store_actions_scenic_detailAction__[\"c\" /* asyncGetTicketListAction */])(_this10.props.match.params.code));}).then(function(){return _this10.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_15__store_actions_scenic_detailAction__[\"b\" /* asyncGetSceneryListAction */])(_this10.props.match.params.code));});}},{key:'cacheScrollOffset',value:function cacheScrollOffset(){var offsetY=__WEBPACK_IMPORTED_MODULE_11_react_dom___default.a.findDOMNode(this.scrollView).scrollTop;this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_15__store_actions_scenic_detailAction__[\"e\" /* setDetailScrollerPositionAction */])(this.props.match.params.code,offsetY));}},{key:'restoreScrollViewPosition',value:function restoreScrollViewPosition(){if(this.scrollView){if(!isNaN(this.props.scrollViewOffset)){this.scrollView.scrollToY(this.props.scrollViewOffset);}else{this.scrollView.scrollToY(0);}}}},{key:'showSceneryList',value:function showSceneryList(){this.cacheScrollOffset();this.props.history.push('/scenic/scenery-list/'+this.props.match.params.code);}},{key:'showSceneryDetail',value:function showSceneryDetail(index){var item=this.props.sceneryList[index];this.cacheScrollOffset();this.props.history.push('/scenic/scenery-detail/'+this.props.match.params.code+'/'+item.Code);}},{key:'startScoreAnimation',value:function startScoreAnimation(detailItem){var _this11=this;// 这样进度条可以有动画\nsetTimeout(function(){_this11.setState({AvgGrade:detailItem.AvgGrade?detailItem.AvgGrade:3.0,Grade1:detailItem.Grade1?detailItem.Grade1:3.0,Grade2:detailItem.Grade2?detailItem.Grade2:3.0,Grade3:detailItem.Grade3?detailItem.Grade3:3.0,Grade4:detailItem.Grade4?detailItem.Grade4:3.0});},700);}},{key:'showElementMarkerMap',value:function showElementMarkerMap(){this.cacheScrollOffset();var detailItem=this.props.detailItem;this.props.history.push('/map/elementMarker/'+this.props.match.params.code+'/'+detailItem.CnName+'/'+detailItem.Address+'/'+detailItem.Latitude+'/'+detailItem.Longitude);}},{key:'showImageBrowser',value:function showImageBrowser(){if(!this.props.detailItem||!this.props.detailItem.GetImage||!this.props.detailItem.GetImage.ImageList||this.props.detailItem.GetImage.ImageList.length===0){return null;}if(!this.state.imageList||this.state.imageList.length<=0){var imageList=[];for(var i=0;i<this.props.detailItem.GetImage.ImageList.length;i++){var imageItem=this.props.detailItem.GetImage.ImageList[i];imageList.push({src:imageItem.ImgSrc.replace('Small','Large')});}this.setState({showImageBrowser:true,imageList:imageList});}else{this.setState({showImageBrowser:true});}}}]);return ScenicDetailScreen;}(__WEBPACK_IMPORTED_MODULE_8_react__[\"Component\"]);var mapStateToProps=function mapStateToProps(state,ownProps){var obj=state.scenic.detailScreen[ownProps.match.params.code];return Object.assign({},obj,{isUserLogined:__WEBPACK_IMPORTED_MODULE_14__core_utils_SysUtil__[\"a\" /* default */].isUserLogined(state)});};ScenicDetailScreen=Object(__WEBPACK_IMPORTED_MODULE_9_react_redux__[\"b\" /* connect */])(mapStateToProps)(ScenicDetailScreen);/* harmony default export */ __webpack_exports__[\"default\"] = (ScenicDetailScreen);\n\n/***/ }),\n\n/***/ 865:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"d\"] = goBackAction;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = asyncGetDetailAction;\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = asyncGetTicketListAction;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = asyncGetSceneryListAction;\n/* harmony export (immutable) */ __webpack_exports__[\"e\"] = setDetailScrollerPositionAction;\n/* harmony export (immutable) */ __webpack_exports__[\"g\"] = setSceneryListScrollerPositionAction;\n/* harmony export (immutable) */ __webpack_exports__[\"f\"] = setSceneryDetailScrollerPositionAction;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__core_utils_IConstant__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__core_utils_HttpClient__ = __webpack_require__(8);\nfunction goBackAction(code){return{type:__WEBPACK_IMPORTED_MODULE_0__core_utils_IConstant__[\"c\" /* Actions */].SCENIC.DETAIL.GO_BACK,code:code};}// 景区详情\nfunction asyncGetDetailAction(code){return function(dispatch,getState){dispatch(_getDetailRequestAction(code));return _fetchDetail(code).then(function(resp){resp=resp&&resp.results&&resp.results.length>0?resp.results[0]:resp;dispatch(_getDetailSuccessAction(code,resp));}).catch(function(error){dispatch(_getDetailFailureAction(code,error));});};}// 门票列表\nfunction asyncGetTicketListAction(code){return function(dispatch,getState){dispatch(_getTicketListRequestAction(code));return _fetchTicketList(code).then(function(resp){resp=resp?resp.results:[];dispatch(_getTicketListSuccessAction(code,resp));}).catch(function(error){dispatch(_getTicketListFailureAction(code,error));});};}// 景点列表\nfunction asyncGetSceneryListAction(code){return function(dispatch,getState){dispatch(_getGetSceneryListRequestAction(code));return _fetchGetSceneryList(code).then(function(resp){resp=resp?resp.results:[];dispatch(_getGetSceneryListSuccessAction(code,resp));}).catch(function(error){dispatch(_getGetSceneryListFailureAction(code,error));});};}// 景区详情页面滚动条位置\nfunction setDetailScrollerPositionAction(code,offset){return{type:__WEBPACK_IMPORTED_MODULE_0__core_utils_IConstant__[\"c\" /* Actions */].SCENIC.DETAIL.SET_DETAIL_SCROLL_OFFSET,code:code,scrollViewOffset:offset};}// 景点列表页面滚动条位置\nfunction setSceneryListScrollerPositionAction(code,offset){return{type:__WEBPACK_IMPORTED_MODULE_0__core_utils_IConstant__[\"c\" /* Actions */].SCENIC.DETAIL.SET_SCENERY_LIST_SCROLL_OFFSET,code:code,scrollViewOffset:offset};}function setSceneryDetailScrollerPositionAction(scenicCode,sceneryCode,offset){return{type:__WEBPACK_IMPORTED_MODULE_0__core_utils_IConstant__[\"c\" /* Actions */].SCENIC.DETAIL.SET_SCENERY_DETAIL_SCROLL_OFFSET,code:scenicCode,sceneryCode:sceneryCode,scrollViewOffset:offset};}function _fetchGetSceneryList(code){var url=__WEBPACK_IMPORTED_MODULE_1__core_utils_HttpClient__[\"a\" /* default */].HOST_E_BUSINESS+'/api/Attractions/GetSceneryList';var kvDict={type:'app',Code:code};// url = 'http://10.9.100.220:8081/api/Attractions/GetSceneryList?Code=JQ465500000003&type=app';\n// kvDict = {};\nreturn __WEBPACK_IMPORTED_MODULE_1__core_utils_HttpClient__[\"a\" /* default */].getData(url,kvDict).then(function(resp){return resp.json();});}function _getGetSceneryListRequestAction(code){return{type:__WEBPACK_IMPORTED_MODULE_0__core_utils_IConstant__[\"c\" /* Actions */].SCENIC.DETAIL.GET_SCENERY_LIST_REQUEST,code:code};}function _getGetSceneryListSuccessAction(code,resp){return{type:__WEBPACK_IMPORTED_MODULE_0__core_utils_IConstant__[\"c\" /* Actions */].SCENIC.DETAIL.GET_SCENERY_LIST_SUCCESS,code:code,sceneryList:resp};}function _getGetSceneryListFailureAction(code,error){return{type:__WEBPACK_IMPORTED_MODULE_0__core_utils_IConstant__[\"c\" /* Actions */].SCENIC.DETAIL.GET_SCENERY_LIST_FAILURE,code:code,message:error};}function _fetchTicketList(code){var url=__WEBPACK_IMPORTED_MODULE_1__core_utils_HttpClient__[\"a\" /* default */].HOST_E_BUSINESS+'/api/Attractions/GetTicketList';var now=new Date();var date=now.getFullYear()+'-'+(now.getMonth()+1)+'-'+now.getDate();var kvDict={type:'app',Code:code,selecttime:date};return __WEBPACK_IMPORTED_MODULE_1__core_utils_HttpClient__[\"a\" /* default */].getData(url,kvDict).then(function(resp){return resp.json();});}function _getTicketListRequestAction(code){return{type:__WEBPACK_IMPORTED_MODULE_0__core_utils_IConstant__[\"c\" /* Actions */].SCENIC.DETAIL.GET_TICKET_LIST_REQUEST,code:code};}function _getTicketListSuccessAction(code,resp){return{type:__WEBPACK_IMPORTED_MODULE_0__core_utils_IConstant__[\"c\" /* Actions */].SCENIC.DETAIL.GET_TICKET_LIST_SUCCESS,code:code,ticketList:resp};}function _getTicketListFailureAction(code,error){return{type:__WEBPACK_IMPORTED_MODULE_0__core_utils_IConstant__[\"c\" /* Actions */].SCENIC.DETAIL.GET_TICKET_LIST_FAILURE,code:code,message:error};}function _fetchDetail(code){var url=__WEBPACK_IMPORTED_MODULE_1__core_utils_HttpClient__[\"a\" /* default */].HOST_E_BUSINESS+'/api/Attractions/GetAttractionsDetail';var kvDict={type:'app',Code:code};// url = 'http://10.9.100.220:8081/api/Attractions/GetAttractionsDetail?Code=JQ465500000003&type=app';\n// kvDict = {};\nreturn __WEBPACK_IMPORTED_MODULE_1__core_utils_HttpClient__[\"a\" /* default */].getData(url,kvDict).then(function(resp){return resp.json();});}function _getDetailRequestAction(code){return{type:__WEBPACK_IMPORTED_MODULE_0__core_utils_IConstant__[\"c\" /* Actions */].SCENIC.DETAIL.GET_DETAIL_REQUEST,code:code};}function _getDetailSuccessAction(code,resp){return{type:__WEBPACK_IMPORTED_MODULE_0__core_utils_IConstant__[\"c\" /* Actions */].SCENIC.DETAIL.GET_DETAIL_SUCCESS,code:code,detailItem:resp};}function _getDetailFailureAction(code,error){return{type:__WEBPACK_IMPORTED_MODULE_0__core_utils_IConstant__[\"c\" /* Actions */].SCENIC.DETAIL.GET_DETAIL_FAILURE,code:code,message:error};}\n\n/***/ }),\n\n/***/ 867:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"static/media/ico_a_full@2x.a5d6eea0.png\";\n\n/***/ }),\n\n/***/ 868:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"static/media/ico_a_empty@2x.f866e867.png\";\n\n/***/ }),\n\n/***/ 905:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"static/media/more@2x.19f5c55a.png\";\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/3.45d2f5c3.chunk.js","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { NavBar, Icon, ActivityIndicator, Carousel } from 'antd-mobile';\r\nimport { Line, Circle } from 'rc-progress';\r\nimport ReactDOM from 'react-dom';\r\nimport Content from '../../views/common/Content';\r\nimport * as IConstant from '../../core/utils/IConstant';\r\nimport SysUtil from '../../core/utils/SysUtil';\r\nimport { \r\n    asyncGetDetailAction, \r\n    goBackAction, \r\n    asyncGetTicketListAction, \r\n    asyncGetSceneryListAction,\r\n    setDetailScrollerPositionAction,\r\n} from '../../store/actions/scenic/detailAction';\r\nimport ImageBrowserView from '../../views/common/ImageBrowserView';\r\n\r\nimport '../../assets/css/scenic.css';\r\n\r\nclass ScenicDetailScreen extends Component\r\n{\r\n    constructor(props)\r\n    {\r\n        super(props);\r\n        this.state = {\r\n            AvgGrade: 0,\r\n            Grade1: 0,\r\n            Grade2: 0,\r\n            Grade3: 0,\r\n            Grade4: 0,\r\n            index : 1,\r\n            showImageBrowser:false,\r\n            imageList:[]\r\n        };\r\n        this.showSceneryList = this.showSceneryList.bind(this);\r\n        this.showElementMarkerMap = this.showElementMarkerMap.bind(this);\r\n        this.showImageBrowser = this.showImageBrowser.bind(this);\r\n    }\r\n    componentDidMount()\r\n    {\r\n        if(!this.props.detailItem)\r\n        {\r\n            this.loadData();\r\n        }\r\n        else\r\n        {\r\n            this.startScoreAnimation(this.props.detailItem);\r\n        }\r\n        this.restoreScrollViewPosition();\r\n    }\r\n    componentWillReceiveProps(nextProps)\r\n    {\r\n        if(nextProps.detailItem !== this.props.detailItem && nextProps.detailItem)\r\n        {\r\n            this.startScoreAnimation(nextProps.detailItem);\r\n        }\r\n    }\r\n    render()\r\n    {\r\n        return (\r\n            <div>\r\n                <NavBar mode=\"dark\" \r\n                    className=\"navBar\"\r\n                    icon={<Icon type=\"left\" />}\r\n                    onLeftClick={() => {\r\n                        let code = this.props.match.params.code;\r\n                        let dispatch = this.props.dispatch;\r\n                        this.props.history.goBack();\r\n                        dispatch(goBackAction(code));\r\n                    }}>\r\n                    景区详情\r\n                </NavBar>\r\n                <Content ref={(view)=>{this.scrollView = view;}}>\r\n                    {\r\n                        this.renderHeaderView()\r\n                    }\r\n                    {\r\n                        this.renderScoreView()\r\n                    }\r\n                    {\r\n                        this.renderTicketListView()\r\n                    }\r\n                    {\r\n                        this.renderMapView()\r\n                    }\r\n                    {\r\n                        this.renderBasicViews()\r\n                    }\r\n                    {\r\n                        this.renderSceneryListView()\r\n                    }\r\n                    {\r\n                        this.props.isFetching\r\n                            ?\r\n                            <ActivityIndicator \r\n                                toast\r\n                                text=\"Loading...\" />\r\n                            :null\r\n                    }\r\n                    <ImageBrowserView imageList={this.state.imageList}\r\n                        isOpen={this.state.showImageBrowser}\r\n                        hiddenImageBrowser={()=>{ this.setState({showImageBrowser:false}); }}/>\r\n                </Content>\r\n            </div>\r\n        );\r\n    }\r\n    renderTicketListView()\r\n    {\r\n        if(!this.props.ticketList || this.props.ticketList.length === 0)\r\n        {\r\n            return null;\r\n        }\r\n        return this.props.ticketList.map((item, index)=>this.renderTicketItemView(index));\r\n    }\r\n    renderTicketItemView(index)\r\n    {\r\n        let ticketItem = this.props.ticketList[index];\r\n        return (\r\n            <div key={index} onClick={()=>this.showBooking(ticketItem)}>\r\n                <div className=\"ticketItemRow\">\r\n                    <div className=\"ticketItemLeft\">\r\n                        <div className=\"ticketItemName\">{ticketItem.NAME}</div>\r\n                        <div className=\"ticketItemTags\">\r\n                            <div className=\"ticketItemTag\">官方</div>\r\n                            <div className=\"ticketItemTag\">实名制</div>\r\n                            <div className=\"ticketItemTag\">快速入园</div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"ticketItemRight\">\r\n                        <div className=\"ticketItemPrice\">\r\n                            <div className=\"ticketItemPriceLabel\">¥</div>\r\n                            <div className=\"ticketItemPriceValue\">{ticketItem.SalePrice}</div>\r\n                        </div>\r\n                        <div className=\"ticketItemButton\">立即预订</div>\r\n                    </div>\r\n                </div>\r\n                {\r\n                    (index === this.props.ticketList.length - 1)\r\n                        ? null\r\n                        : <div className=\"ticketItemSplitLine\"/>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n    showBooking(ticketItem)\r\n    {\r\n        if(!this.props.isUserLogined)\r\n        {\r\n            this.props.history.push('/me/login');\r\n            return;\r\n        }\r\n        let scenicCode = this.props.match.params.code;\r\n        this.props.history.push(`/order/booking/${scenicCode}/${ticketItem.CODE}/${IConstant.ORDER_TYPE.TICKET}`);\r\n    }\r\n    renderHeaderView()\r\n    {\r\n        if(!this.props.detailItem)\r\n        {\r\n            return null;\r\n        }\r\n        let star = this.props.detailItem.Zdxmc.length;\r\n        let starImg = require('../../assets/images/scenic/ico_a_full@2x.png');\r\n        let starEmptyImg = require('../../assets/images/scenic/ico_a_empty@2x.png');\r\n        return (\r\n            <div className=\"scenicDetailHeader\" onClick={this.showImageBrowser}>\r\n                {\r\n                    this.renderHeaderImages()\r\n                }\r\n                <div className=\"scenicDetailHeaderBottom\">\r\n                    <div className=\"scenicDetailHeaderBottomText\">{this.props.detailItem.CnName}</div>\r\n                    <div className=\"scenicDetailHeaderBottomView\">\r\n                        <div className=\"scenicDetailHeaderBottomStars\">\r\n                            {\r\n                                new Array(5).fill(0).map((item, index)=><img key={index}\r\n                                    className=\"scenicDetailHeaderBottomStar\"\r\n                                    src={index < star ? starImg : starEmptyImg}\r\n                                    alt=''/>)\r\n                            }\r\n                        </div>\r\n                        <div className=\"scenicDetailHeaderBottomText\">{this.state.index}/{this.props.detailItem.GetImage.ImageList.length}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    renderScoreView()\r\n    {\r\n        if(!this.props.detailItem)\r\n        {\r\n            return null;\r\n        }\r\n        return (\r\n            <div className=\"scenicScoreView\">\r\n                <div className=\"scenicScoreCircle\">\r\n                    <Circle percent={this.state.AvgGrade * 20} strokeWidth=\"6\" trailWidth=\"6\" strokeColor=\"#42a6dc\" trailColor=\"#f0f0f0\"/>\r\n                    <div className=\"scenicScoreCircleTextBox\">\r\n                        <div style={{flex: 1}}/>\r\n                        <div  className=\"scenicScoreCircleTextSubBox\">\r\n                            <div className=\"scenicScoreCircleText\">{this.state.AvgGrade.toFixed(1)}</div>\r\n                            <div className=\"scenicScoreCircleUnit\">分</div>\r\n                        </div>\r\n                        <div style={{flex: 1}}/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"scenicScoreLines\">\r\n                    <div className=\"scenicScoreLine\">\r\n                        <div className=\"scenicScoreLineLabel\">价格</div>\r\n                        <Line className=\"scenicScoreLineProgress\" percent={this.state.Grade1 * 20} strokeWidth=\"4\" trailWidth=\"4\" strokeColor=\"#42a6dc\" trailColor=\"#f0f0f0\" />\r\n                    </div>\r\n                    <div className=\"scenicScoreLine\">\r\n                        <div className=\"scenicScoreLineLabel\">服务</div>\r\n                        <Line className=\"scenicScoreLineProgress\" percent={this.state.Grade2 * 20} strokeWidth=\"4\" trailWidth=\"4\" strokeColor=\"#42a6dc\" trailColor=\"#f0f0f0\" />\r\n                    </div>\r\n                    <div className=\"scenicScoreLine\">\r\n                        <div className=\"scenicScoreLineLabel\">设施</div>\r\n                        <Line className=\"scenicScoreLineProgress\" percent={this.state.Grade3 * 20} strokeWidth=\"4\" trailWidth=\"4\" strokeColor=\"#42a6dc\" trailColor=\"#f0f0f0\" />\r\n                    </div>\r\n                    <div className=\"scenicScoreLine\">\r\n                        <div className=\"scenicScoreLineLabel\">环境</div>\r\n                        <Line className=\"scenicScoreLineProgress\" percent={this.state.Grade4 * 20} strokeWidth=\"4\" trailWidth=\"4\" strokeColor=\"#42a6dc\" trailColor=\"#f0f0f0\" />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    renderHeaderImages()\r\n    {\r\n        if(!this.props.detailItem || !this.props.detailItem.GetImage || !this.props.detailItem.GetImage.ImageList || this.props.detailItem.GetImage.ImageList.length === 0)\r\n        {\r\n            return null;\r\n        }\r\n        return (\r\n            <Carousel\r\n                className=\"scenicDetailHeaderImgSlider\"\r\n                afterChange = {()=>this.imageChage()}\r\n                autoplay={true}\r\n                dots={false}\r\n                swiping={true}\r\n                infinite\r\n                selectedIndex={0}\r\n                swipeSpeed={35}>\r\n                {\r\n                    this.props.detailItem.GetImage.ImageList.map((item, index)=><div key={index} className=\"scenicDetailHeaderImg\" style={{backgroundImage: `url(${item.ImgSrc})`}}/>)\r\n                }\r\n            </Carousel>\r\n        );\r\n    }\r\n    imageChage(){\r\n        if(this.state.index === this.props.detailItem.GetImage.ImageList.length){\r\n            this.setState({index:1});\r\n        }else{\r\n            this.setState({index:this.state.index+1});\r\n        }\r\n    }\r\n\r\n    renderMapView()\r\n    {\r\n        if(!this.props.detailItem || !this.props.detailItem.Longitude || !this.props.detailItem.Latitude)\r\n        {\r\n            return null;\r\n        }\r\n        let width = window.innerWidth * 2;\r\n        let imgUrl = `http://api.map.baidu.com/staticimage?width=${width}&height=250&markers=${this.props.detailItem.Longitude},${this.props.detailItem.Latitude}&markerStyles=-1,http://oe72hu540.bkt.clouddn.com/ico_pin_blu.png`;\r\n        return (\r\n            <img className=\"scenicDetailMapImg\"\r\n                src={imgUrl}\r\n                onClick={()=>this.showElementMarkerMap()}\r\n                alt=''/>\r\n        );\r\n    }\r\n    renderBasicViews()\r\n    {\r\n        if(!this.props.detailItem)\r\n        {\r\n            return null;\r\n        }\r\n        return (\r\n            <div className=\"scenicDetailInfoRows\">\r\n                <div className=\"scenicDetailInfoRow\">\r\n                    <div className=\"scenicDetailInfoLabel\">地址</div>\r\n                    <div className=\"scenicDetailInfoValue\">{this.props.detailItem.Address}</div>\r\n                </div>\r\n                {\r\n                    (this.props.detailItem.Telephone && this.props.detailItem.Telephone.length > 0)\r\n                        ?\r\n                        <div className=\"scenicDetailInfoRow\">\r\n                            <div className=\"scenicDetailInfoLabel\">电话</div>\r\n                            <div className=\"scenicDetailInfoPhoneRow\" onClick={()=>window.open(`tel://${this.props.detailItem.Telephone}`, '_self')}>\r\n                                <div className=\"scenicDetailInfoValue\">{this.props.detailItem.Telephone}</div>\r\n                                <div style={{flex:1}}/>\r\n                                <img className=\"scenicDetailInfoPhone\" src={require('../../assets/images/scenic/ico_phone_ora@2x.png')} alt=''/>\r\n                            </div>\r\n                        </div>\r\n                        :null\r\n                }\r\n                <div className=\"scenicDetailInfoRow\">\r\n                    <div className=\"scenicDetailInfoLabel\">营业时间</div>\r\n                    <div className=\"scenicDetailInfoValue\">{this.props.detailItem.Businestime}</div>\r\n                </div>\r\n                <div className=\"scenicDetailInfoRow\">\r\n                    <div className=\"scenicDetailInfoLabel\">景区简介</div>\r\n                    <div className=\"scenicDetailInfoValue scenicDetailMultDesc\">{this.props.detailItem.Summary}</div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    renderSceneryListView()\r\n    {\r\n        if(!this.props.sceneryList || this.props.sceneryList.length === 0)\r\n        {\r\n            return null;\r\n        }\r\n        return (\r\n            <div>\r\n                <div className=\"sceneryListSplitLine\"/>\r\n                <div className=\"sceneryTitleBox\">\r\n                    <div className=\"scenicDetailInfoLabel\">子景点</div>\r\n                    <div style={{flex: 1}}/>\r\n                    <div className=\"sceneryListMoreView\"\r\n                        onClick={this.showSceneryList}>\r\n                        更多 <img src={require('../../assets/images/more@2x.png')} alt=''/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"sceneryListBox\">\r\n                    {\r\n                        this.props.sceneryList.map((item, index)=>this.renderSceneryView(index))\r\n                    }\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    renderSceneryView(index)\r\n    {\r\n        if(index >= 10)\r\n        {\r\n            return null;\r\n        }\r\n        let item = this.props.sceneryList[index];\r\n        let imgUrl = item.GetImage ? item.GetImage.ImageFrontUrl : '';\r\n        return (\r\n            <div key={index} \r\n                className=\"sceneryItemView\"\r\n                onClick={()=>{\r\n                    this.showSceneryDetail(index);\r\n                }}>\r\n                <img className=\"sceneryItemImg\"\r\n                    src={imgUrl}\r\n                    alt=''/>\r\n                <div className=\"sceneryItemName\">{item.CnName}</div>\r\n            </div>\r\n        );\r\n    }\r\n    loadData()\r\n    {\r\n        this.props.dispatch(asyncGetDetailAction(this.props.match.params.code)).then(()=>{\r\n            return this.props.dispatch(asyncGetTicketListAction(this.props.match.params.code));\r\n        }).then(()=>{\r\n            return this.props.dispatch(asyncGetSceneryListAction(this.props.match.params.code));\r\n        });\r\n    }\r\n    cacheScrollOffset()\r\n    {\r\n        let offsetY = ReactDOM.findDOMNode(this.scrollView).scrollTop;\r\n        this.props.dispatch(setDetailScrollerPositionAction(this.props.match.params.code, offsetY));\r\n    }\r\n    restoreScrollViewPosition()\r\n    {\r\n        if(this.scrollView)\r\n        {\r\n            if(!isNaN(this.props.scrollViewOffset))\r\n            {\r\n                this.scrollView.scrollToY(this.props.scrollViewOffset);\r\n            }\r\n            else\r\n            {\r\n                this.scrollView.scrollToY(0);\r\n            }\r\n        }\r\n    }\r\n    showSceneryList()\r\n    {\r\n        this.cacheScrollOffset();\r\n        this.props.history.push(`/scenic/scenery-list/${this.props.match.params.code}`);\r\n    }\r\n    showSceneryDetail(index)\r\n    {\r\n        let item = this.props.sceneryList[index];\r\n        this.cacheScrollOffset();\r\n        this.props.history.push(`/scenic/scenery-detail/${this.props.match.params.code}/${item.Code}`);\r\n    }\r\n    startScoreAnimation(detailItem)\r\n    {\r\n        // 这样进度条可以有动画\r\n        setTimeout(()=>{\r\n            this.setState({\r\n                AvgGrade: detailItem.AvgGrade ? detailItem.AvgGrade : 3.0,\r\n                Grade1: detailItem.Grade1 ? detailItem.Grade1 : 3.0,\r\n                Grade2: detailItem.Grade2 ? detailItem.Grade2 : 3.0,\r\n                Grade3: detailItem.Grade3 ? detailItem.Grade3 : 3.0,\r\n                Grade4: detailItem.Grade4 ? detailItem.Grade4: 3.0,\r\n            });\r\n        }, 700);\r\n    }\r\n\r\n    showElementMarkerMap()\r\n    {\r\n        this.cacheScrollOffset();\r\n        let detailItem = this.props.detailItem;\r\n        this.props.history.push(`/map/elementMarker/${this.props.match.params.code}/${detailItem.CnName}/${detailItem.Address}/${detailItem.Latitude}/${detailItem.Longitude}`);\r\n    }\r\n\r\n    showImageBrowser()\r\n    {\r\n        if(!this.props.detailItem || !this.props.detailItem.GetImage || !this.props.detailItem.GetImage.ImageList || this.props.detailItem.GetImage.ImageList.length === 0)\r\n        {\r\n            return null;\r\n        }\r\n\r\n        if (!this.state.imageList ||this.state.imageList.length <= 0)\r\n        {\r\n            let imageList = [];\r\n            for (let i = 0; i < this.props.detailItem.GetImage.ImageList.length; i++)\r\n            {\r\n                let imageItem = this.props.detailItem.GetImage.ImageList[i];\r\n                imageList.push({\r\n                    src: imageItem.ImgSrc.replace('Small','Large')\r\n                });\r\n            }\r\n            this.setState({showImageBrowser:true , imageList:imageList});\r\n        }\r\n        else\r\n        {\r\n            this.setState({showImageBrowser:true});\r\n        }\r\n    }\r\n}\r\n\r\nconst mapStateToProps = function(state, ownProps)\r\n{\r\n    let obj = state.scenic.detailScreen[ownProps.match.params.code];\r\n    return {\r\n        ...obj,\r\n        isUserLogined: SysUtil.isUserLogined(state),\r\n    };\r\n};\r\n\r\nScenicDetailScreen = connect(mapStateToProps)(ScenicDetailScreen);\r\n\r\nexport default ScenicDetailScreen;\n\n\n// WEBPACK FOOTER //\n// ./src/screens/scenic/ScenicDetailScreen.js","import * as IConstant from '../../../core/utils/IConstant';\r\nimport HttpClient from '../../../core/utils/HttpClient';\r\n\r\nexport function goBackAction(code)\r\n{\r\n    return {\r\n        type: IConstant.Actions.SCENIC.DETAIL.GO_BACK,\r\n        code,\r\n    };\r\n}\r\n\r\n// 景区详情\r\nexport function asyncGetDetailAction(code)\r\n{\r\n    return function(dispatch, getState)\r\n    {\r\n        dispatch(_getDetailRequestAction(code));\r\n        return _fetchDetail(code).then((resp)=>{\r\n            resp = (resp && resp.results && resp.results.length > 0) ? resp.results[0] : resp;\r\n            dispatch(_getDetailSuccessAction(code, resp));\r\n        }).catch((error)=>{\r\n            dispatch(_getDetailFailureAction(code, error));\r\n        });\r\n    };\r\n}\r\n\r\n// 门票列表\r\nexport function asyncGetTicketListAction(code)\r\n{\r\n    return function(dispatch, getState)\r\n    {\r\n        dispatch(_getTicketListRequestAction(code));\r\n        return _fetchTicketList(code).then((resp)=>{\r\n            resp = resp ? resp.results : [];\r\n            dispatch(_getTicketListSuccessAction(code, resp));\r\n        }).catch((error)=>{\r\n            dispatch(_getTicketListFailureAction(code, error));\r\n        });\r\n    };\r\n}\r\n\r\n// 景点列表\r\nexport function asyncGetSceneryListAction(code)\r\n{\r\n    return function(dispatch, getState)\r\n    {\r\n        dispatch(_getGetSceneryListRequestAction(code));\r\n        return _fetchGetSceneryList(code).then((resp)=>{\r\n            resp = resp ? resp.results : [];\r\n            dispatch(_getGetSceneryListSuccessAction(code, resp));\r\n        }).catch((error)=>{\r\n            dispatch(_getGetSceneryListFailureAction(code, error));\r\n        });\r\n    };\r\n}\r\n\r\n// 景区详情页面滚动条位置\r\nexport function setDetailScrollerPositionAction(code, offset)\r\n{\r\n    return {\r\n        type: IConstant.Actions.SCENIC.DETAIL.SET_DETAIL_SCROLL_OFFSET,\r\n        code,\r\n        scrollViewOffset: offset,\r\n    };\r\n}\r\n\r\n// 景点列表页面滚动条位置\r\nexport function setSceneryListScrollerPositionAction(code, offset)\r\n{\r\n    return {\r\n        type: IConstant.Actions.SCENIC.DETAIL.SET_SCENERY_LIST_SCROLL_OFFSET,\r\n        code,\r\n        scrollViewOffset: offset,\r\n    };\r\n}\r\n\r\nexport function setSceneryDetailScrollerPositionAction(scenicCode, sceneryCode, offset)\r\n{\r\n    return {\r\n        type: IConstant.Actions.SCENIC.DETAIL.SET_SCENERY_DETAIL_SCROLL_OFFSET,\r\n        code: scenicCode,\r\n        sceneryCode,\r\n        scrollViewOffset: offset,\r\n    };\r\n}\r\n\r\nfunction _fetchGetSceneryList(code)\r\n{\r\n    let url = HttpClient.HOST_E_BUSINESS + '/api/Attractions/GetSceneryList';\r\n    let kvDict = {type: 'app', Code: code};\r\n    // url = 'http://10.9.100.220:8081/api/Attractions/GetSceneryList?Code=JQ465500000003&type=app';\r\n    // kvDict = {};\r\n\r\n    return HttpClient.getData(url, kvDict)\r\n        .then((resp) => resp.json());\r\n}\r\n\r\nfunction _getGetSceneryListRequestAction(code)\r\n{\r\n    return {\r\n        type: IConstant.Actions.SCENIC.DETAIL.GET_SCENERY_LIST_REQUEST,\r\n        code,\r\n    };\r\n}\r\n\r\nfunction _getGetSceneryListSuccessAction(code, resp)\r\n{\r\n    return {\r\n        type: IConstant.Actions.SCENIC.DETAIL.GET_SCENERY_LIST_SUCCESS,\r\n        code,\r\n        sceneryList: resp,\r\n    };\r\n}\r\n\r\nfunction _getGetSceneryListFailureAction(code, error)\r\n{\r\n    return {\r\n        type: IConstant.Actions.SCENIC.DETAIL.GET_SCENERY_LIST_FAILURE,\r\n        code,\r\n        message: error\r\n    };\r\n}\r\n\r\nfunction _fetchTicketList(code)\r\n{\r\n    let url = HttpClient.HOST_E_BUSINESS + '/api/Attractions/GetTicketList';\r\n    let now = new Date();\r\n    let date = now.getFullYear() + '-' + (now.getMonth() + 1) + '-' + now.getDate();\r\n    let kvDict = {type: 'app', Code: code, selecttime: date};\r\n    return HttpClient.getData(url, kvDict)\r\n        .then((resp) => resp.json());\r\n}\r\n\r\nfunction _getTicketListRequestAction(code)\r\n{\r\n    return {\r\n        type: IConstant.Actions.SCENIC.DETAIL.GET_TICKET_LIST_REQUEST,\r\n        code,\r\n    };\r\n}\r\n\r\nfunction _getTicketListSuccessAction(code, resp)\r\n{\r\n    return {\r\n        type: IConstant.Actions.SCENIC.DETAIL.GET_TICKET_LIST_SUCCESS,\r\n        code,\r\n        ticketList: resp\r\n    };\r\n}\r\n\r\nfunction _getTicketListFailureAction(code, error)\r\n{\r\n    return {\r\n        type: IConstant.Actions.SCENIC.DETAIL.GET_TICKET_LIST_FAILURE,\r\n        code,\r\n        message: error\r\n    };\r\n}\r\n\r\nfunction _fetchDetail(code)\r\n{\r\n    let url = HttpClient.HOST_E_BUSINESS + '/api/Attractions/GetAttractionsDetail';\r\n    let kvDict = {type: 'app', Code: code};\r\n    // url = 'http://10.9.100.220:8081/api/Attractions/GetAttractionsDetail?Code=JQ465500000003&type=app';\r\n    // kvDict = {};\r\n    return HttpClient.getData(url, kvDict)\r\n        .then((resp) => resp.json());\r\n}\r\n\r\nfunction _getDetailRequestAction(code)\r\n{\r\n    return {\r\n        type: IConstant.Actions.SCENIC.DETAIL.GET_DETAIL_REQUEST,\r\n        code,\r\n    };\r\n}\r\n\r\nfunction _getDetailSuccessAction(code, resp)\r\n{\r\n    return {\r\n        type: IConstant.Actions.SCENIC.DETAIL.GET_DETAIL_SUCCESS,\r\n        code,\r\n        detailItem: resp\r\n    };\r\n}\r\n\r\nfunction _getDetailFailureAction(code, error)\r\n{\r\n    return {\r\n        type: IConstant.Actions.SCENIC.DETAIL.GET_DETAIL_FAILURE,\r\n        code,\r\n        message: error\r\n    };\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/store/actions/scenic/detailAction.js","module.exports = __webpack_public_path__ + \"static/media/ico_a_full@2x.a5d6eea0.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/images/scenic/ico_a_full@2x.png\n// module id = 867\n// module chunks = 2 3","module.exports = __webpack_public_path__ + \"static/media/ico_a_empty@2x.f866e867.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/images/scenic/ico_a_empty@2x.png\n// module id = 868\n// module chunks = 2 3","module.exports = __webpack_public_path__ + \"static/media/more@2x.19f5c55a.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/images/more@2x.png\n// module id = 905\n// module chunks = 3"],"sourceRoot":""}