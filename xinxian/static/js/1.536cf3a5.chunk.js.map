{"version":3,"sources":["../static/js/1.536cf3a5.chunk.js","screens/map/ElementMapScreen.js","store/actions/map/elementMapAction.js","assets/images/map/ico_map_phone@2x.png","assets/images/map/ico_map_go@2x.png","assets/images/map/ico_map_detail@2x.png","assets/images/map/common_poi_selected@2x.png"],"names":["webpackJsonp","863","module","__webpack_exports__","__webpack_require__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","__WEBPACK_IMPORTED_MODULE_0_antd_mobile_lib_toast_style_css__","__WEBPACK_IMPORTED_MODULE_1_antd_mobile_lib_toast__","n","__WEBPACK_IMPORTED_MODULE_1_antd_mobile_lib_toast___default","__WEBPACK_IMPORTED_MODULE_2_antd_mobile_lib_activity_indicator_style_css__","__WEBPACK_IMPORTED_MODULE_3_antd_mobile_lib_activity_indicator__","__WEBPACK_IMPORTED_MODULE_3_antd_mobile_lib_activity_indicator___default","__WEBPACK_IMPORTED_MODULE_4_antd_mobile_lib_nav_bar_style_css__","__WEBPACK_IMPORTED_MODULE_5_antd_mobile_lib_nav_bar__","__WEBPACK_IMPORTED_MODULE_5_antd_mobile_lib_nav_bar___default","__WEBPACK_IMPORTED_MODULE_6_antd_mobile_lib_search_bar_style_css__","__WEBPACK_IMPORTED_MODULE_7_antd_mobile_lib_search_bar__","__WEBPACK_IMPORTED_MODULE_7_antd_mobile_lib_search_bar___default","__WEBPACK_IMPORTED_MODULE_8_antd_mobile_lib_icon_style_css__","__WEBPACK_IMPORTED_MODULE_9_antd_mobile_lib_icon__","__WEBPACK_IMPORTED_MODULE_9_antd_mobile_lib_icon___default","__WEBPACK_IMPORTED_MODULE_10_react__","__WEBPACK_IMPORTED_MODULE_10_react___default","__WEBPACK_IMPORTED_MODULE_11_react_redux__","__WEBPACK_IMPORTED_MODULE_12__views_common_Content__","__WEBPACK_IMPORTED_MODULE_13_react_dom__","__WEBPACK_IMPORTED_MODULE_13_react_dom___default","__WEBPACK_IMPORTED_MODULE_14_react_addons_css_transition_group__","__WEBPACK_IMPORTED_MODULE_14_react_addons_css_transition_group___default","__WEBPACK_IMPORTED_MODULE_15__core_utils_IConstant__","__WEBPACK_IMPORTED_MODULE_16__store_actions_map_elementMapAction__","__WEBPACK_IMPORTED_MODULE_17__assets_css_map_css__","_createClass","defineProperties","target","props","i","length","descriptor","key","protoProps","staticProps","ElementMapScreen","_Component","this","_this","getPrototypeOf","typeObj","title","list","name","type","state","mapHeight","panelBottom","deSelectPoi","bind","searchTypeButtonTapped","hidePanel","togglePanel","searchBarFocus","dailPhone","navTo","showDetails","dispatch","updateWindowDimensions","nextProps","isUpdateLocation","baiduMapInited","lat","updateFromLocation","searchType","keywords","lng","dataList","addMarkers","_this2","a","createElement","className","mode","icon","onLeftClick","code","match","params","history","goBack","placeholder","maxLength","undefined","onFocus","disabled","isEntitySearchType","onChange","val","updateKeyword","onCancel","searchByKeyword","onSubmit","ref","view","scrollView","id","mapView","style","height","transitionName","transitionAppearTimeout","transitionEnterTimeout","transitionLeaveTimeout","isPanelShowing","onClick","renderPanelDetails","renderFooterDetails","renderSegmentButtonView","isFetching","toast","text","_this3","searchTypeName","getSearchTypeName","_this4","position","top","bottom","width","overflow","backgroundColor","map","typeItem","sectionIndex","item","rowIndex","selectedItem","phoneIcon","navIcon","detailsIcon","distance","address","telephone","src","alt","latitude","longitude","markerIcon","window","BMap","Icon","Size","anchor","imageSize","selectedMarkerIcon","Map","centerAndZoom","Point","addControl","NavigationControl","BMAP_NAVIGATION_CONTROL_SMALL","BMAP_ANCHOR_BOTTOM_RIGHT","enableGeolocation","offset","GeolocationControl","enableAutoLocation","addEventListener","_this5","innerHeight","findDOMNode","parentNode","offsetTop","setState","initMap","setZoom","mapZoom","setCenter","centerLng","centerLat","success","_this6","clearOverlays","markers","pts","pt","Longitude","Latitude","marker","Marker","e","domEvent","stopPropagation","markerTapped","push","markerClusterer","BMapLib","MarkerClusterer","clearMarkers","setViewport","getIcon","setIcon","updateMapControlPosition","arguments","mapCtrls","getElementsByClassName","cssText","index","toMapSelectedItem","j","imageUrl","Distance","CnName","Code","toFixed","ShopTelePhone","Telephone","Address","GetImage","ImageFrontUrl","ReservationCall","SmallImageFrontUrl","cnName","replace","images","smallImageFrontUrl","_this7","then","centerPoint","getCenter","getZoom","setMapZoomAndCenterLocation","detailItem","open","mapStateToProps","ownProps","obj","elementMap","assign","system","markerClusterInited","907","goBackAction","__WEBPACK_IMPORTED_MODULE_0__core_utils_IConstant__","MAP","ELEMENTMAP","GO_BACK","isPanelShowingChangeAction","IS_PANEL_SHOWING_CHANGE","isFetchingChangeAction","IS_FETCHING_CHANGE","keywordChangeAction","getState","setKeywordsAction","Promise","resolve","KEYWORDS_CHANGE","mapZoomAndCenterLocationChangeAction","_mapZoomAndCenterLocationChangeAction","MAPZOOM_AND_CENTERLOCATION_CHANGE","searchTypeChangeAction","SEARCHTYPE_CHANGE","asyncGetListAction","_getListRequestAction","_fetchList","resp","_getListSuccessAction","catch","error","_getListFailureAction","selectedItemChangeAction","SELECTEDITEM_CHANGE","_fetchScenicList","_fetchHotelList","_fetchFoodList","_fetchShoppingList","_fetchFunList","_fetchEntityList","url","__WEBPACK_IMPORTED_MODULE_1__core_utils_HttpClient__","HOST_E_BUSINESS","conditionParams","Order","Page","PageIndex","PageSize","Search","search","AndOR","SearchField","ConditionType","ListSearchValue","ItemValue","kvDict","getData","json","Date","formatDate","addDays","HOST_PORTAL2","entityType","_geEntityType","content","whereSQL","orderType","orderField","pageIndex","pageSize","requestDataCenter","GET_LIST_REQUEST","GET_LIST_SUCCESS","result","GET_LIST_FAILURE","message","908","exports","p","909","910","911"],"mappings":"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","file":"static/js/1.536cf3a5.chunk.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 863:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_antd_mobile_lib_toast_style_css__ = __webpack_require__(33);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_antd_mobile_lib_toast_style_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_antd_mobile_lib_toast_style_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_antd_mobile_lib_toast__ = __webpack_require__(34);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_antd_mobile_lib_toast___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_antd_mobile_lib_toast__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_antd_mobile_lib_activity_indicator_style_css__ = __webpack_require__(17);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_antd_mobile_lib_activity_indicator_style_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_antd_mobile_lib_activity_indicator_style_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_antd_mobile_lib_activity_indicator__ = __webpack_require__(18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_antd_mobile_lib_activity_indicator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_antd_mobile_lib_activity_indicator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_antd_mobile_lib_nav_bar_style_css__ = __webpack_require__(11);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_antd_mobile_lib_nav_bar_style_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_antd_mobile_lib_nav_bar_style_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_antd_mobile_lib_nav_bar__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_antd_mobile_lib_nav_bar___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_antd_mobile_lib_nav_bar__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_antd_mobile_lib_search_bar_style_css__ = __webpack_require__(37);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_antd_mobile_lib_search_bar_style_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_antd_mobile_lib_search_bar_style_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_antd_mobile_lib_search_bar__ = __webpack_require__(38);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_antd_mobile_lib_search_bar___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_antd_mobile_lib_search_bar__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_antd_mobile_lib_icon_style_css__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_antd_mobile_lib_icon_style_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_antd_mobile_lib_icon_style_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_antd_mobile_lib_icon__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_antd_mobile_lib_icon___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_antd_mobile_lib_icon__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_react_redux__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__views_common_Content__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_react_dom__ = __webpack_require__(16);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_react_dom___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_13_react_dom__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14_react_addons_css_transition_group__ = __webpack_require__(277);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14_react_addons_css_transition_group___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_14_react_addons_css_transition_group__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__core_utils_IConstant__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__store_actions_map_elementMapAction__ = __webpack_require__(907);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__assets_css_map_css__ = __webpack_require__(148);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__assets_css_map_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_17__assets_css_map_css__);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var ElementMapScreen=function(_Component){_inherits(ElementMapScreen,_Component);function ElementMapScreen(props){_classCallCheck(this,ElementMapScreen);var _this=_possibleConstructorReturn(this,(ElementMapScreen.__proto__||Object.getPrototypeOf(ElementMapScreen)).call(this,props));_this.typeObj=[{title:'出行必看',list:[{name:'景区',type:'scenic'},{name:'酒店',type:'hotel'},{name:'餐饮',type:'food'},{name:'购物',type:'shopping'},{name:'娱乐',type:'fun'},{name:'体育馆/游乐园',type:'stadiumAmusementPark'},{name:'夜市烧烤',type:'barbecueNightMarket'}]},{title:'生活助手',list:[{name:'公厕',type:'publicToilet'},{name:'自行车',type:'bicycle'},{name:'停车场',type:'parking'},{name:'医院',type:'hospital'},{name:'长途汽车站',type:'busStation'},{name:'物流快递',type:'express'},{name:'汽修厂',type:'repairFactory'},{name:'商场',type:'market'}]}];_this.state={mapHeight:0,panelBottom:0};_this.deSelectPoi=_this.deSelectPoi.bind(_this);_this.searchTypeButtonTapped=_this.searchTypeButtonTapped.bind(_this);_this.hidePanel=_this.hidePanel.bind(_this);_this.togglePanel=_this.togglePanel.bind(_this);_this.searchBarFocus=_this.searchBarFocus.bind(_this);_this.dailPhone=_this.dailPhone.bind(_this);_this.navTo=_this.navTo.bind(_this);_this.showDetails=_this.showDetails.bind(_this);return _this;}_createClass(ElementMapScreen,[{key:'componentDidMount',value:function componentDidMount(){this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_16__store_actions_map_elementMapAction__[\"c\" /* isFetchingChangeAction */])(true));this.updateWindowDimensions();}},{key:'componentWillReceiveProps',value:function componentWillReceiveProps(nextProps){var isUpdateLocation=!this.props.baiduMapInited&&this.props.baiduMapInited!==nextProps.baiduMapInited;isUpdateLocation=isUpdateLocation||!this.props.lat&&this.props.lat!==nextProps.lat;if(isUpdateLocation){this.updateFromLocation(nextProps);}if(this.props.searchType!==nextProps.searchType){this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_16__store_actions_map_elementMapAction__[\"a\" /* asyncGetListAction */])(nextProps.searchType,nextProps.keywords,nextProps.lat,nextProps.lng));}if(this.props.dataList!==nextProps.dataList){this.addMarkers(nextProps.dataList,nextProps.searchType);}}},{key:'render',value:function render(){var _this2=this;return __WEBPACK_IMPORTED_MODULE_10_react___default.a.createElement('div',{className:'elementMapPage'},__WEBPACK_IMPORTED_MODULE_10_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_antd_mobile_lib_nav_bar___default.a,{mode:'dark',className:'navBar',icon:__WEBPACK_IMPORTED_MODULE_10_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_9_antd_mobile_lib_icon___default.a,{type:'left'}),onLeftClick:function onLeftClick(){var code=_this2.props.match.params.code;var dispatch=_this2.props.dispatch;_this2.props.history.goBack();dispatch(Object(__WEBPACK_IMPORTED_MODULE_16__store_actions_map_elementMapAction__[\"b\" /* goBackAction */])(code));}},__WEBPACK_IMPORTED_MODULE_10_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7_antd_mobile_lib_search_bar___default.a,{placeholder:'\\u8BF7\\u8F93\\u5165\\u5173\\u952E\\u5B57',maxLength:20,value:this.props.keywords===undefined?'':this.props.keywords,onFocus:function onFocus(){_this2.searchBarFocus();},disabled:this.isEntitySearchType()?true:false,onChange:function onChange(val){_this2.updateKeyword(val);},onCancel:function onCancel(val){_this2.updateKeyword('');_this2.searchByKeyword('');},onSubmit:function onSubmit(val){_this2.updateKeyword(val);_this2.searchByKeyword(val);}})),__WEBPACK_IMPORTED_MODULE_10_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_12__views_common_Content__[\"a\" /* default */],{ref:function ref(view){_this2.scrollView=view;}},__WEBPACK_IMPORTED_MODULE_10_react___default.a.createElement('div',{id:'elementMap',ref:function ref(view){_this2.mapView=view;},style:{height:this.state.mapHeight+'px'}}),__WEBPACK_IMPORTED_MODULE_10_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_14_react_addons_css_transition_group___default.a,{transitionName:'elementMapPanel',transitionAppearTimeout:500,transitionEnterTimeout:500,transitionLeaveTimeout:300},this.props.isPanelShowing?__WEBPACK_IMPORTED_MODULE_10_react___default.a.createElement('div',{key:'1',className:'mapTypePanel',onClick:this.hidePanel},this.renderPanelDetails()):null),this.renderFooterDetails(),this.renderSegmentButtonView(),this.props.isFetching?__WEBPACK_IMPORTED_MODULE_10_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd_mobile_lib_activity_indicator___default.a,{toast:true,text:'Loading...'}):null));}},{key:'renderSegmentButtonView',value:function renderSegmentButtonView(){var _this3=this;var searchTypeName=this.getSearchTypeName();return searchTypeName&&searchTypeName.length>0?__WEBPACK_IMPORTED_MODULE_10_react___default.a.createElement('div',{className:'searchTypeName',onClick:function onClick(){return _this3.togglePanel();}},searchTypeName):null;}},{key:'renderPanelDetails',value:function renderPanelDetails(){var _this4=this;return __WEBPACK_IMPORTED_MODULE_10_react___default.a.createElement('div',{style:{position:'absolute',top:'0px',bottom:'30%',width:'100%',overflow:'scroll',backgroundColor:'#fff'}},__WEBPACK_IMPORTED_MODULE_10_react___default.a.createElement('div',{style:{overflow:'scroll',position:'absolute',top:'80px',bottom:'0px'}},this.typeObj.map(function(typeItem,sectionIndex){return __WEBPACK_IMPORTED_MODULE_10_react___default.a.createElement('div',{key:typeItem.title,className:'typeBoxView'},__WEBPACK_IMPORTED_MODULE_10_react___default.a.createElement('div',{className:'typeName'},typeItem.title),__WEBPACK_IMPORTED_MODULE_10_react___default.a.createElement('div',{className:'typeView'},typeItem.list.map(function(item,rowIndex){return __WEBPACK_IMPORTED_MODULE_10_react___default.a.createElement('div',{key:item.type,onClick:function onClick(){return _this4.searchTypeButtonTapped(item.type);},className:'typeButton'},item.name);})));})));}},{key:'renderFooterDetails',value:function renderFooterDetails(){if(!this.props.selectedItem){return null;}var phoneIcon=__webpack_require__(908);var navIcon=__webpack_require__(909);var detailsIcon=__webpack_require__(910);return __WEBPACK_IMPORTED_MODULE_10_react___default.a.createElement('div',{className:'footerDetails'},__WEBPACK_IMPORTED_MODULE_10_react___default.a.createElement('div',{className:'footerDetailsName'},this.props.selectedItem.name),__WEBPACK_IMPORTED_MODULE_10_react___default.a.createElement('div',{className:'footerDetailsAddress'},this.props.selectedItem.distance,'\\xA0\\xA0\\xA0\\xA0',this.props.selectedItem.address),__WEBPACK_IMPORTED_MODULE_10_react___default.a.createElement('div',{className:'footerDetailsButtons'},__WEBPACK_IMPORTED_MODULE_10_react___default.a.createElement('div',{className:this.props.selectedItem.telephone?'footerDetailsButton':'footerDetailsButton footerDetailsButtonDisabled',onClick:this.dailPhone},__WEBPACK_IMPORTED_MODULE_10_react___default.a.createElement('img',{src:phoneIcon,alt:''}),' \\u7535\\u8BDD'),__WEBPACK_IMPORTED_MODULE_10_react___default.a.createElement('div',{className:'footerDetailsSplitLine'}),__WEBPACK_IMPORTED_MODULE_10_react___default.a.createElement('div',{className:this.props.selectedItem.latitude&&this.props.selectedItem.longitude?'footerDetailsButton':'footerDetailsButton footerDetailsButtonDisabled',onClick:this.navTo},__WEBPACK_IMPORTED_MODULE_10_react___default.a.createElement('img',{src:navIcon,alt:''}),' \\u5230\\u8FD9\\u53BB'),__WEBPACK_IMPORTED_MODULE_10_react___default.a.createElement('div',{className:'footerDetailsSplitLine'}),__WEBPACK_IMPORTED_MODULE_10_react___default.a.createElement('div',{className:!this.isEntitySearchType()?'footerDetailsButton':'footerDetailsButton footerDetailsButtonDisabled',onClick:this.showDetails},__WEBPACK_IMPORTED_MODULE_10_react___default.a.createElement('img',{src:detailsIcon,alt:''}),' \\u8BE6\\u60C5')));}},{key:'initMap',value:function initMap(){// 地图标记图片\nthis.markerIcon=new window.BMap.Icon(__webpack_require__(273),new window.BMap.Size(30,30),{anchor:new window.BMap.Size(15,30),imageSize:new window.BMap.Size(30,30)});this.selectedMarkerIcon=new window.BMap.Icon(__webpack_require__(911),new window.BMap.Size(30,30),{anchor:new window.BMap.Size(15,30),imageSize:new window.BMap.Size(30,30)});this.map=this.map?this.map:new window.BMap.Map('elementMap');this.map.centerAndZoom(new window.BMap.Point(__WEBPACK_IMPORTED_MODULE_15__core_utils_IConstant__[\"b\" /* APP_CITY_LONGITUDE */],__WEBPACK_IMPORTED_MODULE_15__core_utils_IConstant__[\"a\" /* APP_CITY_LATITUDE */]),16);this.map.addControl(new window.BMap.NavigationControl({type:window.BMAP_NAVIGATION_CONTROL_SMALL,anchor:window.BMAP_ANCHOR_BOTTOM_RIGHT,enableGeolocation:true,offset:new window.BMap.Size(20,20)}));this.map.addControl(new window.BMap.GeolocationControl({enableAutoLocation:false}));this.map.addEventListener('click',this.deSelectPoi);this.map.addEventListener('dragstart',this.deSelectPoi);}},{key:'updateWindowDimensions',value:function updateWindowDimensions(){var _this5=this;var height=window.innerHeight-__WEBPACK_IMPORTED_MODULE_13_react_dom___default.a.findDOMNode(this).parentNode.offsetTop;this.setState({mapHeight:height,panelBottom:window.innerHeight/3.0},function(){_this5.updateFromLocation(_this5.props);});}},{key:'updateFromLocation',value:function updateFromLocation(props){if(props.baiduMapInited){this.initMap();}if(props.baiduMapInited&&props.lat&&props.lng&&(!props.searchType||props.searchType.length<=0)){var searchType='scenic';this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_16__store_actions_map_elementMapAction__[\"g\" /* searchTypeChangeAction */])(searchType));}else if(props.dataList&&props.searchType){this.addMarkers(props.dataList,props.searchType);this.map.setZoom(props.mapZoom);this.map.setCenter(new window.BMap.Point(props.centerLng,props.centerLat));}}// 更新keyword\n},{key:'updateKeyword',value:function updateKeyword(val){this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_16__store_actions_map_elementMapAction__[\"e\" /* keywordChangeAction */])(val));}// 搜索 keyword\n},{key:'searchByKeyword',value:function searchByKeyword(val){this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_16__store_actions_map_elementMapAction__[\"a\" /* asyncGetListAction */])(this.props.searchType,val,this.props.lat,this.props.lng));}//搜索框 focus \n},{key:'searchBarFocus',value:function searchBarFocus(){this.deSelectPoi();this.hidePanel();if(this.isEntitySearchType()){__WEBPACK_IMPORTED_MODULE_1_antd_mobile_lib_toast___default.a.success('暂只支持景区，酒店，餐饮，购物，娱乐的关键字查询！',2);return;}}// 是否是 其它类型 的数据\n},{key:'isEntitySearchType',value:function isEntitySearchType(){var searchType=this.props.searchType;return!(searchType==='scenic'||searchType==='hotel'||searchType==='food'||searchType==='shopping'||searchType==='fun');}},{key:'togglePanel',value:function togglePanel(){this.deSelectPoi();this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_16__store_actions_map_elementMapAction__[\"d\" /* isPanelShowingChangeAction */])(!this.props.isPanelShowing));}},{key:'hidePanel',value:function hidePanel(){this.deSelectPoi();this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_16__store_actions_map_elementMapAction__[\"d\" /* isPanelShowingChangeAction */])(false));}},{key:'addMarkers',value:function addMarkers(dataList,searchType){var _this6=this;this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_16__store_actions_map_elementMapAction__[\"c\" /* isFetchingChangeAction */])(false));this.map.clearOverlays();if(!this.map||!dataList||dataList.length===0){return;}this.markers=[];var pts=[];var _loop=function _loop(i){var item=dataList[i];var pt=void 0;if(searchType==='scenic'||searchType==='hotel'||searchType==='food'||searchType==='shopping'||searchType==='fun'){pt=new window.BMap.Point(item.Longitude,item.Latitude);}else{pt=new window.BMap.Point(item.longitude,item.latitude);}var marker=new window.BMap.Marker(pt,{icon:_this6.markerIcon});marker.addEventListener('click',function(e){e.domEvent.stopPropagation();this.markerTapped(i);}.bind(_this6));pts.push(pt);_this6.markers.push(marker);};for(var i=0;i<dataList.length;i++){_loop(i);}if(!this.markerClusterer){this.markerClusterer=new window.BMapLib.MarkerClusterer(this.map);}this.markerClusterer.clearMarkers();//清空 聚合mark \nthis.markerClusterer.addMarkers(this.markers);this.map.setViewport(pts);}},{key:'deSelectPoi',value:function deSelectPoi(){this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_16__store_actions_map_elementMapAction__[\"h\" /* selectedItemChangeAction */])(null));if(this.markers&&this.markers.length>0){for(var i=0;i<this.markers.length;i++){var marker=this.markers[i];if(marker.getIcon()!==this.markerIcon){marker.setIcon(this.markerIcon);}}this.updateMapControlPosition(80);}}},{key:'updateMapControlPosition',value:function updateMapControlPosition(){var bottom=arguments.length>0&&arguments[0]!==undefined?arguments[0]:140;var mapCtrls=this.mapView.getElementsByClassName('BMap_noprint');for(var i=0;i<mapCtrls.length;i++){var ctrl=mapCtrls[i];ctrl.style.cssText+='bottom: '+bottom+'px;';}}},{key:'markerTapped',value:function markerTapped(index){this.updateMapControlPosition();for(var i=0;i<this.markers.length;i++){var marker=this.markers[i];if(index===i){marker.setIcon(this.selectedMarkerIcon);}else if(marker.getIcon()!==this.markerIcon){marker.setIcon(this.markerIcon);}}var selectedItem=this.toMapSelectedItem(this.props.dataList[index]);this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_16__store_actions_map_elementMapAction__[\"h\" /* selectedItemChangeAction */])(selectedItem));}},{key:'getSearchTypeName',value:function getSearchTypeName(){var searchType=this.props.searchType;var searchTypeName='';for(var i=0;i<this.typeObj.length;i++){var list=this.typeObj[i].list;for(var j=0;j<list.length;j++){var _item=list[j];if(_item.type===searchType){searchTypeName=_item.name;break;}}if(searchTypeName&&searchTypeName.length>0){break;}}return searchTypeName;}},{key:'toMapSelectedItem',value:function toMapSelectedItem(item){var name=void 0;var code=void 0;var distance=void 0;var telephone=void 0;var address=void 0;var latitude=void 0;var longitude=void 0;var imageUrl=void 0;var searchType=this.props.searchType;var searchTypeName=this.getSearchTypeName();item.Distance=item.Distance?item.Distance:item.distance;item.distance=item.distance?item.distance:item.Distance;if(searchType==='scenic'||searchType==='hotel'){name=item.CnName;code=item.Code;distance=item.Distance.toFixed(1)+'千米';telephone=searchType==='scenic'?item.ShopTelePhone:item.Telephone;address=item.Address&&item.Address.length>0?item.Address:'地址暂无';latitude=item.Latitude;longitude=item.Longitude;if(item.GetImage){imageUrl=item.GetImage.ImageFrontUrl;}}else if(searchType==='food'||searchType==='shopping'||searchType==='fun'){name=item.CnName;code=item.Code;distance=item.distance.toFixed(1)+'千米';telephone=searchType==='food'?item.ReservationCall:item.Telephone;address=item.Address&&item.Address.length>0?item.Address:'地址暂无';latitude=item.Latitude;longitude=item.Longitude;if(item.GetImage){imageUrl=item.GetImage.SmallImageFrontUrl;}}else{name=item.cnName;code=item.code;distance=item.distance.toFixed(1)+'千米';telephone=null;address=item.address&&item.address.length>0?item.address:searchTypeName.replace('/',',')+'  地址暂无';latitude=item.latitude;longitude=item.longitude;if(item.images){imageUrl=item.images.smallImageFrontUrl;}}var selectedItem={name:name,code:code,distance:distance,telephone:telephone,address:address,latitude:latitude,longitude:longitude,imageUrl:imageUrl,type:searchType};return selectedItem;}},{key:'searchTypeButtonTapped',value:function searchTypeButtonTapped(searchType){var _this7=this;this.deSelectPoi();if(this.props.searchType!==searchType){//清空关键字\nif(this.props.keywords&&this.props.keywords.length>0){this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_16__store_actions_map_elementMapAction__[\"e\" /* keywordChangeAction */])('')).then(function(){return _this7.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_16__store_actions_map_elementMapAction__[\"g\" /* searchTypeChangeAction */])(searchType));});}else{this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_16__store_actions_map_elementMapAction__[\"g\" /* searchTypeChangeAction */])(searchType));}}}// 保存 地图中心点 和 缩放级\n},{key:'setMapZoomAndCenterLocation',value:function setMapZoomAndCenterLocation(){if(!this.map){return;}var centerPoint=this.map.getCenter();var mapZoom=this.map.getZoom();var centerLat=centerPoint.lat;var centerLng=centerPoint.lng;this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_16__store_actions_map_elementMapAction__[\"f\" /* mapZoomAndCenterLocationChangeAction */])(mapZoom,centerLat,centerLng));}// 电话\n},{key:'dailPhone',value:function dailPhone(){this.setMapZoomAndCenterLocation();var detailItem=this.props.selectedItem;if(detailItem.telephone&&detailItem.telephone.length>0){window.open('tel://'+detailItem.telephone,'_self');}}// 导航\n},{key:'navTo',value:function navTo(){this.setMapZoomAndCenterLocation();var detailItem=this.props.selectedItem;if(detailItem.latitude&&detailItem.latitude>0&&detailItem.longitude&&detailItem.longitude>0){// this.props.history.push(`/map/elementMarker/${detailItem.code}/${detailItem.name}/${detailItem.address}/${detailItem.latitude}/${detailItem.longitude}`);\n//导航点击\nthis.props.history.push('/map/mapNav/'+detailItem.code+'/'+detailItem.latitude+'/'+detailItem.longitude);}}// 详情\n},{key:'showDetails',value:function showDetails(){if(this.isEntitySearchType()){return;}this.setMapZoomAndCenterLocation();var detailItem=this.props.selectedItem;var searchType=this.props.searchType;if(searchType==='scenic'){this.props.history.push('/scenic/detail/'+detailItem.code);}else if(searchType==='hotel'){this.props.history.push('/hotel/detail/'+detailItem.code);}else if(searchType==='food'){this.props.history.push('/restaurant/detail/'+detailItem.code);}else if(searchType==='shopping'){this.props.history.push('/shopping/detail/'+detailItem.code);}else if(searchType==='fun'){this.props.history.push('/fun/detail/'+detailItem.code);}}}]);return ElementMapScreen;}(__WEBPACK_IMPORTED_MODULE_10_react__[\"Component\"]);var mapStateToProps=function mapStateToProps(state,ownProps){var obj=state.map.elementMap;return Object.assign({},obj,{baiduMapInited:state.system.baiduMapInited,markerClusterInited:state.system.markerClusterInited,lat:state.system.latitude,lng:state.system.longitude});};ElementMapScreen=Object(__WEBPACK_IMPORTED_MODULE_11_react_redux__[\"b\" /* connect */])(mapStateToProps)(ElementMapScreen);/* harmony default export */ __webpack_exports__[\"default\"] = (ElementMapScreen);\n\n/***/ }),\n\n/***/ 907:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = goBackAction;\n/* harmony export (immutable) */ __webpack_exports__[\"d\"] = isPanelShowingChangeAction;\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = isFetchingChangeAction;\n/* harmony export (immutable) */ __webpack_exports__[\"e\"] = keywordChangeAction;\n/* harmony export (immutable) */ __webpack_exports__[\"f\"] = mapZoomAndCenterLocationChangeAction;\n/* harmony export (immutable) */ __webpack_exports__[\"g\"] = searchTypeChangeAction;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = asyncGetListAction;\n/* harmony export (immutable) */ __webpack_exports__[\"h\"] = selectedItemChangeAction;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__core_utils_IConstant__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__core_utils_HttpClient__ = __webpack_require__(8);\nfunction goBackAction(){return{type:__WEBPACK_IMPORTED_MODULE_0__core_utils_IConstant__[\"c\" /* Actions */].MAP.ELEMENTMAP.GO_BACK};}function isPanelShowingChangeAction(isPanelShowing){return{type:__WEBPACK_IMPORTED_MODULE_0__core_utils_IConstant__[\"c\" /* Actions */].MAP.ELEMENTMAP.IS_PANEL_SHOWING_CHANGE,isPanelShowing:isPanelShowing};}function isFetchingChangeAction(isFetching){return{type:__WEBPACK_IMPORTED_MODULE_0__core_utils_IConstant__[\"c\" /* Actions */].MAP.ELEMENTMAP.IS_FETCHING_CHANGE,isFetching:isFetching};}function keywordChangeAction(keywords){return function(dispatch,getState){dispatch(setKeywordsAction(keywords));return new Promise(function(resolve){resolve();});};}function setKeywordsAction(keywords){return{type:__WEBPACK_IMPORTED_MODULE_0__core_utils_IConstant__[\"c\" /* Actions */].MAP.ELEMENTMAP.KEYWORDS_CHANGE,keywords:keywords};}function mapZoomAndCenterLocationChangeAction(mapZoom,centerLat,centerLng){return function(dispatch,getState){dispatch(_mapZoomAndCenterLocationChangeAction(mapZoom,centerLat,centerLng));return new Promise(function(resolve){resolve();});};}function _mapZoomAndCenterLocationChangeAction(mapZoom,centerLat,centerLng){return{type:__WEBPACK_IMPORTED_MODULE_0__core_utils_IConstant__[\"c\" /* Actions */].MAP.ELEMENTMAP.MAPZOOM_AND_CENTERLOCATION_CHANGE,mapZoom:mapZoom,centerLat:centerLat,centerLng:centerLng};}function searchTypeChangeAction(searchType){return{type:__WEBPACK_IMPORTED_MODULE_0__core_utils_IConstant__[\"c\" /* Actions */].MAP.ELEMENTMAP.SEARCHTYPE_CHANGE,searchType:searchType};}function asyncGetListAction(searchType,keywords,lat,lng){return function(dispatch,getState){dispatch(_getListRequestAction(searchType,keywords,lat,lng));return _fetchList(searchType,keywords,lat,lng).then(function(resp){dispatch(_getListSuccessAction(searchType,keywords,lat,lng,resp));}).catch(function(error){dispatch(_getListFailureAction(searchType,keywords,lat,lng,error));});};}function selectedItemChangeAction(selectedItem){return{type:__WEBPACK_IMPORTED_MODULE_0__core_utils_IConstant__[\"c\" /* Actions */].MAP.ELEMENTMAP.SELECTEDITEM_CHANGE,selectedItem:selectedItem};}function _fetchList(searchType,keywords,lat,lng){if(searchType==='scenic'){return _fetchScenicList(searchType,keywords,lat,lng);}else if(searchType==='hotel'){return _fetchHotelList(searchType,keywords,lat,lng);}else if(searchType==='food'){return _fetchFoodList(searchType,keywords,lat,lng);}else if(searchType==='shopping'){return _fetchShoppingList(searchType,keywords,lat,lng);}else if(searchType==='fun'){return _fetchFunList(searchType,keywords,lat,lng);}else{return _fetchEntityList(searchType,keywords,lat,lng);}}function _fetchScenicList(searchType,keywords,lat,lng){var url=__WEBPACK_IMPORTED_MODULE_1__core_utils_HttpClient__[\"a\" /* default */].HOST_E_BUSINESS+'/api/Attractions/GetAttractionsList';var conditionParams={Order:[],Page:{PageIndex:1,PageSize:10000},Search:[]};if(keywords&&keywords.length>0){var search={AndOR:'and',SearchField:'Keyword',ConditionType:'1',ListSearchValue:[{ItemValue:keywords}]};conditionParams.Search.push(search);}var kvDict={type:'app',conditionParams:conditionParams,lat:lat,lng:lng};return __WEBPACK_IMPORTED_MODULE_1__core_utils_HttpClient__[\"a\" /* default */].getData(url,kvDict).then(function(resp){return resp.json();});}function _fetchHotelList(searchType,keywords,lat,lng){var url=__WEBPACK_IMPORTED_MODULE_1__core_utils_HttpClient__[\"a\" /* default */].HOST_E_BUSINESS+'/api/Hotel/GetHoteList';var conditionParams={Order:[],Page:{PageIndex:1,PageSize:10000},Search:[{AndOR:'and',ConditionType:'1',SearchField:'StartDate',ListSearchValue:[{ItemValue:new Date().formatDate('YYYY-MM-DD')}]},{AndOR:'and',ConditionType:'1',SearchField:'EndDate',ListSearchValue:[{ItemValue:new Date().addDays(1).formatDate('YYYY-MM-DD')}]}]};if(keywords&&keywords.length>0){var search={AndOR:'and',SearchField:'HotelKey',ConditionType:'1',ListSearchValue:[{ItemValue:keywords}]};conditionParams.Search.push(search);}var kvDict={type:'app',conditionParams:conditionParams,lat:lat,lng:lng};return __WEBPACK_IMPORTED_MODULE_1__core_utils_HttpClient__[\"a\" /* default */].getData(url,kvDict).then(function(resp){return resp.json();});}function _fetchFoodList(searchType,keywords,lat,lng){var url=__WEBPACK_IMPORTED_MODULE_1__core_utils_HttpClient__[\"a\" /* default */].HOST_PORTAL2+'/api/Restaurant/GetList';var conditionParams={Order:[],Page:{PageIndex:1,PageSize:10000},Search:[]};if(keywords&&keywords.length>0){var search={AndOR:'and',SearchField:'CnName, EnName, Address, ReservationCall, RestaurantFeature,Tags',ConditionType:'2',ListSearchValue:[{ItemValue:keywords}]};conditionParams.Search.push(search);}var kvDict={type:'app',conditionParams:conditionParams,lat:lat,lng:lng};return __WEBPACK_IMPORTED_MODULE_1__core_utils_HttpClient__[\"a\" /* default */].getData(url,kvDict).then(function(resp){return resp.json();});}function _fetchShoppingList(searchType,keywords,lat,lng){var url=__WEBPACK_IMPORTED_MODULE_1__core_utils_HttpClient__[\"a\" /* default */].HOST_PORTAL2+'/api/Business/GetList';var conditionParams={Order:[],Page:{PageIndex:1,PageSize:10000},Search:[]};if(keywords&&keywords.length>0){var search={AndOR:'and',SearchField:'CnName,EnName,FeatureDesc,Address,Telephone,Tags',ConditionType:'2',ListSearchValue:[{ItemValue:keywords}]};conditionParams.Search.push(search);}var kvDict={type:'app',conditionParams:conditionParams,lat:lat,lng:lng};return __WEBPACK_IMPORTED_MODULE_1__core_utils_HttpClient__[\"a\" /* default */].getData(url,kvDict).then(function(resp){return resp.json();});}function _fetchFunList(searchType,keywords,lat,lng){var url=__WEBPACK_IMPORTED_MODULE_1__core_utils_HttpClient__[\"a\" /* default */].HOST_PORTAL2+'/Api/Entertainment/GetList';var conditionParams={Order:[],Page:{PageIndex:1,PageSize:10000},Search:[]};if(keywords&&keywords.length>0){var search={AndOR:'and',SearchField:'cnName',ConditionType:'1',ListSearchValue:[{ItemValue:keywords}]};conditionParams.Search.push(search);}var kvDict={type:'app',conditionParams:conditionParams,lat:lat,lng:lng};return __WEBPACK_IMPORTED_MODULE_1__core_utils_HttpClient__[\"a\" /* default */].getData(url,kvDict).then(function(resp){return resp.json();});}function _fetchEntityList(searchType,keywords,lat,lng){var entityType=_geEntityType(searchType);var kvDict={content:{type:1,Code:'DC_web_base_facility',whereSQL:'Type:'+entityType,orderType:'desc',orderField:'distance',pageIndex:1,pageSize:10000,lng:lat,lat:lng}};return __WEBPACK_IMPORTED_MODULE_1__core_utils_HttpClient__[\"a\" /* default */].requestDataCenter('DC_DATACENT_ENTITY',kvDict).then(function(resp){return resp.json();});}function _geEntityType(searchType){var entityType=1;if(searchType==='stadiumAmusementPark'){entityType=8;}else if(searchType==='barbecueNightMarket'){entityType=9;}else if(searchType==='publicToilet'){entityType=1;}else if(searchType==='bicycle'){entityType=2;}else if(searchType==='parking'){entityType=3;}else if(searchType==='hospital'){entityType=4;}else if(searchType==='busStation'){entityType=5;}else if(searchType==='express'){entityType=6;}else if(searchType==='repairFactory'){entityType=7;}else if(searchType==='market'){entityType=10;}return entityType;}function _getListRequestAction(searchType,keywords,lat,lng){return{type:__WEBPACK_IMPORTED_MODULE_0__core_utils_IConstant__[\"c\" /* Actions */].MAP.ELEMENTMAP.GET_LIST_REQUEST,searchType:searchType,keywords:keywords};}function _getListSuccessAction(searchType,keywords,lat,lng,resp){return{type:__WEBPACK_IMPORTED_MODULE_0__core_utils_IConstant__[\"c\" /* Actions */].MAP.ELEMENTMAP.GET_LIST_SUCCESS,searchType:searchType,keywords:keywords,result:resp};}function _getListFailureAction(searchType,keywords,lat,lng,error){return{type:__WEBPACK_IMPORTED_MODULE_0__core_utils_IConstant__[\"c\" /* Actions */].MAP.ELEMENTMAP.GET_LIST_FAILURE,searchType:searchType,keywords:keywords,message:error};}\n\n/***/ }),\n\n/***/ 908:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"static/media/ico_map_phone@2x.02235dc5.png\";\n\n/***/ }),\n\n/***/ 909:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"static/media/ico_map_go@2x.a847eed7.png\";\n\n/***/ }),\n\n/***/ 910:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"static/media/ico_map_detail@2x.8a6f5193.png\";\n\n/***/ }),\n\n/***/ 911:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"static/media/common_poi_selected@2x.38730eb3.png\";\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/1.536cf3a5.chunk.js","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { NavBar, Icon, SearchBar, ActivityIndicator, Toast } from 'antd-mobile';\r\nimport Content from '../../views/common/Content';\r\nimport ReactDOM from 'react-dom';\r\nimport ReactCSSTransitionGroup from 'react-addons-css-transition-group';\r\nimport { APP_CITY_LATITUDE, APP_CITY_LONGITUDE } from '../../core/utils/IConstant';\r\nimport {\r\n    goBackAction,\r\n    isPanelShowingChangeAction,\r\n    isFetchingChangeAction,\r\n    keywordChangeAction,\r\n    mapZoomAndCenterLocationChangeAction,\r\n    searchTypeChangeAction,\r\n    asyncGetListAction,\r\n    selectedItemChangeAction,\r\n} from '../../store/actions/map/elementMapAction';\r\nimport '../../assets/css/map.css';\r\n\r\nclass ElementMapScreen extends Component {\r\n    typeObj = [\r\n        {\r\n            title: '出行必看',\r\n            list: [\r\n                { name: '景区', type: 'scenic' },\r\n                { name: '酒店', type: 'hotel' },\r\n                { name: '餐饮', type: 'food' },\r\n                { name: '购物', type: 'shopping' },\r\n                { name: '娱乐', type: 'fun' },\r\n                { name: '体育馆/游乐园', type: 'stadiumAmusementPark' },\r\n                { name: '夜市烧烤', type: 'barbecueNightMarket' }\r\n            ]\r\n        },\r\n        {\r\n            title: '生活助手',\r\n            list: [\r\n                { name: '公厕', type: 'publicToilet' },\r\n                { name: '自行车', type: 'bicycle' },\r\n                { name: '停车场', type: 'parking' },\r\n                { name: '医院', type: 'hospital' },\r\n                { name: '长途汽车站', type: 'busStation' },\r\n                { name: '物流快递', type: 'express' },\r\n                { name: '汽修厂', type: 'repairFactory' },\r\n                { name: '商场', type: 'market' }\r\n            ]\r\n        }\r\n    ]\r\n    markerClusterer;\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            mapHeight: 0,\r\n            panelBottom: 0,\r\n        };\r\n\r\n        this.deSelectPoi = this.deSelectPoi.bind(this);\r\n        this.searchTypeButtonTapped = this.searchTypeButtonTapped.bind(this);\r\n        this.hidePanel = this.hidePanel.bind(this);\r\n        this.togglePanel = this.togglePanel.bind(this);\r\n        this.searchBarFocus = this.searchBarFocus.bind(this);\r\n        this.dailPhone = this.dailPhone.bind(this);\r\n        this.navTo = this.navTo.bind(this);\r\n        this.showDetails = this.showDetails.bind(this);\r\n    }\r\n    componentDidMount() {\r\n        this.props.dispatch(isFetchingChangeAction(true));\r\n        this.updateWindowDimensions();\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        let isUpdateLocation = !this.props.baiduMapInited && this.props.baiduMapInited !== nextProps.baiduMapInited;\r\n        isUpdateLocation = isUpdateLocation || (!this.props.lat && this.props.lat !== nextProps.lat);\r\n        if (isUpdateLocation) {\r\n            this.updateFromLocation(nextProps);\r\n        }\r\n\r\n        if (this.props.searchType !== nextProps.searchType) {\r\n            this.props.dispatch(asyncGetListAction(nextProps.searchType, nextProps.keywords, nextProps.lat, nextProps.lng));\r\n        }\r\n\r\n        if (this.props.dataList !== nextProps.dataList) {\r\n            this.addMarkers(nextProps.dataList, nextProps.searchType);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"elementMapPage\">\r\n                <NavBar mode=\"dark\"\r\n                    className=\"navBar\"\r\n                    icon={<Icon type=\"left\" />}\r\n                    onLeftClick={() => {\r\n                        let code = this.props.match.params.code;\r\n                        let dispatch = this.props.dispatch;\r\n                        this.props.history.goBack();\r\n                        dispatch(goBackAction(code));\r\n                    }}>\r\n                    <SearchBar placeholder=\"请输入关键字\"\r\n                        maxLength={20}\r\n                        value={this.props.keywords === undefined ?  '' : this.props.keywords}\r\n                        onFocus={() => { this.searchBarFocus(); }}\r\n                        disabled={ this.isEntitySearchType() ? true : false }\r\n                        onChange={(val) => { this.updateKeyword(val); }}\r\n                        onCancel={(val) => {\r\n                            this.updateKeyword('');\r\n                            this.searchByKeyword('');\r\n                        }}\r\n                        onSubmit={(val) => {\r\n                            this.updateKeyword(val);\r\n                            this.searchByKeyword(val);\r\n                        }} />\r\n                </NavBar>\r\n                <Content ref={(view) => { this.scrollView = view; }}>\r\n                    <div id=\"elementMap\" ref={(view) => { this.mapView = view; }} style={{ height: (this.state.mapHeight + 'px') }}></div>\r\n                    <ReactCSSTransitionGroup\r\n                        transitionName=\"elementMapPanel\"\r\n                        transitionAppearTimeout={500}\r\n                        transitionEnterTimeout={500}\r\n                        transitionLeaveTimeout={300}>\r\n                        {\r\n                            this.props.isPanelShowing\r\n                                ?\r\n                                <div key=\"1\" className=\"mapTypePanel\" onClick={this.hidePanel}>\r\n                                    {\r\n                                        this.renderPanelDetails()\r\n                                    }\r\n                                </div>\r\n                                :\r\n                                null\r\n                        }\r\n                    </ReactCSSTransitionGroup>\r\n                    {\r\n                        this.renderFooterDetails()\r\n                    }\r\n                    {\r\n                        this.renderSegmentButtonView()\r\n                    }\r\n                    {\r\n                        this.props.isFetching\r\n                            ?\r\n                            <ActivityIndicator\r\n                                toast\r\n                                text=\"Loading...\" />\r\n                            : null\r\n                    }\r\n                </Content>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderSegmentButtonView() {\r\n        let searchTypeName = this.getSearchTypeName();\r\n        return searchTypeName && searchTypeName.length > 0 ? (\r\n            <div className=\"searchTypeName\" onClick={() => this.togglePanel()}>{searchTypeName}</div>\r\n        ) : null;\r\n    }\r\n\r\n    renderPanelDetails() {\r\n        return (\r\n            <div style={{ position: 'absolute', top:'0px' ,bottom: '30%', width: '100%', overflow: 'scroll', backgroundColor: '#fff' }}>\r\n                <div style={{ overflow:'scroll', position:'absolute',top: '80px',bottom:'0px' }}>\r\n                    {\r\n                        this.typeObj.map((typeItem, sectionIndex) => <div key={typeItem.title} className=\"typeBoxView\">\r\n                            <div className=\"typeName\">{typeItem.title}</div>\r\n                            <div className=\"typeView\">\r\n                                {\r\n                                    typeItem.list.map((item, rowIndex) => <div key={item.type} onClick={() => this.searchTypeButtonTapped(item.type)} className=\"typeButton\">\r\n                                        {item.name}\r\n                                    </div>)\r\n                                }\r\n                            </div>\r\n                        </div>)\r\n                    }\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderFooterDetails() {\r\n        if (!this.props.selectedItem) {\r\n            return null;\r\n        }\r\n        let phoneIcon = require('../../assets/images/map/ico_map_phone@2x.png');\r\n        let navIcon = require('../../assets/images/map/ico_map_go@2x.png');\r\n        let detailsIcon = require('../../assets/images/map/ico_map_detail@2x.png');\r\n        return (\r\n            <div className=\"footerDetails\">\r\n                <div className=\"footerDetailsName\">{this.props.selectedItem.name}</div>\r\n                <div className=\"footerDetailsAddress\">{this.props.selectedItem.distance}&nbsp;&nbsp;&nbsp;&nbsp;{this.props.selectedItem.address}</div>\r\n                <div className=\"footerDetailsButtons\">\r\n                    <div className={this.props.selectedItem.telephone ? 'footerDetailsButton' : 'footerDetailsButton footerDetailsButtonDisabled'}\r\n                        onClick={this.dailPhone}>\r\n                        <img src={phoneIcon} alt=\"\" /> 电话\r\n                    </div>\r\n                    <div className=\"footerDetailsSplitLine\" />\r\n                    <div className={this.props.selectedItem.latitude && this.props.selectedItem.longitude  ? 'footerDetailsButton' : 'footerDetailsButton footerDetailsButtonDisabled'}\r\n                        onClick={this.navTo}>\r\n                        <img src={navIcon} alt=\"\" /> 到这去\r\n                    </div>\r\n                    <div className=\"footerDetailsSplitLine\" />\r\n                    <div className={ !this.isEntitySearchType() ?  'footerDetailsButton' :  'footerDetailsButton footerDetailsButtonDisabled'}\r\n                        onClick={this.showDetails}>\r\n                        <img src={detailsIcon} alt=\"\" /> 详情\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    initMap() {\r\n        // 地图标记图片\r\n        this.markerIcon = new window.BMap.Icon(require('../../assets/images/map/common_poi@2x.png'), new window.BMap.Size(30, 30), {\r\n            anchor: new window.BMap.Size(15, 30),\r\n            imageSize: new window.BMap.Size(30, 30)\r\n        });\r\n\r\n        this.selectedMarkerIcon = new window.BMap.Icon(require('../../assets/images/map/common_poi_selected@2x.png'), new window.BMap.Size(30, 30), {\r\n            anchor: new window.BMap.Size(15, 30),\r\n            imageSize: new window.BMap.Size(30, 30)\r\n        });\r\n\r\n        this.map = this.map ? this.map : new window.BMap.Map('elementMap');\r\n        this.map.centerAndZoom(new window.BMap.Point(APP_CITY_LONGITUDE, APP_CITY_LATITUDE), 16);\r\n        this.map.addControl(new window.BMap.NavigationControl({ type: window.BMAP_NAVIGATION_CONTROL_SMALL, anchor: window.BMAP_ANCHOR_BOTTOM_RIGHT, enableGeolocation: true, offset: new window.BMap.Size(20, 20) }));\r\n        this.map.addControl(new window.BMap.GeolocationControl({ enableAutoLocation: false }));\r\n\r\n        this.map.addEventListener('click', this.deSelectPoi);\r\n        this.map.addEventListener('dragstart', this.deSelectPoi);\r\n    }\r\n\r\n    updateWindowDimensions() {\r\n        const height = window.innerHeight - ReactDOM.findDOMNode(this).parentNode.offsetTop;\r\n        this.setState({ mapHeight: height, panelBottom: (window.innerHeight / 3.0) }, () => {\r\n            this.updateFromLocation(this.props);\r\n        });\r\n    }\r\n\r\n    updateFromLocation(props) {\r\n        if (props.baiduMapInited)\r\n        {\r\n            this.initMap();\r\n        }\r\n        if (props.baiduMapInited && props.lat && props.lng && (!props.searchType || props.searchType.length <= 0 )) {\r\n            let searchType = 'scenic';\r\n            this.props.dispatch(searchTypeChangeAction(searchType));\r\n        }\r\n        else if (props.dataList && props.searchType)\r\n        {\r\n            this.addMarkers(props.dataList,props.searchType);\r\n            this.map.setZoom(props.mapZoom);\r\n            this.map.setCenter(new window.BMap.Point(props.centerLng, props.centerLat));\r\n        }\r\n    }\r\n\r\n    // 更新keyword\r\n    updateKeyword(val) {\r\n        this.props.dispatch(keywordChangeAction(val));\r\n    }\r\n\r\n    // 搜索 keyword\r\n    searchByKeyword(val) {\r\n        this.props.dispatch(asyncGetListAction(this.props.searchType, val, this.props.lat, this.props.lng));\r\n    }\r\n\r\n    //搜索框 focus \r\n    searchBarFocus()\r\n    {\r\n        this.deSelectPoi();\r\n        this.hidePanel();\r\n        if (this.isEntitySearchType())\r\n        {\r\n            Toast.success('暂只支持景区，酒店，餐饮，购物，娱乐的关键字查询！',2);\r\n            return;\r\n        }\r\n    }\r\n\r\n    // 是否是 其它类型 的数据\r\n    isEntitySearchType()\r\n    {\r\n        let searchType = this.props.searchType;\r\n        return !(searchType === 'scenic' || searchType === 'hotel' || searchType === 'food' || searchType === 'shopping' || searchType === 'fun');\r\n    }\r\n\r\n    togglePanel() {\r\n        this.deSelectPoi();\r\n        this.props.dispatch(isPanelShowingChangeAction(!this.props.isPanelShowing));\r\n    }\r\n   \r\n    hidePanel() {\r\n        this.deSelectPoi();\r\n        this.props.dispatch(isPanelShowingChangeAction(false));\r\n    }\r\n\r\n    addMarkers(dataList, searchType) {\r\n        this.props.dispatch(isFetchingChangeAction(false));\r\n        this.map.clearOverlays();\r\n        if (!this.map || !dataList || dataList.length === 0) {\r\n            return;\r\n        }\r\n        this.markers = [];\r\n        let pts = [];\r\n        for (let i = 0; i < dataList.length; i++) {\r\n            let item = dataList[i];\r\n            let pt;\r\n            if (searchType === 'scenic' || searchType === 'hotel' || searchType === 'food' || searchType === 'shopping' || searchType === 'fun' )\r\n            {\r\n                pt = new window.BMap.Point(item.Longitude, item.Latitude);\r\n            }else{\r\n                pt = new window.BMap.Point(item.longitude, item.latitude);\r\n            }\r\n\r\n            let marker = new window.BMap.Marker(pt, { icon: this.markerIcon });\r\n            marker.addEventListener('click', function (e) {\r\n                e.domEvent.stopPropagation();\r\n                this.markerTapped(i);\r\n            }.bind(this));\r\n\r\n            pts.push(pt);\r\n            this.markers.push(marker);\r\n        }\r\n        if (!this.markerClusterer) {\r\n            this.markerClusterer = new window.BMapLib.MarkerClusterer(this.map);\r\n        }\r\n        this.markerClusterer.clearMarkers(); //清空 聚合mark \r\n        this.markerClusterer.addMarkers(this.markers);\r\n        this.map.setViewport(pts);\r\n    }\r\n    deSelectPoi() {\r\n        this.props.dispatch(selectedItemChangeAction(null));\r\n\r\n        if (this.markers && this.markers.length > 0)\r\n        {\r\n            for (let i = 0; i < this.markers.length; i++) {\r\n                let marker = this.markers[i];\r\n                if (marker.getIcon() !== this.markerIcon) {\r\n                    marker.setIcon(this.markerIcon);\r\n                }\r\n            }\r\n            this.updateMapControlPosition(80);\r\n        }\r\n    }\r\n\r\n    updateMapControlPosition(bottom = 140) {\r\n        let mapCtrls = this.mapView.getElementsByClassName('BMap_noprint');\r\n        for (let i = 0; i < mapCtrls.length; i++) {\r\n            let ctrl: any = mapCtrls[i];\r\n            ctrl.style.cssText += 'bottom: ' + bottom + 'px;';\r\n        }\r\n    }\r\n    markerTapped(index) {\r\n        this.updateMapControlPosition();\r\n        for (let i = 0; i < this.markers.length; i++) {\r\n            let marker = this.markers[i];\r\n            if (index === i) {\r\n                marker.setIcon(this.selectedMarkerIcon);\r\n            }\r\n            else if (marker.getIcon() !== this.markerIcon) {\r\n                marker.setIcon(this.markerIcon);\r\n            }\r\n        }\r\n        let selectedItem = this.toMapSelectedItem(this.props.dataList[index]);\r\n        this.props.dispatch(selectedItemChangeAction(selectedItem));\r\n    }\r\n\r\n    getSearchTypeName()\r\n    {\r\n        let searchType = this.props.searchType;\r\n        let searchTypeName = '';\r\n        for (let i = 0; i < this.typeObj.length; i++) {\r\n            let list = this.typeObj[i].list;\r\n            for (let j = 0; j < list.length; j++) {\r\n                let item = list[j];\r\n                if (item.type === searchType) {\r\n                    searchTypeName = item.name;\r\n                    break;\r\n                }\r\n            }\r\n            if (searchTypeName && searchTypeName.length > 0) {\r\n                break;\r\n            }\r\n        }\r\n        return searchTypeName;\r\n    }\r\n\r\n    toMapSelectedItem(item) {\r\n        let name;\r\n        let code;\r\n        let distance;\r\n        let telephone;\r\n        let address;\r\n        let latitude;\r\n        let longitude;\r\n        let imageUrl;\r\n        let searchType = this.props.searchType;\r\n        let searchTypeName = this.getSearchTypeName();\r\n        item.Distance = item.Distance ? item.Distance : item.distance;\r\n        item.distance = item.distance ? item.distance : item.Distance;\r\n\r\n        if (searchType === 'scenic' || searchType === 'hotel') {\r\n            name = item.CnName;\r\n            code = item.Code;\r\n            distance = item.Distance.toFixed(1) + '千米';\r\n            telephone = searchType === 'scenic' ? item.ShopTelePhone : item.Telephone;\r\n            address = item.Address && item.Address.length > 0 ? item.Address : '地址暂无';\r\n            latitude = item.Latitude;\r\n            longitude = item.Longitude;\r\n            if (item.GetImage) {\r\n                imageUrl = item.GetImage.ImageFrontUrl;\r\n            }\r\n        }\r\n        else if ( searchType === 'food' || searchType === 'shopping' || searchType === 'fun' )\r\n        {\r\n            name = item.CnName;\r\n            code = item.Code;\r\n            distance = item.distance.toFixed(1) + '千米';\r\n            telephone = searchType === 'food' ? item.ReservationCall : item.Telephone;\r\n            address = item.Address && item.Address.length > 0 ? item.Address : '地址暂无';\r\n            latitude = item.Latitude;\r\n            longitude = item.Longitude;\r\n            if (item.GetImage) {\r\n                imageUrl = item.GetImage.SmallImageFrontUrl;\r\n            }\r\n        }else{\r\n            name = item.cnName;\r\n            code = item.code;\r\n            distance = item.distance.toFixed(1) + '千米';\r\n            telephone = null;\r\n            address = item.address && item.address.length > 0 ? item.address :  ( searchTypeName.replace('/',',') + '  地址暂无') ;\r\n            latitude = item.latitude;\r\n            longitude = item.longitude;\r\n            if (item.images) {\r\n                imageUrl = item.images.smallImageFrontUrl;\r\n            }\r\n        }\r\n        let selectedItem = {\r\n            name: name,\r\n            code: code,\r\n            distance: distance,\r\n            telephone: telephone,\r\n            address: address,\r\n            latitude: latitude,\r\n            longitude: longitude,\r\n            imageUrl: imageUrl,\r\n            type: searchType\r\n        };\r\n        return selectedItem;\r\n    }\r\n\r\n    searchTypeButtonTapped(searchType) {\r\n        this.deSelectPoi();\r\n        if (this.props.searchType !== searchType) {\r\n            //清空关键字\r\n            if (this.props.keywords && this.props.keywords.length > 0)\r\n            {\r\n                this.props.dispatch(keywordChangeAction('')).then( () => {\r\n                    return this.props.dispatch(searchTypeChangeAction(searchType));\r\n                });\r\n            }else{\r\n                this.props.dispatch(searchTypeChangeAction(searchType));\r\n            }\r\n        }\r\n    }\r\n\r\n    // 保存 地图中心点 和 缩放级\r\n    setMapZoomAndCenterLocation()\r\n    {\r\n        if (!this.map)\r\n        {\r\n            return;\r\n        }\r\n        let centerPoint = this.map.getCenter();\r\n        let mapZoom = this.map.getZoom();\r\n        let centerLat = centerPoint.lat;\r\n        let centerLng = centerPoint.lng;\r\n        this.props.dispatch(mapZoomAndCenterLocationChangeAction(mapZoom,centerLat,centerLng));\r\n    }\r\n\r\n    // 电话\r\n    dailPhone()\r\n    {\r\n        this.setMapZoomAndCenterLocation();\r\n        let detailItem = this.props.selectedItem;\r\n        if ( detailItem.telephone && detailItem.telephone.length > 0 )\r\n        {\r\n            window.open(`tel://${detailItem.telephone}`, '_self');    \r\n        }\r\n    }\r\n\r\n    // 导航\r\n    navTo()\r\n    {\r\n        this.setMapZoomAndCenterLocation();\r\n        let detailItem = this.props.selectedItem;\r\n        if (detailItem.latitude && detailItem.latitude > 0 && detailItem.longitude && detailItem.longitude > 0)\r\n        {\r\n            // this.props.history.push(`/map/elementMarker/${detailItem.code}/${detailItem.name}/${detailItem.address}/${detailItem.latitude}/${detailItem.longitude}`);\r\n            //导航点击\r\n            this.props.history.push(`/map/mapNav/${detailItem.code}/${detailItem.latitude}/${detailItem.longitude}`);\r\n        }\r\n    }\r\n\r\n    // 详情\r\n    showDetails()\r\n    {\r\n        if (this.isEntitySearchType())\r\n        {\r\n            return;\r\n        }\r\n\r\n        this.setMapZoomAndCenterLocation();\r\n        let detailItem = this.props.selectedItem;\r\n        let searchType = this.props.searchType;\r\n        if (searchType === 'scenic')\r\n        {\r\n            this.props.history.push(`/scenic/detail/${detailItem.code}`);\r\n        }\r\n        else if ( searchType === 'hotel' )\r\n        {\r\n            this.props.history.push(`/hotel/detail/${detailItem.code}`);\r\n        }\r\n        else if ( searchType === 'food' )\r\n        {\r\n            this.props.history.push(`/restaurant/detail/${detailItem.code}`);\r\n        }\r\n        else if ( searchType === 'shopping' )\r\n        {\r\n            this.props.history.push(`/shopping/detail/${detailItem.code}`);\r\n        }\r\n        else if ( searchType === 'fun' )\r\n        {\r\n            this.props.history.push(`/fun/detail/${detailItem.code}`);\r\n        }\r\n    }\r\n}\r\n\r\nconst mapStateToProps = function (state, ownProps) {\r\n    let obj = state.map.elementMap;\r\n    return {\r\n        ...obj,\r\n        baiduMapInited: state.system.baiduMapInited,\r\n        markerClusterInited: state.system.markerClusterInited,\r\n        lat: state.system.latitude,\r\n        lng: state.system.longitude,\r\n    };\r\n};\r\n\r\nElementMapScreen = connect(mapStateToProps)(ElementMapScreen);\r\n\r\nexport default ElementMapScreen;\n\n\n// WEBPACK FOOTER //\n// ./src/screens/map/ElementMapScreen.js","import * as IConstant from '../../../core/utils/IConstant';\r\nimport HttpClient from '../../../core/utils/HttpClient';\r\n\r\nexport function goBackAction()\r\n{\r\n    return {\r\n        type: IConstant.Actions.MAP.ELEMENTMAP.GO_BACK,\r\n    };\r\n}\r\n\r\nexport function isPanelShowingChangeAction(isPanelShowing)\r\n{\r\n    return {\r\n        type: IConstant.Actions.MAP.ELEMENTMAP.IS_PANEL_SHOWING_CHANGE,\r\n        isPanelShowing: isPanelShowing,\r\n    };\r\n}\r\n\r\nexport function isFetchingChangeAction(isFetching)\r\n{\r\n    return {\r\n        type: IConstant.Actions.MAP.ELEMENTMAP.IS_FETCHING_CHANGE,\r\n        isFetching:isFetching\r\n    };\r\n}\r\n\r\nexport function keywordChangeAction(keywords)\r\n{\r\n    return function(dispatch, getState)\r\n    {\r\n        dispatch(setKeywordsAction(keywords));\r\n        return new Promise((resolve)=>{\r\n            resolve();\r\n        });\r\n    };\r\n}\r\n\r\nfunction setKeywordsAction(keywords)\r\n{\r\n    return {\r\n        type: IConstant.Actions.MAP.ELEMENTMAP.KEYWORDS_CHANGE,\r\n        keywords: keywords,\r\n    };\r\n}\r\n\r\nexport function mapZoomAndCenterLocationChangeAction(mapZoom,centerLat,centerLng)\r\n{\r\n    return function(dispatch, getState)\r\n    {\r\n        dispatch(_mapZoomAndCenterLocationChangeAction(mapZoom,centerLat,centerLng));\r\n        return new Promise((resolve)=>{\r\n            resolve();\r\n        });\r\n    };\r\n    \r\n}\r\n\r\nfunction _mapZoomAndCenterLocationChangeAction(mapZoom,centerLat,centerLng)\r\n{\r\n    return {\r\n        type: IConstant.Actions.MAP.ELEMENTMAP.MAPZOOM_AND_CENTERLOCATION_CHANGE,\r\n        mapZoom:mapZoom,\r\n        centerLat: centerLat,\r\n        centerLng: centerLng\r\n    };\r\n}\r\n\r\nexport function searchTypeChangeAction(searchType)\r\n{\r\n    return {\r\n        type: IConstant.Actions.MAP.ELEMENTMAP.SEARCHTYPE_CHANGE,\r\n        searchType: searchType,\r\n    };\r\n}\r\n\r\nexport function asyncGetListAction(searchType, keywords,lat,lng)\r\n{\r\n    return function(dispatch, getState)\r\n    {\r\n        dispatch(_getListRequestAction(searchType, keywords,lat,lng));\r\n        return _fetchList(searchType, keywords,lat,lng).then((resp)=>{\r\n            dispatch(_getListSuccessAction(searchType, keywords,lat,lng, resp));\r\n        }).catch((error)=>{\r\n            dispatch(_getListFailureAction(searchType, keywords,lat,lng, error));\r\n        });\r\n    };\r\n}\r\n\r\nexport function selectedItemChangeAction(selectedItem)\r\n{\r\n    return {\r\n        type: IConstant.Actions.MAP.ELEMENTMAP.SELECTEDITEM_CHANGE,\r\n        selectedItem: selectedItem,\r\n    };\r\n}\r\n\r\nfunction _fetchList(searchType, keywords,lat,lng)\r\n{\r\n    if (searchType === 'scenic')\r\n    {\r\n        return _fetchScenicList(searchType,keywords,lat,lng);\r\n    }\r\n    else if (searchType === 'hotel')\r\n    {\r\n        return _fetchHotelList(searchType,keywords,lat,lng);\r\n    }\r\n    else if (searchType === 'food')\r\n    {\r\n        return _fetchFoodList(searchType,keywords,lat,lng);\r\n    }\r\n    else if (searchType === 'shopping')\r\n    {\r\n        return _fetchShoppingList(searchType,keywords,lat,lng);\r\n    }\r\n    else if (searchType === 'fun')\r\n    {\r\n        return _fetchFunList(searchType,keywords,lat,lng);\r\n    }\r\n    else\r\n    {\r\n        return _fetchEntityList(searchType,keywords,lat,lng);\r\n    }\r\n}\r\n\r\nfunction _fetchScenicList(searchType, keywords,lat,lng)\r\n{\r\n    let url = HttpClient.HOST_E_BUSINESS + '/api/Attractions/GetAttractionsList';\r\n    let conditionParams = {\r\n        Order: [],\r\n        Page: {\r\n            PageIndex: 1,\r\n            PageSize: 10000,\r\n        },\r\n        Search: [],\r\n    };\r\n    if (keywords && keywords.length > 0)\r\n    {\r\n        let search = {\r\n            AndOR: 'and',\r\n            SearchField: 'Keyword',\r\n            ConditionType: '1',\r\n            ListSearchValue:[{\r\n                ItemValue: keywords\r\n            }]\r\n        };\r\n        conditionParams.Search.push(search);\r\n    }\r\n    let kvDict = {\r\n        type: 'app',\r\n        conditionParams: conditionParams,\r\n        lat: lat,\r\n        lng: lng,\r\n    };\r\n    return HttpClient.getData(url, kvDict)\r\n        .then((resp) => resp.json());\r\n}\r\n\r\nfunction _fetchHotelList(searchType, keywords,lat,lng)\r\n{\r\n    let url = HttpClient.HOST_E_BUSINESS + '/api/Hotel/GetHoteList';\r\n    let conditionParams = {\r\n        Order: [],\r\n        Page: {\r\n            PageIndex: 1,\r\n            PageSize: 10000,\r\n        },\r\n        Search: [{\r\n            AndOR: 'and',\r\n            ConditionType: '1',\r\n            SearchField: 'StartDate',\r\n            ListSearchValue: [{\r\n                ItemValue: new Date().formatDate('YYYY-MM-DD')\r\n            }]\r\n        }, {\r\n            AndOR: 'and',\r\n            ConditionType: '1',\r\n            SearchField: 'EndDate',\r\n            ListSearchValue: [{\r\n                ItemValue: new Date().addDays(1).formatDate('YYYY-MM-DD')\r\n            }]\r\n        }],\r\n    };\r\n    if (keywords && keywords.length > 0)\r\n    {\r\n        let search = {\r\n            AndOR: 'and',\r\n            SearchField: 'HotelKey',\r\n            ConditionType: '1',\r\n            ListSearchValue:[{\r\n                ItemValue: keywords\r\n            }]\r\n        };\r\n        conditionParams.Search.push(search);\r\n    }\r\n    let kvDict = {\r\n        type: 'app',\r\n        conditionParams: conditionParams,\r\n        lat: lat,\r\n        lng: lng,\r\n    };\r\n    return HttpClient.getData(url, kvDict)\r\n        .then((resp) => resp.json());\r\n}\r\n\r\nfunction _fetchFoodList(searchType, keywords,lat,lng)\r\n{\r\n    let url = HttpClient.HOST_PORTAL2 + '/api/Restaurant/GetList';\r\n    let conditionParams = {\r\n        Order: [],\r\n        Page: {\r\n            PageIndex: 1,\r\n            PageSize: 10000,\r\n        },\r\n        Search: [],\r\n    };\r\n    if (keywords && keywords.length > 0)\r\n    {\r\n        let search = {\r\n            AndOR: 'and',\r\n            SearchField: 'CnName, EnName, Address, ReservationCall, RestaurantFeature,Tags',\r\n            ConditionType: '2',\r\n            ListSearchValue:[{\r\n                ItemValue: keywords\r\n            }]\r\n        };\r\n        conditionParams.Search.push(search);\r\n    }\r\n    let kvDict = {\r\n        type: 'app',\r\n        conditionParams: conditionParams,\r\n        lat: lat,\r\n        lng: lng,\r\n    };\r\n    return HttpClient.getData(url, kvDict)\r\n        .then((resp) => resp.json());\r\n}\r\n\r\nfunction _fetchShoppingList(searchType, keywords,lat,lng)\r\n{\r\n    let url = HttpClient.HOST_PORTAL2 + '/api/Business/GetList';\r\n    let conditionParams = {\r\n        Order: [],\r\n        Page: {\r\n            PageIndex: 1,\r\n            PageSize: 10000,\r\n        },\r\n        Search: [],\r\n    };\r\n    if (keywords && keywords.length > 0)\r\n    {\r\n        let search = {\r\n            AndOR: 'and',\r\n            SearchField: 'CnName,EnName,FeatureDesc,Address,Telephone,Tags',\r\n            ConditionType: '2',\r\n            ListSearchValue:[{\r\n                ItemValue: keywords\r\n            }]\r\n        };\r\n        conditionParams.Search.push(search);\r\n    }\r\n    let kvDict = {\r\n        type: 'app',\r\n        conditionParams: conditionParams,\r\n        lat: lat,\r\n        lng: lng,\r\n    };\r\n    return HttpClient.getData(url, kvDict)\r\n        .then((resp) => resp.json());\r\n}\r\n\r\nfunction _fetchFunList(searchType, keywords,lat,lng)\r\n{\r\n    let url = HttpClient.HOST_PORTAL2 + '/Api/Entertainment/GetList';\r\n    let conditionParams = {\r\n        Order: [],\r\n        Page: {\r\n            PageIndex: 1,\r\n            PageSize: 10000,\r\n        },\r\n        Search: [],\r\n    };\r\n    if (keywords && keywords.length > 0)\r\n    {\r\n        let search = {\r\n            AndOR: 'and',\r\n            SearchField: 'cnName',\r\n            ConditionType: '1',\r\n            ListSearchValue:[{\r\n                ItemValue: keywords\r\n            }]\r\n        };\r\n        conditionParams.Search.push(search);\r\n    }\r\n    let kvDict = {\r\n        type: 'app',\r\n        conditionParams: conditionParams,\r\n        lat: lat,\r\n        lng: lng,\r\n    };\r\n    return HttpClient.getData(url, kvDict)\r\n        .then((resp) => resp.json());\r\n}\r\n\r\nfunction _fetchEntityList(searchType, keywords,lat,lng)\r\n{\r\n    let entityType = _geEntityType(searchType);\r\n    let kvDict = {\r\n        content:{\r\n            type:1,\r\n            Code:'DC_web_base_facility',\r\n            whereSQL : 'Type:' + entityType,\r\n            orderType : 'desc',\r\n            orderField: 'distance',\r\n            pageIndex: 1,\r\n            pageSize: 10000,\r\n            lng: lat,\r\n            lat: lng,\r\n        }\r\n    };\r\n    return HttpClient.requestDataCenter('DC_DATACENT_ENTITY',kvDict)\r\n        .then((resp) => resp.json());\r\n}\r\n\r\nfunction _geEntityType(searchType)\r\n{\r\n    let entityType = 1;\r\n    if (searchType === 'stadiumAmusementPark')\r\n    {\r\n        entityType = 8;\r\n    }\r\n    else if (searchType === 'barbecueNightMarket')\r\n    {\r\n        entityType = 9;\r\n    }\r\n    else if (searchType === 'publicToilet')\r\n    {\r\n        entityType = 1;\r\n    }\r\n    else if (searchType === 'bicycle')\r\n    {\r\n        entityType = 2;\r\n    }\r\n    else if (searchType === 'parking')\r\n    {\r\n        entityType = 3;\r\n    }\r\n    else if (searchType === 'hospital')\r\n    {\r\n        entityType = 4;\r\n    }\r\n    else if (searchType === 'busStation')\r\n    {\r\n        entityType = 5;\r\n    }\r\n    else if (searchType === 'express')\r\n    {\r\n        entityType = 6;\r\n    }\r\n    else if (searchType === 'repairFactory')\r\n    {\r\n        entityType = 7;\r\n    }\r\n    else if (searchType === 'market')\r\n    {\r\n        entityType = 10;\r\n    }\r\n    return entityType;\r\n}\r\n\r\nfunction _getListRequestAction(searchType, keywords,lat,lng)\r\n{\r\n    return {\r\n        type: IConstant.Actions.MAP.ELEMENTMAP.GET_LIST_REQUEST,\r\n        searchType: searchType,\r\n        keywords: keywords,\r\n    };\r\n}\r\n\r\nfunction _getListSuccessAction(searchType, keywords,lat,lng,resp)\r\n{\r\n    return {\r\n        type: IConstant.Actions.MAP.ELEMENTMAP.GET_LIST_SUCCESS,\r\n        searchType: searchType,\r\n        keywords: keywords,\r\n        result:resp\r\n    };\r\n}\r\n\r\nfunction _getListFailureAction(searchType, keywords,lat,lng, error)\r\n{\r\n    return {\r\n        type: IConstant.Actions.MAP.ELEMENTMAP.GET_LIST_FAILURE,\r\n        searchType: searchType,\r\n        keywords: keywords,\r\n        message: error\r\n    };\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/store/actions/map/elementMapAction.js","module.exports = __webpack_public_path__ + \"static/media/ico_map_phone@2x.02235dc5.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/images/map/ico_map_phone@2x.png\n// module id = 908\n// module chunks = 1","module.exports = __webpack_public_path__ + \"static/media/ico_map_go@2x.a847eed7.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/images/map/ico_map_go@2x.png\n// module id = 909\n// module chunks = 1","module.exports = __webpack_public_path__ + \"static/media/ico_map_detail@2x.8a6f5193.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/images/map/ico_map_detail@2x.png\n// module id = 910\n// module chunks = 1","module.exports = __webpack_public_path__ + \"static/media/common_poi_selected@2x.38730eb3.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/images/map/common_poi_selected@2x.png\n// module id = 911\n// module chunks = 1"],"sourceRoot":""}