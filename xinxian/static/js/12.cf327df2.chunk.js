webpackJsonp([12],{858:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(31),c=(n.n(i),n(32)),s=n.n(c),l=n(37),u=(n.n(l),n(38)),p=n.n(u),d=n(11),h=(n.n(d),n(12)),f=n.n(h),b=n(39),y=(n.n(b),n(40)),w=n.n(y),g=n(9),k=(n.n(g),n(10)),m=n.n(k),v=n(0),I=n.n(v),C=n(2),x=n(13),O=n(275),j=n(21),B=n(276),E=n(46),_=n.n(E),T=n(272),K=(n.n(T),function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}()),P=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.tabs=[{title:"\u7efc\u5408",tabIndex:0},{title:"\u8bc4\u5206",tabIndex:1},{title:"\u4ef7\u683c",tabIndex:2},{title:"\u8ddd\u79bb",tabIndex:3},{title:"\u6700\u65b0",tabIndex:4}],n.onItemClick=n.onItemClick.bind(n),n.goBack=n.goBack.bind(n),n}return r(t,e),K(t,[{key:"render",value:function(){var e=this,t=window.innerHeight-89,n=window.innerHeight-133,o=_.a.parse(this.props.location.search);return I.a.createElement("div",null,I.a.createElement(f.a,{mode:"dark",className:"navBar",icon:I.a.createElement(m.a,{type:"left"}),onLeftClick:this.goBack},o&&o.segment?I.a.createElement(w.a,{values:["\u975e\u6e38\u4e0d\u53ef","\u5168\u90e8\u666f\u533a"],tintColor:"white",selectedIndex:1,onValueChange:this.goBack}):"\u666f\u533a\u5217\u8868"),I.a.createElement(x.a,null,I.a.createElement(p.a,{placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57",maxLength:20,value:this.props.keyword,onChange:function(t){e.updateKeyword(t)},onSubmit:function(t){e.updateKeyword(t),e.searchByKeyword(t)}}),I.a.createElement(s.a,{tabs:this.tabs,ref:function(e){return j.a.updateComponentHeight(e,t)},style:{height:t},initialPage:this.props.selectedTabIndex,prerenderingSiblingsNumber:0,onChange:function(t,n){e.props.dispatch(Object(B.f)(n)),e.searchByKeyword(e.props.keyword,n)},onTabClick:function(e,t){console.log("onTabClick",t,e)}},this.tabs.map(function(t,o){return I.a.createElement(O.a,{key:o,ref:function(t){t&&(e.tabs[o].listView=t.getWrappedInstance())},onItemClick:e.onItemClick,tabIndex:t.tabIndex,height:n})}))))}},{key:"updateKeyword",value:function(e){this.props.dispatch(Object(B.d)(e))}},{key:"searchByKeyword",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;t=void 0===t?this.props.selectedTabIndex:t;var n=this.tabs[t].listView;n&&n.searchByKeyword(e)}},{key:"onItemClick",value:function(e){if(e){for(var t=0;t<this.tabs.length;t++){var n=this.tabs[t].listView;n&&n.cacheScrollOffset()}this.props.history.push("/scenic/detail/"+e.Code)}}},{key:"goBack",value:function(){var e=this.props.dispatch;this.props.history.goBack(),e(Object(B.c)())}}]),t}(v.Component),S=function(e){return{selectedTabIndex:e.scenic.listScreen.selectedTabIndex,keyword:e.scenic.listScreen.keyword}};P=Object(C.b)(S)(P),t.default=P}});
//# sourceMappingURL=12.cf327df2.chunk.js.map